webpackJsonp([1,2],[,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(99),s=a(o),r=n(488),l=a(r),d=n(487),u=a(d),c=n(139),f=a(c),p=n(489),h=a(p),m=n(269),g=a(m),_=n(601),E=a(_),b=n(49),v=a(b),y=n(44),D=a(y),C=n(20),T=a(C),N=n(500),S=a(N);D.default.$=v.default,D.default.ajax=function(){return D.default.$.ajax.apply(D.default.$,arguments)},i(s.default,{Router:l.default,RouteObject:u.default,utils:f.default,Store:h.default,Events:T.default.extend({},D.default.Events),dispatcher:new E.default.Dispatcher,Promise:S.default}),s.default.constants=g.default,s.default.dispatch=T.default.bind(s.default.dispatcher.dispatch,s.default.dispatcher),s.default.navigate=function(e,t){var n=T.default.extend({trigger:!0},t);s.default.router.navigate(e,n),n.trigger&&s.default.router.trigger("trigger-update")},s.default.beforeUnload=function(){s.default.router.beforeUnload.apply(s.default.router,arguments)},s.default.removeBeforeUnload=function(){s.default.router.removeBeforeUnload.apply(s.default.router,arguments)},s.default.addRoute=function(e){s.default.router.route(e.route,e.name,e.callback)};var I={};s.default.registerUrls=function(e,t){I[e]=t},s.default.url={encode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/[$+\/]/g.test(e)?encodeURIComponent(e):e},decode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/[$+\/]/g.test(e)?decodeURIComponent(e):e}},s.default.urls=function(e,t){var n,a=s.default.getExtensions("urls:interceptors"),i=arguments;return T.default.find(a,function(e){var t=e.apply(null,i);return!!t&&(n=t,!0)}),T.default.isUndefined(n)?I[e]?I[e][t]?(i=Array.prototype.slice.call(arguments,2),n=I[e][t].apply(null,i)):(console.error("could not find context ",t),""):(console.error("could not find name ",e),""):n},s.default.getIndexTypePropNames=function(){var e=s.default.getExtensions("IndexTypes:propNames");return e.push("views"),e},t.default=s.default},,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(49);var o=n(490),s=a(o),r=n(20),l=a(r);n(491);var d=n(140),u=a(d),c=n(139),f=a(c),p=n(1),h=a(p),m=n(270),g=a(m);if(n(586),l.default.isUndefined(console)&&(console={log:function(){},trace:function(){},debug:function(){}}),l.default.isUndefined(window.location.origin)){var _="";window.location.port&&(_=":"+window.location.port),window.location.origin=window.location.protocol+"//"+window.location.hostname+_}i(s.default,{utils:f.default,getParams:h.default.utils.getParams,helpers:u.default}),h.default.setSession(new g.default.Session),h.default.config({addHeaderLink:function(e){h.default.dispatch({type:"ADD_NAVBAR_LINK",link:e})},updateHeaderLink:function(e){h.default.dispatch({type:"UPDATE_NAVBAR_LINK",link:e})},removeHeaderLink:function(e){h.default.dispatch({type:"REMOVE_NAVBAR_LINK",link:e})}}),t.default=s.default},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(409),i=n(217),o=n(410),s=n(418),r=n(216),l=n(411),d=n(129),u=n(219),c=n(213),f=n(416),p=n(414),h=n(215),m=n(412),g=n(415),_=n(218),E=n(212),b=n(413),v=n(130),y=n(417),D=n(214),C=n(419);t.default={BadgeList:a.BadgeList,Badge:a.Badge,BulkActionComponent:o.BulkActionComponent,ConfirmButton:m.ConfirmButton,ToggleHeaderButton:i.ToggleHeaderButton,StyledSelect:s.StyledSelect,CodeEditorPanel:l.CodeEditorPanel,CodeEditor:d.CodeEditor,StringEditModal:r.StringEditModal,ZenModeOverlay:u.ZenModeOverlay,Beautify:c.Beautify,PaddedBorderedBox:f.PaddedBorderedBox,Polling:y.Polling,Document:p.Document,LoadLines:h.LoadLines,MenuDropDown:g.MenuDropDown,TrayContents:_.TrayContents,TrayWrapper:_.TrayWrapper,connectToStores:_.connectToStores,ApiBarController:E.ApiBarController,DeleteDatabaseModal:b.DeleteDatabaseModal,TabElement:v.TabElement,TabElementWrapper:v.TabElementWrapper,RefreshBtn:y.RefreshBtn,Copy:D.Copy,TabWindowWrapper:C.TabWindowWrapper}},,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DocEditorLayout=t.DocEditorContent=t.OnePaneSimpleLayout=t.OnePaneFooter=t.OnePaneContent=t.OnePaneHeader=t.OnePane=t.ApiBarWrapper=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(78)),l=n(212),d=n(95),u=n(50),c=a(u),f=t.ApiBarWrapper=function(e){var t=e.docURL,n=e.endpoint;return setTimeout(function(){c.default.updateAPIBar({buttonVisible:!0,contentVisible:!1,endpoint:n,docURL:t})}),o.default.createElement("div",{id:"api-navbar"},o.default.createElement(l.ApiBarController,{buttonVisible:!0,contentVisible:!1}))},p=t.OnePane=function(e){var t=e.children;return o.default.createElement("div",{id:"dashboard",className:"one-pane "},t)},h=t.OnePaneHeader=function(e){var t=e.showApiUrl,n=e.docURL,a=e.endpoint,i=e.crumbs,s=e.children;return o.default.createElement("header",null,o.default.createElement("div",{className:"flex-layout flex-row"},o.default.createElement("div",{id:"breadcrumbs",className:"flex-body"},o.default.createElement(d.Breadcrumbs,{crumbs:i})),o.default.createElement("div",{id:"right-header"},o.default.createElement("div",{className:"right-header-flex"},s)),t?o.default.createElement(f,{docURL:n,endpoint:a}):null,o.default.createElement("div",{id:"notification-center-btn"},o.default.createElement(r.NotificationCenterButton,null))))};h.defaultProps={showApiUrl:!0,crumbs:[]},h.propTypes={docURL:o.default.PropTypes.string,endpoint:o.default.PropTypes.string,crumbs:o.default.PropTypes.array};var m=t.OnePaneContent=function(e){var t=e.children;return o.default.createElement("div",{className:"content-area container-fluid"},o.default.createElement("div",{id:"tabs"}),o.default.createElement("div",{id:"dashboard-content",className:"scrollable"},t))},g=t.OnePaneFooter=function(e){var t=e.children;return o.default.createElement("div",{className:"faux__onepane-footer"},t)},_=(t.OnePaneSimpleLayout=function(e){var t=e.component,n=e.docUrl,a=e.endpoint,i=e.crumbs;return o.default.createElement(p,null,o.default.createElement(h,{crumbs:i,endpoint:a,docUrl:n}),o.default.createElement(m,null,t),o.default.createElement(g,null))},t.DocEditorContent=function(e){var t=e.children;return o.default.createElement("div",{id:"dashboard-content"},t)});t.DocEditorLayout=function(e){var t=e.component,n=e.docUrl,a=e.endpoint,i=e.crumbs;return o.default.createElement("div",{id:"dashboard",className:"one-pane doc-editor-page"},o.default.createElement(h,{crumbs:i,endpoint:a,docUrl:n}),o.default.createElement(_,null,t))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(97),d=a(l),u=n(271),c=a(u);d.default.UUID=r.default.Model.extend({initialize:function(e){e=_.extend({count:1},e),this.count=e.count},url:function(){return o.default.host+"/_uuids?count="+this.count},next:function(){return this.get("uuids").pop()}}),d.default.QueryParams=function(){var e=function(e,t){var n=_.clone(e);return _.each(["startkey","endkey","key"],function(e){_.has(n,e)&&(n[e]=t(n[e]))}),n};return{parse:function(t){return e(t,JSON.parse)},stringify:function(t){return e(t,JSON.stringify)}}}(),d.default.DdocInfo=r.default.Model.extend({idAttribute:"_id",documentation:function(){return r.default.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.database=t.database},url:function(e){return e||(e="server"),r.default.urls("designDocs",e,this.database.safeID(),this.safeID())},safeID:function(){var e=this.id.replace(/^_design\//,"");return"_design/"+o.default.utils.safeURLName(e)}}),d.default.MangoIndex=d.default.Doc.extend({idAttribute:"ddoc",getId:function(){return this.id?this.id:"_all_docs"},isNew:function(){return!0},isDeletable:function(){return"special"!==this.get("type")},isBulkDeletable:function(){return this.isDeletable()},isFromView:function(){return!1},url:function(){var e=this.database.safeID();return r.default.urls("mango","index-server",e)}}),d.default.MangoIndexCollection=c.default.extend({model:d.default.MangoIndex,initialize:function(e,t){var n=r.default.constants.MISC.DEFAULT_PAGE_SIZE;this.database=t.database,this.params=_.extend({limit:n},t.params)},collectionType:"MangoIndex",url:function(){return this.urlRef.apply(this,arguments)},updateSeq:function(){return!1},isEditable:function(){return!1},parse:function(e){return e.indexes},urlRef:function(e){var t=this.database.safeID();return e||(e="index-server"),r.default.urls("mango",e,t,"")}}),d.default.MangoDoc=d.default.Doc.extend({isMangoDoc:function(){return!0}}),d.default.MangoDocumentCollection=c.default.extend({model:d.default.MangoDoc,collectionType:"MangoDocumentCollection",initialize:function(e,t){var n=r.default.constants.MISC.DEFAULT_PAGE_SIZE;this.database=t.database,this.params=_.extend({limit:n},t.params),this.paging=_.defaults(t.paging||{},{defaultParams:_.defaults({},t.params),hasNext:!1,hasPrevious:!1,params:{},pageSize:r.default.constants.MISC.DEFAULT_PAGE_SIZE,direction:void 0}),this.paging.params=_.clone(this.paging.defaultParams)},url:function(){return this.urlRef.apply(this,arguments)},updateSeq:function(){return!1},isEditable:function(){return!0},setQuery:function(e){return this.query=e,this},pageSizeReset:function(e,t){var n=_.defaults(t||{},{fetch:!0});if(this.paging.direction=void 0,this.paging.pageSize=e,this.paging.params=this.paging.defaultParams,this.paging.params.limit=e,n.fetch)return this.fetch()},_iterate:function(e){return this.paging.params=this.calculateParams(this.paging.params,e,this.paging.pageSize),this.fetch()},getPaginatedQuery:function(){var e=JSON.parse(JSON.stringify(this.query));return!this.paging.direction&&this.paging.params.limit>0&&(this.paging.direction="fetch",this.paging.params.limit=this.paging.params.limit+1),e.limit||(e.limit=this.paging.params.limit),e.skip||(e.skip=this.paging.params.skip),e},fetch:function(){var e=this.urlRef(),t=r.default.Deferred(),n=this.getPaginatedQuery();return $.ajax({type:"POST",url:e,contentType:"application/json",dataType:"json",data:JSON.stringify(n)}).then(function(e){this.handleResponse(e,t)}.bind(this)).fail(function(e){t.reject(e.responseJSON)}.bind(this)),t},parse:function(e){var t=e.docs;this.paging.hasNext=this.paging.hasPrevious=!1,this.viewMeta={total_rows:e.total_rows,offset:e.offset,update_seq:e.update_seq};var n=this.paging.defaultParams.skip||0;return this.paging.params.skip>n&&(this.paging.hasPrevious=!0),t.length===this.paging.pageSize+1&&(this.paging.hasNext=!0,t.pop(),this.viewMeta.total_rows=this.viewMeta.total_rows-1),t},handleResponse:function(e,t){var n=this.parse(e);this.reset(n),t.resolve()},urlRef:function(e){var t=this.database.safeID();return e||(e="query-server"),r.default.urls("mango",e,t,"")}}),d.default.NewDoc=d.default.Doc.extend({fetch:function(){var e=new d.default.UUID,t=this.deferred=$.Deferred(),n=this;return e.fetch().done(function(){n.set("_id",e.next()),t.resolve()}),t.promise()}}),d.default.BulkDeleteDoc=r.default.Model.extend({idAttribute:"_id"}),d.default.BulkDeleteDocCollection=r.default.Collection.extend({model:d.default.BulkDeleteDoc,sync:function(){},initialize:function(e,t){this.databaseId=t.databaseId},url:function(){return r.default.urls("bulk_docs","server",this.databaseId,"")},bulkDelete:function(){var e=this.createPayload(this.toJSON()),t=r.default.Deferred(),n=this;return $.ajax({type:"POST",url:this.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(e)}).then(function(e){n.handleResponse(e,t)}).fail(function(){var e=_.reduce(n.toArray(),function(e,t){return e.push(t.id),e},[]);n.trigger("error",e),t.reject(e)}),t},handleResponse:function(e,t){var n=_.reduce(e,function(e,t){return t.error&&e.errorIds.push(t.id),t.error||e.successIds.push(t.id),e},{errorIds:[],successIds:[]});this.removeDocuments(n.successIds),n.errorIds.length&&this.trigger("error",n.errorIds),_.isEmpty(n.successIds)?t.reject(n.errorIds):t.resolve(n),this.trigger("updated")},removeDocuments:function(e){_.each(e,function(e){this.remove(this.get(e))},this),this.trigger("removed",e)},createPayload:function(e){return{docs:e}}}),d.default.MangoBulkDeleteDocCollection=d.default.BulkDeleteDocCollection.extend({url:function(){return o.default.host+"/"+this.databaseId+"/_index/_bulk_delete"},createPayload:function(e){return{docids:e.filter(function(e){return"_all_docs"!==e._id}).map(function(e){return e._id})}}}),d.default.IndexCollection=c.default.extend({model:d.default.Doc,documentation:function(){return r.default.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.database=t.database,this.params=_.extend({limit:20,reduce:!1},t.params),this.idxType="_view",this.view=t.view,this.design=t.design.replace("_design/",""),this.perPageLimit=t.perPageLimit||20,this.params.limit||(this.params.limit=this.perPageLimit)},isEditable:function(){return!this.params.reduce},urlRef:function(e,t){var n="";if(t)n=_.isEmpty(t)?"":$.param(t);else if(this.params){var a=d.default.QueryParams.stringify(this.params);n=$.param(a)}e||(e="server");var i=this.database.safeID(),s=o.default.utils.safeURLName(this.design),l=o.default.utils.safeURLName(this.view),u=r.default.urls("view",e,i,s,l);return u.indexOf("?")>-1?u+"&"+n:u+"?"+n},url:function(){return this.urlRef.apply(this,arguments)},totalRows:function(){return this.params.reduce?"unknown_reduce":this.viewMeta.total_rows||"unknown"},updateSeq:function(){return!!this.viewMeta&&(this.viewMeta.update_seq||!1)},simple:function(){var e=this.map(function(e){return{_id:e.id,key:e.get("key"),value:e.get("value")}});return new d.default.IndexCollection(e,{database:this.database,params:this.params,view:this.view,design:this.design})},parse:function(){return this.endTime=(new Date).getTime(),this.requestDuration=this.endTime-this.startTime,c.default.prototype.parse.apply(this,arguments)},buildAllDocs:function(){this.fetch()},fetch:function(){return this.startTime=(new Date).getTime(),c.default.prototype.fetch.call(this)},allDocs:function(){return this.models},requestDurationInString:function(){var e,t,n,a,i,o=this.requestDuration;for(t=Math.floor(o/1e3),n=Math.floor(t/60),t=(t%60).toString(),t.length<2&&(t="0"+t),a=Math.floor(n/60).toString(),a.length<2&&(a="0"+a),n=(n%60).toString(),n.length<2&&(n="0"+n),i=a+":"+n+":"+t,e=(o%1e3).toString();e.length<3;)e="0"+e;return i+="."+e}}),t.default=d.default},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(241),d=a(l),u=n(237),c=a(u),f=n(247),p=a(f),h=n(245),m=a(h),g=n(30),E=a(g),b={},v=1e4;b.IndexResultsStore=r.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._collection=new(r.default.Collection.extend({url:""})),this._filteredCollection=[],this._bulkDeleteDocCollection=new E.default.BulkDeleteDocCollection([],{}),this.clearSelectedItems(),this._isLoading=!1,this._textEmptyIndex="No Documents Found",this._typeOfIndex="view",this._tableViewSelectedFields=[],this._isPrioritizedEnabled=!1,this._tableSchema=[],this._tableView=!1,this.resetPagination()},resetPagination:function(){this._pageStart=1,this._currentPage=1,this._enabled=!0,this._newView=!1,this._docLimit=_.isUndefined(this._docLimit)?v:this._docLimit,this.initPerPage()},setDocumentLimit:function(e){this._docLimit=e||v,this.initPerPage()},canShowPrevious:function(){return!!this._enabled&&!(!this._collection||!this._collection.hasPrevious)&&this._collection.hasPrevious()},canShowNext:function(){return this._enabled?!(this._pageStart+this._perPage>=this._docLimit)&&!(!this._collection||!this._collection.hasNext)&&this._collection.hasNext():this._enabled},paginateNext:function(){this._currentPage+=1,this._pageStart+=this.getPerPage(),this._collection.paging.pageSize=this.documentsLeftToFetch()},paginatePrevious:function(){this._currentPage-=1,this._pageStart=this._pageStart-this.getPerPage(),this._pageStart<1&&(this._pageStart=1),this._collection.paging.pageSize=this.getPerPage()},getCurrentPage:function(){return this._currentPage},totalDocsViewed:function(){return this._perPage*this._currentPage},documentsLeftToFetch:function(){var e=this._docLimit-this.totalDocsViewed();return e<this.getPerPage()?e:this._perPage},getPerPage:function(){return this._perPage},initPerPage:function(){var e=r.default.constants.MISC.DEFAULT_PAGE_SIZE;if(window.localStorage){var t=o.default.utils.localStorageGet("fauxton:perpage");t&&(e=parseInt(t,10))}this._docLimit<e&&(e=this._docLimit),this.setPerPage(e)},setPerPage:function(e){this._perPage=e,o.default.utils.localStorageSet("fauxton:perpage",e),this._collection&&this._collection.pageSizeReset&&this._collection.pageSizeReset(e,{fetch:!1})},getTotalRows:function(){return!!this._collection&&this._collection.length},getPageStart:function(){return this._pageStart},getPageEnd:function(){return!!this._collection&&this._pageStart+this._collection.length-1},clearSelectedItems:function(){this._bulkDeleteDocCollection.reset([])},newResults:function(e){function t(e){return e.get&&"function"==typeof e.get?"query"!==e.get("language"):"query"!==e.language}this._collection=e.collection,this._bulkDeleteDocCollection=e.bulkCollection,e.textEmptyIndex&&(this._textEmptyIndex=e.textEmptyIndex),e.typeOfIndex&&(this._typeOfIndex=e.typeOfIndex),this._cachedSelected=[],this._filteredCollection=this._collection.filter(t)},getTypeOfIndex:function(){return this._typeOfIndex},isEditable:function(e){return!!this._collection&&(!e||!this.isGhostDoc(e))&&!(e&&!e.get("_id"))&&!!this._collection.isEditable&&this._collection.isEditable()},isGhostDoc:function(e){return!e||!e.attributes||!Object.keys(e.attributes).length},isDeletable:function(e){return!this.isGhostDoc(e)&&e.isDeletable()},getCollection:function(){return this._collection},getBulkDocCollection:function(){return this._bulkDeleteDocCollection},getDocContent:function(e){var t=e.toJSON();return JSON.stringify(t,null," ")},getDocId:function(e){return _.isUndefined(e.id)?e.get("key")?e.get("key").toString():"":e.id},getMangoDocContent:function(e){var t=e.toJSON();return delete t.ddoc,delete t.name,JSON.stringify(t,null," ")},getMangoDoc:function(e,t){var n;return e.get("def")&&e.get("def").fields?(n=m.default.getIndexName(e),{content:this.getMangoDocContent(e),header:n,id:e.getId(),keylabel:"",url:e.isFromView()?e.url("app"):e.url("web-index"),isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}):{content:" ",header:n,id:this.getDocId(e)+t,keylabel:"",url:this.isEditable(e)?e.url("app"):null,isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}},getResults:function(){var e,t;return this.getIsTableView()?this.getTableViewData():(t=this._filteredCollection.map(function(e,t){return e.get("def")||this.isGhostDoc(e)?this.getMangoDoc(e,t):{content:this.getDocContent(e),id:this.getDocId(e),_rev:e.get("_rev"),header:this.getDocId(e),keylabel:e.isFromView()?"key":"id",url:this.getDocId(e)?e.url("app"):null,isDeletable:this.isDeletable(e),isEditable:this.isEditable(e)}},this),e=this.hasBulkDeletableDoc(this._filteredCollection),{displayedFields:this.getDisplayCountForTableView(),hasBulkDeletableDoc:e,results:t})},getPseudoSchema:function(e){var t=[];e.forEach(function(e){Object.keys(e).forEach(function(e){t.push(e)})}),t=_.uniq(t);var n=t.indexOf("_id");return-1!==n&&(t.splice(n,1),t.unshift("_id")),t},normalizeTableData:function(e,t){return t?e:e.map(function(e){return e.doc||e})},isIncludeDocsEnabled:function(){return!!o.default.getParams().include_docs},getPrioritizedFields:function(e,t){var n=e.reduce(function(e,t){return e=e.concat(Object.keys(t))},[]);return n=_.countBy(n,function(e){return e}),delete n._id,delete n.id,delete n._rev,n=Object.keys(n).reduce(function(e,t){return e.push([n[t],t]),e},[]),n=this.sortByTwoFields(n),n=n.slice(0,t),n.reduce(function(e,t){return e.push(t[1]),e},[])},sortByTwoFields:function(e){function t(e,n,a){return e[a]===n[a]?a<2?t(e,n,a+1):0:1===a?e[a]<n[a]?-1:1:e[a]<n[a]?1:-1}return e.sort(function(e,n){return t(e,n,0)})},hasIdOrRev:function(e){return-1!==e.indexOf("_id")||-1!==e.indexOf("id")||-1!==e.indexOf("_rev")},getNotSelectedFields:function(e,t){return _.without.bind(this,t).apply(this,e)},getDisplayCountForTableView:function(){var e,t;return this.getIsTableView()&&this.isIncludeDocsEnabled()?(t=_.uniq(this._tableViewSelectedFields).length,e=this._tableSchema.length,_.includes(this._tableSchema,"_id","_rev")&&(e-=1),_.includes(this._tableSchema,"_id","_rev")&&(t+=1),{shown:t,allFieldCount:e}):null},getTableViewData:function(){function e(e,t){return"MangoIndex"!==t?e:(e.id=e.ddoc,e)}function t(e,t){if(e)return"MangoIndex"!==t&&!!Object.keys(e).length&&!!e._id}function n(e,t){return"MangoIndex"===t?"special"!==e.type:!!e._id&&!!e._rev}var a,i,s,s,l,d,u,c=this.getDatabase(),f=!!this._collection.view,p=this._collection.collectionType;u=this._filteredCollection.map(function(t){return e(t.toJSON(),p)});var h=this.isIncludeDocsEnabled(),m=null;if(h){u=this.normalizeTableData(u,f),i=this.getPseudoSchema(u),s=this.hasIdOrRev(i),this._isPrioritizedEnabled||(this._tableViewSelectedFields=this._cachedSelected||[]),0===this._tableViewSelectedFields.length&&(l=this.getPrioritizedFields(u,s?4:5),this._tableViewSelectedFields=l,this._cachedSelected=this._tableViewSelectedFields);var g=_.without(i,"_id","_rev","_attachment");m=this.getNotSelectedFields(this._tableViewSelectedFields,g),this._isPrioritizedEnabled&&(m=null,this._tableViewSelectedFields=g)}else i=this.getPseudoSchema(u),this._tableViewSelectedFields=_.without(i,"_id","_rev","_attachment");this._notSelectedFields=m,this._tableSchema=i;var E=c.safeID();return a=u.map(function(e){var a,i=o.default.utils.getSafeIdForDoc(e._id||e.id);return i&&(a=r.default.urls("document","app",E,i)),{content:e,id:e._id||e.id,_rev:e._rev,header:"",keylabel:"",url:a,isDeletable:n(e,p),isEditable:t(e,p)}}.bind(this)),d=this.hasBulkDeletableDoc(this._filteredCollection),{notSelectedFields:m,hasMetadata:this.getHasMetadata(i),selectedFields:this._tableViewSelectedFields,hasBulkDeletableDoc:d,schema:i,results:a,displayedFields:this.getDisplayCountForTableView()}},changeTableViewFields:function(e){var t=e.newSelectedRow,n=e.index;this._tableViewSelectedFields[n]=t},getHasMetadata:function(e){return _.includes(e,"_id","_rev")},hasBulkDeletableDoc:function(e){var t,n=!1,a=e.length;for(t=0;t<a;t++)if(e[t].isBulkDeletable()){n=!0;break}return n},hasResults:function(){return this.isLoading()?this.isLoading():this._collection.length>0},isLoading:function(){return this._isLoading},selectDoc:function(e){if(e._id&&"_all_docs"!==e._id)return this._bulkDeleteDocCollection.get(e._id)?void this._bulkDeleteDocCollection.remove(e._id):void this._bulkDeleteDocCollection.add(e)},selectAllDocuments:function(){this.deSelectCurrentCollection(),this._collection.each(function(e){e.isBulkDeletable()&&this.selectDoc({_id:e.id,_rev:e.get("_rev"),_deleted:!0})},this)},deSelectCurrentCollection:function(){this._collection.each(function(e){e.isBulkDeletable()&&this._bulkDeleteDocCollection.remove(e.id)},this)},toggleSelectAllDocuments:function(){return this.areAllDocumentsSelected()?this.deSelectCurrentCollection():this.selectAllDocuments()},togglePrioritizedTableView:function(){this._isPrioritizedEnabled=!this._isPrioritizedEnabled},areAllDocumentsSelected:function(){if(0===this._collection.length)return!1;var e=!0,t=this._bulkDeleteDocCollection.pluck("_id");return this._collection.forEach(function(n){n.isBulkDeletable()&&(_.includes(t,n.id)||(e=!1))}.bind(this)),e},getSelectedItemsLength:function(){return this._bulkDeleteDocCollection.length},getDatabase:function(){return this._collection.database},getTextEmptyIndex:function(){return this._textEmptyIndex},hasSelectedItem:function(){return this.getSelectedItemsLength()>0},toggleTableView:function(e){if(e.enable)return void(this._tableView=!0);this._tableView=!1},getIsTableView:function(){return this._tableView},getIsPrioritizedEnabled:function(){return this._isPrioritizedEnabled},getCurrentViewType:function(){return this._tableView?"table":"expanded"},getShowPrioritizedFieldToggler:function(){return this.isIncludeDocsEnabled()&&this.getIsTableView()},clearResultsBeforeFetch:function(){this._collection&&this._collection.reset&&this._collection.reset(),this._isLoading=!0},resultsResetFromFetch:function(){this._isLoading=!1},dispatch:function(e){switch(e.type){case d.default.INDEX_RESULTS_NEW_RESULTS:this.newResults(e.options);break;case d.default.INDEX_RESULTS_RESET:this.resultsResetFromFetch();break;case d.default.INDEX_RESULTS_SELECT_DOC:this.selectDoc(e.options);break;case d.default.INDEX_RESULTS_CLEAR_RESULTS:this.clearResultsBeforeFetch();break;case d.default.INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS:this.toggleSelectAllDocuments();break;case d.default.INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE:this.changeTableViewFields(e.options);break;case d.default.INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW:this.togglePrioritizedTableView();break;case c.default.TOGGLE_TABLEVIEW:this.toggleTableView(e.options);break;case p.default.SET_PAGINATION_DOCUMENT_LIMIT:this.setDocumentLimit(e.docLimit);break;case p.default.PAGINATE_NEXT:this.paginateNext();break;case p.default.PAGINATE_PREVIOUS:this.paginatePrevious();break;case p.default.PER_PAGE_CHANGE:this.resetPagination(),this.setPerPage(e.perPage);break;default:return}this.triggerChange()}}),b.indexResultsStore=new b.IndexResultsStore,b.indexResultsStore.dispatchToken=r.default.dispatcher.register(b.indexResultsStore.dispatch),t.default=b},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){c.default.dispatch({type:p.default.CMPNTS_SHOW_API_BAR_BUTTON})}function o(){c.default.dispatch({type:p.default.CMPNTS_HIDE_API_BAR_BUTTON})}function s(e){c.default.dispatch({type:p.default.CMPNTS_SET_API_BAR_CONTENT_VISIBLE_STATE,options:e})}function r(e){c.default.dispatch({type:p.default.CMPNTS_UPDATE_API_BAR,options:e})}function l(e){c.default.dispatch({type:p.default.CMPNTS_DATABASES_SHOWDELETE_MODAL,options:e})}function d(e){var t=c.default.urls("databaseBaseURL","server",e,"");$.ajax({url:t,dataType:"json",type:"DELETE"}).then(function(){this.showDeleteDatabaseModal({showModal:!0}),c.default.addNotification({msg:"The database <code>"+_.escape(e)+"</code> has been deleted.",clear:!0,escape:!1}),Backbone.history.loadUrl(c.default.urls("allDBs","app"))}.bind(this)).fail(function(e,t,n){c.default.addNotification({msg:"Could not delete the database, reason "+n+".",type:"error",clear:!0})})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=a(u),f=n(211),p=a(f);t.default={deleteDatabase:d,showDeleteDatabaseModal:l,showAPIBarButton:i,hideAPIBarButton:o,toggleApiBarVisibility:s,updateAPIBar:r}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(241),r=a(s),l=n(37),d=a(l),u=n(52),c=a(u),f=d.default.indexResultsStore,p=function(e){var t="Failed to delete your document!";e&&(t="Failed to delete: "+e.join(", ")),o.default.addNotification({msg:t,type:"error",clear:!0})};t.default={togglePrioritizedTableView:function(){o.default.dispatch({type:r.default.INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW})},sendMessageNewResultList:function(e){o.default.dispatch({type:r.default.INDEX_RESULTS_NEW_RESULTS,options:e})},newResultsList:function(e){if(this.clearResults(),e.collection.fetch)return e.collection.fetch({reset:!0}).then(function(){this.resultsListReset(),this.sendMessageNewResultList(e)}.bind(this),function(e,t){var n=e.responseText?e:t,a="Bad Request";try{var i=JSON.parse(n.responseText);i.reason&&(a=i.reason)}catch(e){console.log(e)}o.default.addNotification({msg:a,type:"error",clear:!0})})},newMangoResultsList:function(e){o.default.dispatch({type:r.default.INDEX_RESULTS_NEW_RESULTS,options:e})},runMangoFindQuery:function(e){var t=JSON.parse(e.queryCode),n=f.getCollection(),a=f.getBulkDocCollection();return this.clearResults(),n.setQuery(t).fetch().then(function(){this.resultsListReset(),this.newMangoResultsList({collection:n,query:e.queryCode,textEmptyIndex:"No Results Found!",bulkCollection:a})}.bind(this),function(e){o.default.addNotification({msg:e.reason,clear:!0,type:"error"}),this.resultsListReset()}.bind(this))},reloadResultsList:function(){return"mango"===f.getTypeOfIndex()?this.newResultsList({collection:f.getCollection(),bulkCollection:f.getBulkDocCollection(),typeOfIndex:"mango"}):this.newResultsList({collection:f.getCollection(),bulkCollection:f.getBulkDocCollection()})},resultsListReset:function(){o.default.dispatch({type:r.default.INDEX_RESULTS_RESET})},selectDoc:function(e){o.default.dispatch({type:r.default.INDEX_RESULTS_SELECT_DOC,options:{_id:e._id,_rev:e._rev,_deleted:!0}})},changeField:function(e){o.default.dispatch({type:r.default.INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE,options:e})},toggleAllDocuments:function(){o.default.dispatch({type:r.default.INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS})},clearResults:function(){o.default.dispatch({type:r.default.INDEX_RESULTS_CLEAR_RESULTS})},deleteSelected:function(e,t,n){var a=1===t?"Are you sure you want to delete this doc?":"Are you sure you want to delete these "+t+" docs?";if(0===t)return window.alert("Please select the document rows you want to delete."),!1;if(!window.confirm(a))return!1;var i=_.bind(this.reloadResultsList,this),s=[],r=!!e.map(function(e){return e.id}).find(function(e){return/_design/.test(e)});e.bulkDelete().then(function(e){o.default.addNotification({msg:"Successfully deleted your docs",clear:!0}),_.isEmpty(e.errorIds)||(p(e.errorIds),s=e.errorIds)},function(e){p(e),s=e}).always(function(){n&&r&&c.default.updateDesignDocs(n),i().then(function(){e.reset(s)})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){e.database.safeID()!==y.getDatabaseName()&&g.default.dispatch({type:E.default.SIDEBAR_FETCHING}),e.designDocs.fetch().then(function(){g.default.dispatch({type:E.default.SIDEBAR_NEW_OPTIONS,options:e})})}function o(e){g.default.dispatch({type:E.default.SIDEBAR_FETCHING}),e.fetch().then(function(){g.default.dispatch({type:E.default.SIDEBAR_UPDATED_DESIGN_DOCS,options:{designDocs:e}})})}function s(e,t){g.default.dispatch({type:E.default.SIDEBAR_TOGGLE_CONTENT,designDoc:e,indexGroup:t})}function r(e,t){var n=$.extend(!0,{},{designDocName:"",designDocSection:"",indexName:""},t);n.navItem=e,g.default.dispatch({type:E.default.SIDEBAR_SET_SELECTED_NAV_ITEM,options:n})}function l(e,t,n,a){g.default.dispatch({type:E.default.SIDEBAR_SHOW_DELETE_INDEX_MODAL,options:{indexName:e,indexLabel:n,designDocName:t,onDelete:a}})}function d(){g.default.dispatch({type:E.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL})}function u(e,t,n,a){g.default.dispatch({type:E.default.SIDEBAR_SHOW_CLONE_INDEX_MODAL,options:{sourceIndexName:e,sourceDesignDocName:t,onSubmit:a,indexLabel:n,cloneIndexModalTitle:"Clone "+n}})}function c(){g.default.dispatch({type:E.default.SIDEBAR_HIDE_CLONE_INDEX_MODAL})}function f(e){g.default.dispatch({type:E.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED,options:{value:e}})}function p(e){g.default.dispatch({type:E.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE,options:{value:e}})}function h(e){g.default.dispatch({type:E.default.SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME,options:{value:e}})}Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),g=a(m),_=n(135),E=a(_),b=n(254),v=a(b),y=v.default.sidebarStore;t.default={newOptions:i,updateDesignDocs:o,toggleContent:s,selectNavItem:r,showDeleteIndexModal:l,hideDeleteIndexModal:d,showCloneIndexModal:u,hideCloneIndexModal:c,updateNewDesignDocName:f,selectDesignDoc:p,setNewCloneIndexName:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={REPLICATION_SOURCE:{LOCAL:"REPLICATION_SOURCE_LOCAL",REMOTE:"REPLICATION_SOURCE_REMOTE"},REPLICATION_TARGET:{EXISTING_LOCAL_DATABASE:"REPLICATION_TARGET_EXISTING_LOCAL_DATABASE",EXISTING_REMOTE_DATABASE:"REPLICATION_TARGET_EXISTING_REMOTE_DATABASE",NEW_LOCAL_DATABASE:"REPLICATION_TARGET_NEW_LOCAL_DATABASE",NEW_REMOTE_DATABASE:"REPLICATION_TARGET_NEW_REMOTE_DATABASE"},REPLICATION_TYPE:{ONE_TIME:"REPLICATION_TYPE_ONE_TIME",CONTINUOUS:"REPLICATION_TYPE_CONTINUOUS"}}},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return _.isArray(e)?e[1]:e}function o(e){var t=p.default.getExtensions("sidebar:links"),n="#"+p.default.urls("databaseBaseURL","app",p.default.url.encode(e));return[{title:"Add New",links:_.reduce(t,function(e,t){return e.push({title:t.title,url:n+"/"+t.url,icon:"fonticon-plus-circled"}),e},[{title:"New Doc",url:n+"/new",icon:"fonticon-plus-circled"},{title:"New View",url:n+"/new_view",icon:"fonticon-plus-circled"},s(e)])}]}function s(e){var t="#"+p.default.urls("databaseBaseURL","app",p.default.url.encode(e));return{title:c.default.i18n.en_US["new-mango-index"],url:t+"/_index",icon:"fonticon-plus-circled"}}function r(e){return JSON.parse('"'+e+'"')}function l(e){return[{title:"Replicate Database",icon:"fonticon-replicate",url:p.default.urls("replication","app",e)},{title:"Delete",icon:"fonticon-trash",onClick:m.default.showDeleteDatabaseModal.bind(this,{showDeleteModal:!0,dbId:e})}]}function d(e,t){var n=e.split("\n"),a=!1;return n.length>t&&(a=!0,n=n.slice(0,t),e=n.join("\n")),{isTruncated:a,content:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(11),c=a(u),f=n(1),p=a(f),h=n(50),m=a(h);t.default={getSeqNum:i,getNewButtonLinks:o,getModifyDatabaseLinks:l,parseJSON:r,truncateDoc:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(0),r=a(s),l=n(10),d=(a(l),n(22));n(198),n(389);var u=r.default.createClass({displayName:"CodeFormat",getDefaultProps:function(){return{lang:"js"}},getClasses:function(){var e={js:"lang-js"},t="prettyprint";return _.has(e,this.props.lang)&&(t+=" "+e[this.props.lang]),t},componentDidMount:function(){prettyPrint()},render:function(){var e=JSON.stringify(this.props.code,null," ");return r.default.createElement("div",null,r.default.createElement("pre",{className:this.getClasses()},e))}}),c=r.default.createClass({displayName:"Pagination",getDefaultProps:function(){return{perPage:o.default.constants.MISC.DEFAULT_PAGE_SIZE,onClick:null,page:1,total:0,urlPrefix:"",urlSuffix:"",maxNavPages:10}},getVisiblePages:function(e,t){var n,a;if(t<this.props.maxNavPages)n=1,a=t+1;else{var i=Math.floor(this.props.maxNavPages/2);n=e-i,a=e+i,n<=1&&(n=1,a=this.props.maxNavPages+1),a>t+1&&(n=t-(this.props.maxNavPages-1),a=t+1)}return{from:n,to:a}},createItemsForPage:function(e){return _.range(e.from,e.to).map(function(e){return r.default.createElement("li",{key:e,className:this.props.page===e?"active":null},this.getLink(e,e))}.bind(this))},getLink:function(e,t){return this.props.onClick?r.default.createElement("a",{onClick:this.props.onClick.bind(null,e),dangerouslySetInnerHTML:{__html:t}}):r.default.createElement("a",{href:this.props.urlPrefix+e+this.props.urlSuffix,dangerouslySetInnerHTML:{__html:t}})},getTotalPages:function(){return 0===this.props.total?1:Math.ceil(this.props.total/this.props.perPage)},render:function(){var e=this.getTotalPages(),t=this.getVisiblePages(this.props.page,e),n=this.createItemsForPage(t),a=Math.max(this.props.page-1,1),i=Math.min(this.props.page+1,e);return r.default.createElement("ul",{className:"pagination"},r.default.createElement("li",{className:1===this.props.page?"disabled":null},this.getLink(a,"&laquo;")),n,r.default.createElement("li",{className:this.props.page<e?null:"disabled"},this.getLink(i,"&raquo;")))}}),f=r.default.createClass({displayName:"ConfirmationModal",propTypes:{visible:r.default.PropTypes.bool.isRequired,text:r.default.PropTypes.oneOfType([r.default.PropTypes.string,r.default.PropTypes.element]).isRequired,onClose:r.default.PropTypes.func.isRequired,onSubmit:r.default.PropTypes.func.isRequired},getDefaultProps:function(){return{visible:!1,title:"Please confirm",text:"",successButtonLabel:"Okay",buttonClass:"btn-success",onClose:function(){},onSubmit:function(){}}},close:function(e){e&&e.preventDefault(),this.props.onClose()},render:function(){var e=r.default.createElement("p",null,this.props.text);_.isString(this.props.text)||(e=this.props.text);var t="btn "+this.props.buttonClass;return r.default.createElement(d.Modal,{dialogClassName:"confirmation-modal",show:this.props.visible,onHide:this.close},r.default.createElement(d.Modal.Header,{closeButton:!0},r.default.createElement(d.Modal.Title,null,this.props.title)),r.default.createElement(d.Modal.Body,null,e),r.default.createElement(d.Modal.Footer,null,r.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.close},"Cancel"),r.default.createElement("button",{className:t,onClick:this.props.onSubmit},r.default.createElement("i",{className:"fonticon-ok-circled"})," ",this.props.successButtonLabel)))}});t.default={CodeFormat:u,Pagination:c,ConfirmationModal:f}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(430),d=a(l);n(578),d.default.initialize=function(){r.default.addHeaderLink({href:"#/_all_dbs",title:"Databases",icon:"fonticon-database",className:"databases"})},d.default.databaseUrl=function(e){var t=_.isObject(e)?e.id:e;return["/database/",o.default.utils.safeURLName(t),"/_all_docs?limit="+d.default.DocLimit].join("")},r.default.registerUrls("changes",{server:function(e,t){return o.default.host+"/"+e+"/_changes"+t},app:function(e,t){return"/database/"+e+"/_changes"+t},apiurl:function(e,t){return window.location.origin+"/"+e+"/_changes"+t}}),r.default.registerUrls("allDBs",{server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.host+"/_all_dbs"+e},app:function(){return"_all_dbs"},apiurl:function(){return window.location.origin+"/_all_dbs"}}),r.default.registerUrls("databaseBaseURL",{server:function(e){return window.location.origin+"/"+o.default.utils.safeURLName(e)},app:function(e){return"/database/"+e}}),r.default.registerUrls("permissions",{server:function(e){return o.default.host+"/"+e+"/_security"},app:function(e){return"/database/"+e+"/permissions"},apiurl:function(e){return window.location.origin+"/"+e+"/_security"}}),t.default=d.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(30),d=a(l),u=r.default.addon();u.DocLimit=100,u.Model=r.default.Model.extend({documentation:function(){return r.default.constants.DOC_URLS.ALL_DBS},buildAllDocs:function(e){return this.allDocs=new d.default.AllDocs(null,{database:this,params:e}),this.allDocs},isNew:function(){return!1},isSystemDatabase:function(){return o.default.utils.isSystemDatabase(this.id)},url:function(e){return"index"===e?"/database/"+this.safeID()+"/_all_docs":"web-index"===e?"#/database/"+this.safeID()+"/_all_docs?limit="+u.DocLimit:"apiurl"===e?window.location.origin+"/database/"+this.safeID()+"/_all_docs":"changes"===e?r.default.urls("changes","app",this.safeID(),"?descending=true&limit=100&include_docs=true"):"changes-apiurl"===e?r.default.urls("changes","apiurl",this.safeID(),"?descending=true&limit=100&include_docs=true"):"app"===e?"/database/"+this.safeID():o.default.host+"/"+this.safeID()},safeID:function(){return o.default.utils.safeURLName(this.id)},buildChanges:function(e){return e.limit||(e.limit=100),this.changes=new u.Changes({database:this,params:e}),this.changes}}),u.Changes=r.default.Collection.extend({initialize:function(e){this.database=e.database,this.params=e.params},documentation:function(){return r.default.constants.DOC_URLS.CHANGES},url:function(e){var t="";return this.params&&(t="?"+$.param(this.params)),e||(e="server"),r.default.urls("changes",e,this.database.safeID(),t)},parse:function(e){return this.last_seq=e.last_seq,e.results}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PermanentNotification=t.NotificationCenterButton=t.NotificationController=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(10),c=a(u),f=n(459),p=a(f),h=n(460),m=a(h),g=n(17),E=a(g),b=n(879),v=a(b);n(198),n(389);var y=n(94),D=a(y),C=m.default.notificationStore,T=v.default.VelocityComponent,N=E.default.Copy,S=t.NotificationController=d.default.createClass({displayName:"NotificationController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{notificationCenterVisible:C.isNotificationCenterVisible(),notificationCenterFilter:C.getNotificationFilter(),notifications:C.getNotifications()}},componentDidMount:function(){C.on("change",this.onChange,this)},componentWillUnmount:function(){C.off("change",this.onChange)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},render:function(){return d.default.createElement("div",null,d.default.createElement(I,{notifications:this.state.notifications}),d.default.createElement(A,{visible:this.state.notificationCenterVisible,filter:this.state.notificationCenterFilter,notifications:this.state.notifications}))}}),I=d.default.createClass({displayName:"GlobalNotifications",propTypes:{notifications:d.default.PropTypes.array.isRequired},componentDidMount:function(){$(document).on("keydown.notificationClose",this.onKeyDown)},componentWillUnmount:function(){$(document).off("keydown.notificationClose",this.onKeyDown)},onKeyDown:function(e){27===(e.keyCode||e.which)&&p.default.hideAllVisibleNotifications()},getNotifications:function(){return this.props.notifications.length?_.map(this.props.notifications,function(e,t){if(e.visible)return d.default.createElement(w,{notificationId:e.notificationId,isHiding:e.isHiding,key:t,msg:e.msg,type:e.type,escape:e.escape,onStartHide:p.default.startHidingNotification,onHideComplete:p.default.hideNotification})},this):null},render:function(){return d.default.createElement("div",{id:"global-notifications"},this.getNotifications())}}),w=d.default.createClass({displayName:"Notification",propTypes:{msg:d.default.PropTypes.string.isRequired,onStartHide:d.default.PropTypes.func.isRequired,onHideComplete:d.default.PropTypes.func.isRequired,type:d.default.PropTypes.oneOf(["error","info","success"]),escape:d.default.PropTypes.bool,isHiding:d.default.PropTypes.bool.isRequired,visibleTime:d.default.PropTypes.number},getDefaultProps:function(){return{type:"info",visibleTime:8e3,escape:!0,slideInTime:200,slideOutTime:200}},componentWillUnmount:function(){this.timeout&&window.clearTimeout(this.timeout)},getInitialState:function(){return{animation:{opacity:0,minHeight:0}}},componentDidMount:function(){this.setState({animation:{opacity:this.props.isHiding?0:1,minHeight:this.props.isHiding?0:c.default.findDOMNode(this.refs.notification).offsetHeight}}),this.timeout=setTimeout(function(){this.hide()}.bind(this),this.props.visibleTime)},componentDidUpdate:function(e){!e.isHiding&&this.props.isHiding&&this.setState({animation:{opacity:0,minHeight:0}})},getHeight:function(){return $(c.default.findDOMNode(this)).outerHeight(!0)},hide:function(e){e&&e.preventDefault(),this.props.onStartHide(this.props.notificationId)},getMsg:function(){return{__html:this.props.escape?_.escape(this.props.msg):this.props.msg}},onAnimationComplete:function(){this.props.isHiding&&this.props.onHideComplete(this.props.notificationId)},render:function(){var e={error:"fonticon-attention-circled",info:"fonticon-info-circled",success:"fonticon-ok-circled"};return d.default.createElement(T,{animation:this.state.animation,runOnMount:!0,duration:this.props.slideInTime,complete:this.onAnimationComplete},d.default.createElement("div",{className:"notification-wrapper"},d.default.createElement("div",{className:"global-notification alert alert-"+this.props.type,ref:"notification"},d.default.createElement("a",{"data-bypass":!0,href:"#",onClick:this.hide},d.default.createElement("i",{className:"pull-right fonticon-cancel"})),d.default.createElement("i",{className:"notification-icon "+e[this.props.type]}),d.default.createElement("span",{dangerouslySetInnerHTML:this.getMsg()}))))}}),O=t.NotificationCenterButton=d.default.createClass({displayName:"NotificationCenterButton",getInitialState:function(){return{visible:!0}},hide:function(){this.setState({visible:!1})},show:function(){this.setState({visible:!0})},render:function(){var e="fonticon fonticon-bell"+(this.state.visible?"":" hide");return d.default.createElement("div",{className:e,onClick:p.default.showNotificationCenter})}}),A=d.default.createClass({displayName:"NotificationCenterPanel",propTypes:{visible:d.default.PropTypes.bool.isRequired,filter:d.default.PropTypes.string.isRequired,notifications:d.default.PropTypes.array.isRequired},getNotifications:function(){return this.props.notifications.length?_.map(this.props.notifications,function(e){return d.default.createElement(R,{isVisible:this.props.visible,item:e,filter:this.props.filter,key:e.notificationId})},this):d.default.createElement("li",{className:"no-notifications"},"No notifications.")},render:function(){var e="notification-center-panel flex-layout flex-col";this.props.visible&&(e+=" visible");var t={all:"flex-body",success:"flex-body",error:"flex-body",info:"flex-body"};t[this.props.filter]+=" selected";var n="notification-page-mask"+(this.props.visible?" visible":"");return d.default.createElement("div",{id:"notification-center"},d.default.createElement("div",{className:e},d.default.createElement("header",{className:"flex-layout flex-row"},d.default.createElement("span",{className:"fonticon fonticon-bell"}),d.default.createElement("h1",{className:"flex-body"},"Notifications"),d.default.createElement("button",{type:"button",onClick:p.default.hideNotificationCenter},"×")),d.default.createElement("ul",{className:"notification-filter flex-layout flex-row"},d.default.createElement("li",{className:t.all,title:"All notifications","data-filter":"all",onClick:p.default.selectNotificationFilter.bind(this,"all")},"All"),d.default.createElement("li",{className:t.success,title:"Success notifications","data-filter":"success",onClick:p.default.selectNotificationFilter.bind(this,"success")},d.default.createElement("span",{className:"fonticon fonticon-ok-circled"})),d.default.createElement("li",{className:t.error,title:"Error notifications","data-filter":"error",onClick:p.default.selectNotificationFilter.bind(this,"error")},d.default.createElement("span",{className:"fonticon fonticon-attention-circled"})),d.default.createElement("li",{className:t.info,title:"Info notifications","data-filter":"info",onClick:p.default.selectNotificationFilter.bind(this,"info")},d.default.createElement("span",{className:"fonticon fonticon-info-circled"}))),d.default.createElement("div",{className:"flex-body"},d.default.createElement("ul",{className:"notification-list"},this.getNotifications())),d.default.createElement("footer",null,d.default.createElement("input",{type:"button",value:"Clear All",className:"btn btn-small btn-info",onClick:p.default.clearAllNotifications}))),d.default.createElement("div",{className:n,onClick:p.default.hideNotificationCenter}))}}),R=d.default.createClass({displayName:"NotificationPanelRow",propTypes:{item:d.default.PropTypes.object.isRequired,filter:d.default.PropTypes.string.isRequired,transitionSpeed:d.default.PropTypes.number},getDefaultProps:function(){return{transitionSpeed:300}},clearNotification:function(){var e=this.props.item.notificationId;this.hide(function(){p.default.clearSingleNotification(e)})},componentDidMount:function(){this.setState({elementHeight:this.getHeight()})},componentDidUpdate:function(e){!e.isVisible&&this.props.isVisible&&this.setState({elementHeight:this.getHeight()});var t=!0;if("all"!==this.props.filter&&(t=this.props.item.type===this.props.filter),t)return void $(c.default.findDOMNode(this)).velocity({opacity:1,height:this.state.elementHeight},this.props.transitionSpeed);this.hide()},getHeight:function(){return $(c.default.findDOMNode(this)).outerHeight(!0)},hide:function(e){$(c.default.findDOMNode(this)).velocity({opacity:0,height:0},this.props.transitionSpeed,function(){e&&e()})},render:function(){var e={success:"fonticon-ok-circled",error:"fonticon-attention-circled",info:"fonticon-info-circled"},t=this.props.item.time.fromNow(),n="fonticon "+e[this.props.item.type],a="all"!==this.props.filter&&this.props.filter!==this.props.item.type;return d.default.createElement("li",{"aria-hidden":a},d.default.createElement("div",{className:"flex-layout flex-row"},d.default.createElement("span",{className:n}),d.default.createElement("div",{className:"flex-body"},d.default.createElement("p",null,this.props.item.cleanMsg),d.default.createElement("div",{className:"notification-actions"},d.default.createElement("span",{className:"time-elapsed"},t),d.default.createElement("span",{className:"divider"},"|"),d.default.createElement(N,{uniqueKey:D.default.v4(),text:this.props.item.cleanMsg,displayType:"text"}))),d.default.createElement("button",{type:"button",onClick:this.clearNotification},"×")))}});t.PermanentNotification=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return s(t,e),r(t,[{key:"getStoreState",value:function(){return{display:C.isPermanentNotificationVisible(),msg:C.getPermanentNotificationMessage()}}},{key:"onChange",value:function(){this.setState(this.getStoreState)}},{key:"componentDidMount",value:function(){C.on("change",this.onChange,this)}},{key:"getMsg",value:function(){return{__html:this.state.msg}}},{key:"getContent",value:function(){if(this.state.display&&this.state.msg)return d.default.createElement("p",{className:"perma-warning__content",dangerouslySetInnerHTML:this.getMsg()})}},{key:"render",value:function(){return d.default.createElement("div",{id:"perma-warning"},this.getContent())}}]),t}(d.default.Component),t.default={NotificationController:S,NotificationCenterButton:O,NotificationCenterPanel:A,NotificationPanelRow:R,Notification:w}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.length-1;return e.map(function(e,n){var a=[s.default.createElement(r,{key:n},e.name)];return e.link&&(a=[s.default.createElement(r,{key:n},s.default.createElement("a",{className:"faux-header__breadcrumbs-link",href:"#/"+e.link},e.name))]),e.name?(n<t&&a.push(s.default.createElement(l,null)),a):a})}Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumbs=void 0;var o=n(0),s=a(o);a(n(10)),(t.Breadcrumbs=function(e){var t=e.crumbs;return s.default.createElement("div",{className:"faux-header__breadcrumbs"},i(t))}).propTypes={crumbs:s.default.PropTypes.array.isRequired};var r=function(e){var t=e.children;return s.default.createElement("div",{className:"faux-header__breadcrumbs-element"},t)},l=function(){return s.default.createElement("div",{className:"fonticon-right-open faux-header__breadcrumbs-divider"})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(249),d=a(l);t.default={toggleIncludeDocs:function(){r.default.dispatch({type:d.default.QUERY_TOGGLE_INCLUDE_DOCS})},toggleByKeys:function(){r.default.dispatch({type:d.default.QUERY_TOGGLE_BY_KEYS})},toggleBetweenKeys:function(){r.default.dispatch({type:d.default.QUERY_TOGGLE_BETWEEN_KEYS})},toggleDescending:function(){r.default.dispatch({type:d.default.QUERY_TOGGLE_DESCENDING})},toggleReduce:function(){r.default.dispatch({type:d.default.QUERY_TOGGLE_REDUCE})},updateBetweenKeys:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_BETWEEN_KEYS,betweenKeys:e})},updateByKeys:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_BY_KEYS,byKeys:e})},updateSkip:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_SKIP,skip:e})},updateLimit:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_LIMIT,limit:e})},runQuery:function(e){var t=o.default.utils.replaceQueryParams(e);r.default.navigate(t)},toggleQueryBarVisibility:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_VISIBILITY,options:e})},updateGroupLevel:function(e){r.default.dispatch({type:d.default.QUERY_UPDATE_GROUP_LEVEL,groupLevel:e})},reset:function(e){r.default.dispatch({type:d.default.QUERY_RESET,params:e.queryParams}),e.showReduce&&r.default.dispatch({type:d.default.QUERY_SHOW_REDUCE})},showQueryOptions:function(){r.default.dispatch({type:d.default.QUERY_SHOW})},hideQueryOptions:function(){r.default.dispatch({type:d.default.QUERY_HIDE})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(271),d=a(l),u=r.default.addon();u.Doc=r.default.Model.extend({idAttribute:"_id",documentation:function(){return r.default.constants.DOC_URLS.GENERAL},url:function(e){void 0===e&&(e="server");var t=this.safeID();t||(t="");var n=this.fetchConflicts?"?conflicts=true":"";return r.default.urls("document",e,this.getDatabase().safeID(),t,n)},initialize:function(e,t){this.collection&&this.collection.database?this.database=this.collection.database:t.database&&(this.database=t.database),t.fetchConflicts&&(this.fetchConflicts=!0)},getDatabase:function(){return this.database?this.database:this.collection.database},validate:function(e){if(this.id&&this.id!==e._id&&this.get("_rev"))return"Cannot change a documents id."},docType:function(){return o.default.utils.getDocTypeFromId(this.id)},isBulkDeletable:function(){return!!this.id&&!!this.get("_rev")},isDeletable:function(){return!!this.id},isFromView:function(){return!this.id},isMangoDoc:function(){return!(!this.isDdoc()||"query"!==this.get("language")&&(!this.get("doc")||"query"!==this.get("doc").language))},isDdoc:function(){return"design doc"===this.docType()},setDdocView:function(e,t,n){if(!this.isDdoc())return!1;var a=this.get("views"),i=a[e]||{};return n?i.reduce=n:delete i.reduce,i.map=t,a[e]=i,this.set({views:a}),!0},removeDdocView:function(e){if(!this.isDdoc())return!1;var t=this.get("views");delete t[e],this.set({views:t})},dDocModel:function(){if(!this.isDdoc())return!1;var e=this.get("doc");return e?(e._rev=this.get("_rev"),new u.Doc(e,{database:this.database})):this},safeID:function(){return o.default.utils.getSafeIdForDoc(this.id)},destroy:function(){var e=this.url()+"?rev="+this.get("_rev");return $.ajax({url:e,dataType:"json",type:"DELETE"})},parse:function(e){return e.rev&&(e._rev=e.rev,delete e.rev),e.id&&_.isUndefined(this.id)&&(e._id=e.id),e.ok&&(delete e.id,delete e.ok),e},prettyJSON:function(){var e=this.get("doc")?this.get("doc"):this.attributes;return JSON.stringify(e,null,"  ")},copy:function(e){return $.ajax({type:"COPY",url:"/"+this.database.safeID()+"/"+this.safeID(),headers:{Destination:e}})},isNewDoc:function(){return!this.get("_rev")}}),u.AllDocs=d.default.extend({model:u.Doc,documentation:function(){return r.default.constants.DOC_URLS.GENERAL},initialize:function(e,t){this.viewMeta=t.viewMeta,this.database=t.database,this.params=_.clone(t.params),this.on("remove",this.decrementTotalRows,this),this.perPageLimit=t.perPageLimit||20,this.params.limit||(this.params.limit=this.perPageLimit)},isEditable:function(){return!0},urlRef:function(e,t){var n="";return t?n=_.isEmpty(t)?"":"?"+$.param(t):this.params&&(n="?"+$.param(this.params)),_.isUndefined(e)&&(e="server"),r.default.urls("allDocs",e,this.database.safeID(),n)},url:function(){return this.urlRef.apply(this,arguments)},simple:function(){var e=this.map(function(e){return{_id:e.id,_rev:e.get("_rev")}});return new u.AllDocs(e,{database:this.database,params:this.params})},totalRows:function(){return this.viewMeta.total_rows||"unknown"},decrementTotalRows:function(){this.viewMeta.total_rows&&(this.viewMeta.total_rows=this.viewMeta.total_rows-1,this.trigger("totalRows:decrement"))},updateSeq:function(){return!!this.viewMeta&&(this.viewMeta.update_seq||!1)},parse:function(e){var t=e.rows,n=_.filter(t,function(e){return e.value});return e.rows=_.map(n,function(e){var t={_id:e.id,_rev:e.value.rev,value:e.value,key:e.key};return e.doc&&(t.doc=e.doc),t}),d.default.prototype.parse.call(this,e)},clone:function(){return new this.constructor(this.models,{database:this.database,params:this.params,paging:this.paging})}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConflictModal=t.ErrorModal=t.DeleteModal=void 0;var i=n(0),o=a(i),s=n(22),r=n(17),l=a(r),d=l.default.ConfirmButton,u=t.DeleteModal=function(e){var t=e.visible,n=e.onClose,a=e.onClick,i=e.multipleDocs,r=e.isReplicationDB;if(!t)return null;var l="",u="Delete "+(r?"Document":"Replication Job"),c="Deleting a replication "+(r?"document":"job")+" stops continuous replication\n          and incomplete one-time replication, but does not affect replicated documents.";return i>1&&(l="You are deleting <strong>"+i+"</strong> replication "+(r?"documents":"jobs")+".",u="Delete "+(r?"Documents":"Replication Jobs")),o.default.createElement(s.Modal,{dialogClassName:"replication_delete-doc-modal",show:t,onHide:function(){return n()}},o.default.createElement(s.Modal.Header,{closeButton:!0},o.default.createElement(s.Modal.Title,null,"Verify Deletion")),o.default.createElement(s.Modal.Body,null,o.default.createElement("p",{dangerouslySetInnerHTML:{__html:l}}),o.default.createElement("p",null,c)),o.default.createElement(s.Modal.Footer,null,o.default.createElement("a",{className:"cancel-link",onClick:n},"Cancel"),o.default.createElement(d,{customIcon:"icon-trash",text:u,onClick:a})))};u.propTypes={visible:o.default.PropTypes.bool.isRequired,isReplicationDB:o.default.PropTypes.bool.isRequired,onClick:o.default.PropTypes.func.isRequired,onClose:o.default.PropTypes.func.isRequired,multipleDocs:o.default.PropTypes.number.isRequired},u.defaultProps={isReplicationDB:!0},(t.ErrorModal=function(e){var t=e.visible,n=e.onClose,a=e.errorMsg,i=e.status;if(!t)return null;var r="Replication Error",l=o.default.createElement("p",null,"The replication job will be tried at increasing intervals");return"failed"===i.toLowerCase()&&(r="Replication Error - Failed",l=null),o.default.createElement(s.Modal,{dialogClassName:"replication__error-doc-modal",show:t,onHide:function(){return n()}},o.default.createElement(s.Modal.Header,{closeButton:!0},o.default.createElement(s.Modal.Title,null,r)),o.default.createElement(s.Modal.Body,null,o.default.createElement("p",null,a),l),o.default.createElement(s.Modal.Footer,null))}).propTypes={visible:o.default.PropTypes.bool.isRequired,onClick:o.default.PropTypes.func.isRequired,onClose:o.default.PropTypes.func.isRequired,errorMsg:o.default.PropTypes.string.isRequired},(t.ConflictModal=function(e){var t=e.visible,n=e.docId,a=e.onClose,i=e.onClick;return t?o.default.createElement(s.Modal,{dialogClassName:"replication__error-doc-modal",show:t,onHide:function(){return a()}},o.default.createElement(s.Modal.Header,{closeButton:!0},o.default.createElement(s.Modal.Title,null,"Custom ID Conflict")),o.default.createElement(s.Modal.Body,null,o.default.createElement("p",null,"A replication document with ID ",o.default.createElement("code",null,n)," already exists."),o.default.createElement("p",null,"You can overwrite the existing document, or change the new replication job’s document ID."),o.default.createElement("p",null,"If you overwrite the existing document, any replication job currently using the replication document will stop, and that job will not appear in Replicator DB Activity. Replicated documents will not be affected.")),o.default.createElement(s.Modal.Footer,null,o.default.createElement("button",{onClick:a,className:"btn replication__error-cancel"},"Change Document ID"),o.default.createElement("button",{onClick:i,className:"btn replication__error-continue"},o.default.createElement("i",{className:"icon icon-eraser"})," Overwrite Existing Document"))):null}).propTypes={visible:o.default.PropTypes.bool.isRequired,onClick:o.default.PropTypes.func.isRequired,onClose:o.default.PropTypes.func.isRequired,docId:o.default.PropTypes.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(44),s=a(o),r=n(20),l=a(r),d={router:{navigate:function(){}},masterLayout:{},addHeaderLink:function(e){d.dispatch({type:"ADD_NAVBAR_LINK",link:e})},addNotification:function(e){e=l.default.extend({msg:"Notification Event Triggered!",type:"info",escape:!0,clear:!1},e),d.dispatch({type:"ADD_NOTIFICATION",options:{info:e}})},config:function(e){return l.default.extend(this,e)}};d.Deferred=function(){return $.Deferred()},d.when=function(e){return e instanceof Array?$.when.apply(null,e):$.when(e)},d.addonExtensions={initialize:function(){},RouteObjects:{},Views:{}},d.addon=function(e){return l.default.extend(l.default.clone(d.addonExtensions),e)},d.View=s.default.View.extend({establish:function(){return null},loaderClassname:"loader",manage:!0,forceRender:function(){this.hasRendered=!1}});var u={fetchOnce:function(e){var t=l.default.extend({},e);return this._deferred&&"rejected"!==this._deferred.state()&&!t.forceFetch||(this._deferred=this.fetch()),this._deferred}};d.Model=s.default.Model.extend({}),d.Collection=s.default.Collection.extend({}),l.default.each([d.Model,d.Collection],function(e){l.default.extend(e.prototype,u)});var c=l.default.extend({},s.default.Events);d.registerExtension=function(e,t){c[e]||(c[e]=[]),c.trigger("add:"+e,t),c[e].push(t)},d.unRegisterExtension=function(e){var t=c[e];t&&(c.trigger("remove:"+e,t),delete c[e])},d.getExtensions=function(e){var t=c[e];return t||(t=[]),t},d.removeExtensionItem=function(e,t,n){var a=c[e];if(a){var i=arguments[arguments.length-1];l.default.isObject(t)&&!n&&(i=function(e){return l.default.isEqual(e,t)}),a=l.default.filter(a,function(e){return!i(e)}),c[e]=a,c.trigger("removeItem:"+e,t)}},d.extensions=c,d.setSession=function(e){return d.session=e,d.session.fetchUser()},d.reducers={},d.addReducers=function(e){d.reducers=i({},d.reducers,e)},t.default=d},function(e,t,n){"use strict";var a=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=c[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),"\\"!==e&&"-"!==e&&"["!==e&&"]"!==e||(e="\\"+e),e)}function a(e){for(var a=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],i=[],o="^"===a[0],s=o?1:0,r=a.length;s<r;++s){var l=a[s];if(/\\[bdsw]/i.test(l))e.push(l);else{var d,l=t(l);s+2<r&&"-"===a[s+1]?(d=t(a[s+2]),s+=2):d=l,i.push([l,d]),d<65||l>122||(d<65||l>90||i.push([32|Math.max(65,l),32|Math.min(d,90)]),d<97||l>122||i.push([-33&Math.max(97,l),-33&Math.min(d,122)]))}}for(i.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),a=[],l=[NaN,NaN],s=0;s<i.length;++s)r=i[s],r[0]<=l[1]+1?l[1]=Math.max(l[1],r[1]):a.push(l=r);for(i=["["],o&&i.push("^"),i.push.apply(i,e),s=0;s<a.length;++s)r=a[s],i.push(n(r[0])),r[1]>r[0]&&(r[1]+1>r[0]&&i.push("-"),i.push(n(r[1])));return i.push("]"),i.join("")}function i(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),n=t.length,i=[],r=0,l=0;r<n;++r){var d=t[r];"("===d?++l:"\\"===d.charAt(0)&&(d=+d.substring(1))&&d<=l&&(i[d]=-1)}for(r=1;r<i.length;++r)-1===i[r]&&(i[r]=++o);for(l=r=0;r<n;++r)d=t[r],"("===d?(++l,void 0===i[l]&&(t[r]="(?:")):"\\"===d.charAt(0)&&(d=+d.substring(1))&&d<=l&&(t[r]="\\"+i[l]);for(l=r=0;r<n;++r)"^"===t[r]&&"^"!==t[r+1]&&(t[r]="");if(e.ignoreCase&&s)for(r=0;r<n;++r)d=t[r],e=d.charAt(0),d.length>=2&&"["===e?t[r]=a(d):"\\"!==e&&(t[r]=d.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var o=0,s=!1,r=!1,l=0,d=e.length;l<d;++l){var u=e[l];if(u.ignoreCase)r=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0,r=!1;break}}for(var c={b:8,t:9,n:10,v:11,f:12,r:13},f=[],l=0,d=e.length;l<d;++l){if(u=e[l],u.global||u.multiline)throw Error(""+u);f.push("(?:"+i(u)+")")}return RegExp(f.join("|"),r?"gi":"g")}function t(e){function t(e){switch(e.nodeType){case 1:if(i.test(e.className))break;for(var n=e.firstChild;n;n=n.nextSibling)t(n);"BR"!==(n=e.nodeName)&&"LI"!==n||(o[l]="\n",r[l<<1]=s++,r[l++<<1|1]=e);break;case 3:case 4:n=e.nodeValue,n.length&&(n=d?n.replace(/\r\n?/g,"\n"):n.replace(/[\t\n\r ]+/g," "),o[l]=n,r[l<<1]=s,s+=n.length,r[l++<<1|1]=e)}}var n,i=/(?:^|\s)nocode(?:\s|$)/,o=[],s=0,r=[],l=0;e.currentStyle?n=e.currentStyle.whiteSpace:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,a).getPropertyValue("white-space"));var d=n&&"pre"===n.substring(0,3);return t(e),{a:o.join("").replace(/\n$/,""),c:r}}function n(e,t,n,a){t&&(e={a:t,d:e},n(e),a.push.apply(a,e.e))}function i(t,i){function o(e){for(var t=e.d,a=[t,"pln"],u=0,c=e.a.match(s)||[],f={},p=0,h=c.length;p<h;++p){var m,g=c[p],_=f[g],E=void 0;if("string"==typeof _)m=!1;else{var b=r[g.charAt(0)];if(b)E=g.match(b[1]),_=b[0];else{for(m=0;m<d;++m)if(b=i[m],E=g.match(b[1])){_=b[0];break}E||(_="pln")}!(m=_.length>=5&&"lang-"===_.substring(0,5))||E&&"string"==typeof E[1]||(m=!1,_="src"),m||(f[g]=_)}if(b=u,u+=g.length,m){m=E[1];var v=g.indexOf(m),y=v+m.length;E[2]&&(y=g.length-E[2].length,v=y-m.length),_=_.substring(5),n(t+b,g.substring(0,v),o,a),n(t+b+v,m,l(_,m),a),n(t+b+y,g.substring(y),o,a)}else a.push(t+b,_)}e.e=a}var s,r={};!function(){for(var n=t.concat(i),o=[],l={},d=0,u=n.length;d<u;++d){var c=n[d],f=c[3];if(f)for(var p=f.length;--p>=0;)r[f.charAt(p)]=c;c=c[1],f=""+c,l.hasOwnProperty(f)||(o.push(c),l[f]=a)}o.push(/[\S\s]/),s=e(o)}();var d=i.length;return o}function o(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,a,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,a,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,a,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,a]);var o=e.hashComments;return o&&(e.cStyleComments?(o>1?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,a,"#"]):t.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,a,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,a])):t.push(["com",/^#[^\n\r]*/,a,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,a]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,a])),e.regexLiterals&&n.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*\/])(?:[^\/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(o=e.types)&&n.push(["typ",o]),e=(""+e.keywords).replace(/^ | $/g,""),e.length&&n.push(["kwd",RegExp("^(?:"+e.replace(/[\s,]+/g,"|")+")\\b"),a]),t.push(["pln",/^\s+/,a," \r\n\t "]),n.push(["lit",/^@[$_a-z][\w$@]*/i,a],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,a],["pln",/^[$_a-z][\w$@]*/i,a],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,a,"0123456789"],["pln",/^\\[\S\s]?/,a],["pun",/^.[^\s\w"-$'.\/@\\`]*/,a]),i(t,n)}function s(e,t){function n(e){switch(e.nodeType){case 1:if(s.test(e.className))break;if("BR"===e.nodeName)i(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)n(e);break;case 3:case 4:if(d){var t=e.nodeValue,a=t.match(r);if(a){var o=t.substring(0,a.index);e.nodeValue=o,(t=t.substring(a.index+a[0].length))&&e.parentNode.insertBefore(l.createTextNode(t),e.nextSibling),i(e),o||e.parentNode.removeChild(e)}}}}function i(e){function t(e,n){var a=n?e.cloneNode(!1):e,i=e.parentNode;if(i){var i=t(i,1),o=e.nextSibling;i.appendChild(a);for(var s=o;s;s=o)o=s.nextSibling,i.appendChild(s)}return a}for(;!e.nextSibling;)if(!(e=e.parentNode))return;for(var n,e=t(e.nextSibling,0);(n=e.parentNode)&&1===n.nodeType;)e=n;u.push(e)}var o,s=/(?:^|\s)nocode(?:\s|$)/,r=/\r\n?|\n/,l=e.ownerDocument;e.currentStyle?o=e.currentStyle.whiteSpace:window.getComputedStyle&&(o=l.defaultView.getComputedStyle(e,a).getPropertyValue("white-space"));var d=o&&"pre"===o.substring(0,3);for(o=l.createElement("LI");e.firstChild;)o.appendChild(e.firstChild);for(var u=[o],c=0;c<u.length;++c)n(u[c]);t===(0|t)&&u[0].setAttribute("value",t);var f=l.createElement("OL");f.className="linenums";for(var p=Math.max(0,t-1|0)||0,c=0,h=u.length;c<h;++c)o=u[c],o.className="L"+(c+p)%10,o.firstChild||o.appendChild(l.createTextNode(" ")),f.appendChild(o);e.appendChild(f)}function r(e,t){for(var n=t.length;--n>=0;){var a=t[n];v.hasOwnProperty(a)?window.console&&console.warn("cannot override language handler %s",a):v[a]=e}}function l(e,t){return e&&v.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),v[e]}function d(e){var n=e.g;try{var a=t(e.h),i=a.a;e.a=i,e.c=a.c,e.d=0,l(n,i)(e);var o=/\bMSIE\b/.test(navigator.userAgent),n=/\n/g,s=e.a,r=s.length,a=0,d=e.c,u=d.length,i=0,c=e.e,f=c.length,e=0;c[f]=r;var p,h;for(h=p=0;h<f;)c[h]!==c[h+2]?(c[p++]=c[h++],c[p++]=c[h++]):h+=2;for(f=p,h=p=0;h<f;){for(var m=c[h],g=c[h+1],_=h+2;_+2<=f&&c[_+1]===g;)_+=2;c[p++]=m,c[p++]=g,h=_}for(c.length=p;i<u;){var E,b=d[i+2]||r,v=c[e+2]||r,_=Math.min(b,v),y=d[i+1];if(1!==y.nodeType&&(E=s.substring(a,_))){o&&(E=E.replace(n,"\r")),y.nodeValue=E;var D=y.ownerDocument,C=D.createElement("SPAN");C.className=c[e+1];var T=y.parentNode;T.replaceChild(C,y),C.appendChild(y),a<b&&(d[i+1]=y=D.createTextNode(s.substring(_,b)),T.insertBefore(y,C.nextSibling))}a=_,a>=b&&(i+=2),a>=v&&(e+=2)}}catch(e){"console"in window&&console.log(e&&e.stack?e.stack:e)}}var u=["break,continue,do,else,for,if,return,while"],c=[[u,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],f=[c,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],p=[c,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],h=[p,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],c=[c,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],m=[u,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],g=[u,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],u=[u,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],_=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,E=/\S/,b=o({keywords:[f,h,c,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+m,g,u],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),v={};r(b,["default-code"]),r(i([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),r(i([["pln",/^\s+/,a," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,a,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'\/>]|\/(?=\s)))/],["pun",/^[\/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),r(i([],[["atv",/^[\S\s]+/]]),["uq.val"]),r(o({keywords:f,hashComments:!0,cStyleComments:!0,types:_}),["c","cc","cpp","cxx","cyc","m"]),r(o({keywords:"null,true,false"}),["json"]),r(o({keywords:h,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:_}),["cs"]),r(o({keywords:p,cStyleComments:!0}),["java"]),r(o({keywords:u,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),r(o({keywords:m,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),r(o({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),r(o({keywords:g,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),r(o({keywords:c,cStyleComments:!0,regexLiterals:!0}),["js"]),r(o({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),r(i([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(e,t,n){var a=document.createElement("PRE");return a.innerHTML=e,n&&s(a,n),d({g:t,i:n,h:a}),a.innerHTML},window.prettyPrint=function(e){function t(){for(var n=window.PR_SHOULD_USE_CONTINUATION?u.now()+250:1/0;f<i.length&&u.now()<n;f++){var a=i[f],o=a.className;if(o.indexOf("prettyprint")>=0){var r,l,o=o.match(p);if(l=!o){l=a;for(var h=void 0,m=l.firstChild;m;m=m.nextSibling)var g=m.nodeType,h=1===g?h?l:m:3===g&&E.test(m.nodeValue)?l:h;l=(r=h===l?void 0:h)&&"CODE"===r.tagName}for(l&&(o=r.className.match(p)),o&&(o=o[1]),l=!1,h=a.parentNode;h;h=h.parentNode)if(("pre"===h.tagName||"code"===h.tagName||"xmp"===h.tagName)&&h.className&&h.className.indexOf("prettyprint")>=0){l=!0;break}l||((l=!!(l=a.className.match(/\blinenums\b(?::(\d+))?/))&&(!l[1]||!l[1].length||+l[1]))&&s(a,l),c={g:o,h:a,i:l},d(c))}}f<i.length?setTimeout(t,250):e&&e()}for(var n=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],i=[],o=0;o<n.length;++o)for(var r=0,l=n[o].length;r<l;++r)i.push(n[o][r]);var n=a,u=Date;u.now||(u={now:function(){return+new Date}});var c,f=0,p=/\blang(?:uage)?-([\w.]+)(?!\S)/;t()},window.PR={createSimpleLexer:i,registerLangHandler:r,sourceDecorator:o,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}()},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){g.default.session.login(e,t).then(function(){if(g.default.addNotification({msg:g.default.session.messages.loggedIn}),n)return g.default.navigate(n);g.default.navigate("/")},D)}function o(e,t){var n=y.getNodes();g.default.session.changePassword(e,t,n[0].node).then(function(){g.default.addNotification({msg:g.default.session.messages.changePassword}),g.default.dispatch({type:E.default.AUTH_CLEAR_CHANGE_PWD_FIELDS})},D)}function s(e){g.default.dispatch({type:E.default.AUTH_UPDATE_CHANGE_PWD_FIELD,value:e})}function r(e){g.default.dispatch({type:E.default.AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD,value:e})}function l(e,t,n){var a=arguments,i=y.getNodes();g.default.session.createAdmin(e,t,n,i[0].node).then(function(){g.default.addNotification({msg:g.default.session.messages.adminCreated}),n?g.default.navigate("/"):g.default.dispatch({type:E.default.AUTH_CLEAR_CREATE_ADMIN_FIELDS})},function(e,t,n){n=e,3===a.length&&(n=e.responseJSON.reason),D(g.default.session.messages.adminCreationFailedPrefix+" "+n)})}function d(e,t,n){$.ajax({cache:!1,type:"POST",url:"/_session",dataType:"json",data:{name:e,password:t}}).then(function(){g.default.dispatch({type:E.default.AUTH_CREDS_VALID,options:{username:e,password:t}}),h(),n(e,t)},function(){g.default.addNotification({msg:"Your password is incorrect.",type:"error",clear:!0}),g.default.dispatch({type:E.default.AUTH_CREDS_INVALID,options:{username:e,password:t}})})}function u(e){g.default.dispatch({type:E.default.AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD,value:e})}function c(e){g.default.dispatch({type:E.default.AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD,value:e})}function f(e){g.default.dispatch({type:E.default.AUTH_SELECT_PAGE,page:e})}function p(){g.default.dispatch({type:E.default.AUTH_SHOW_PASSWORD_MODAL})}function h(){g.default.dispatch({type:E.default.AUTH_HIDE_PASSWORD_MODAL})}Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),g=a(m),_=n(126),E=a(_),b=n(209),v=a(b),y=v.default.nodesStore,D=function(e,t,n){n=e,3===arguments.length&&(n=e.responseJSON.reason),g.default.addNotification({msg:n,type:"error"})};t.default={login:i,changePassword:o,updateChangePasswordField:s,updateChangePasswordConfirmField:r,createAdmin:l,authenticate:d,updateCreateAdminUsername:u,updateCreateAdminPassword:c,selectPage:f,showPasswordModal:p,hidePasswordModal:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={AUTH_CLEAR_CHANGE_PWD_FIELDS:"AUTH_CLEAR_CHANGE_PWD_FIELDS",AUTH_UPDATE_CHANGE_PWD_FIELD:"AUTH_UPDATE_CHANGE_PWD_FIELD",AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD:"AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD",AUTH_CLEAR_CREATE_ADMIN_FIELDS:"AUTH_CLEAR_CREATE_ADMIN_FIELDS",AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD:"AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD",AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD:"AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD",AUTH_SELECT_PAGE:"AUTH_SELECT_PAGE",AUTH_CREDS_VALID:"AUTH_CREDS_VALID",AUTH_CREDS_INVALID:"AUTH_CREDS_INVALID",AUTH_SHOW_PASSWORD_MODAL:"AUTH_SHOW_PASSWORD_MODAL",AUTH_HIDE_PASSWORD_MODAL:"AUTH_HIDE_PASSWORD_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(11),d=a(l),u=n(1),c=a(u),f=n(0),p=a(f),h=n(10),m=a(h),g=n(404),E=a(g),b=n(125),v=a(b),y=n(22),D=n(17),C=a(D),T=E.default.changePasswordStore,N=E.default.createAdminStore,S=E.default.createAdminSidebarStore,I=C.default.ConfirmButton,w=p.default.createClass({displayName:"LoginForm",propTypes:{urlBack:p.default.PropTypes.string.isRequired},getInitialState:function(){return{username:"",password:""}},getDefaultProps:function(){return{urlBack:"",testBlankUsername:null,testBlankPassword:null}},onInputChange:function(e){var t="name"===e.target.name?{username:e.target.value}:{password:e.target.value};this.setState(t)},submit:function(e){e.preventDefault(),this.checkUnrecognizedAutoFill()||this.login(this.state.username,this.state.password)},checkUnrecognizedAutoFill:function(){if(""!==this.state.username||""!==this.state.password)return!1;var e=this.props.testBlankUsername?this.props.testBlankUsername:m.default.findDOMNode(this.refs.username).value,t=this.props.testBlankPassword?this.props.testBlankPassword:m.default.findDOMNode(this.refs.password).value;return this.setState({username:e,password:t}),this.login(e,t),!0},login:function(e,t){v.default.login(e,t,this.props.urlBack)},componentDidMount:function(){m.default.findDOMNode(this.refs.username).focus()},render:function(){return p.default.createElement("div",{className:"couch-login-wrapper"},p.default.createElement("div",{className:"row-fluid"},p.default.createElement("div",{className:"span12"},p.default.createElement("form",{id:"login",onSubmit:this.submit},p.default.createElement("p",{className:"help-block"},"Enter your username and password."),p.default.createElement("input",{id:"username",type:"text",name:"name",ref:"username",placeholder:"Username",size:"24",onChange:this.onInputChange,value:this.state.username}),p.default.createElement("br",null),p.default.createElement("input",{id:"password",type:"password",name:"password",ref:"password",placeholder:"Password",size:"24",onChange:this.onInputChange,value:this.state.password}),p.default.createElement("br",null),p.default.createElement("button",{id:"submit",className:"btn btn-primary",type:"submit"},"Log In")))))}}),O=p.default.createClass({displayName:"ChangePasswordForm",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{password:T.getChangePassword(),passwordConfirm:T.getChangePasswordConfirm()}},onChange:function(){this.setState(this.getStoreState())},onChangePassword:function(e){v.default.updateChangePasswordField(e.target.value)},onChangePasswordConfirm:function(e){v.default.updateChangePasswordConfirmField(e.target.value)},componentDidMount:function(){m.default.findDOMNode(this.refs.password).focus(),T.on("change",this.onChange,this)},componentWillUnmount:function(){T.off("change",this.onChange)},changePassword:function(e){e.preventDefault(),v.default.changePassword(this.state.password,this.state.passwordConfirm)},render:function(){return p.default.createElement("div",{className:"auth-page"},p.default.createElement("form",{id:"change-password",onSubmit:this.changePassword},p.default.createElement("p",null,"Enter and confirm a new password."),p.default.createElement("input",{id:"password",type:"password",ref:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword,value:this.state.password}),p.default.createElement("br",null),p.default.createElement("input",{id:"password-confirm",type:"password",name:"password_confirm",placeholder:"Password Confirmation",size:"24",onChange:this.onChangePasswordConfirm,value:this.state.passwordConfirm}),p.default.createElement("br",null),p.default.createElement("p",null,p.default.createElement("button",{type:"submit",className:"btn btn-primary"},p.default.createElement("i",{className:"icon icon-ok-circle"})," Change Password"))))}}),A=p.default.createClass({displayName:"CreateAdminForm",propTypes:{loginAfter:p.default.PropTypes.bool.isRequired},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{username:N.getUsername(),password:N.getPassword()}},onChange:function(){this.setState(this.getStoreState())},getDefaultProps:function(){return{loginAfter:""}},onChangeUsername:function(e){v.default.updateCreateAdminUsername(e.target.value)},onChangePassword:function(e){v.default.updateCreateAdminPassword(e.target.value)},componentDidMount:function(){m.default.findDOMNode(this.refs.username).focus(),N.on("change",this.onChange,this)},componentWillUnmount:function(){N.off("change",this.onChange)},createAdmin:function(e){e.preventDefault(),v.default.createAdmin(this.state.username,this.state.password,this.props.loginAfter)},render:function(){return p.default.createElement("div",{className:"auth-page"},p.default.createElement("p",null,"Before a server admin is configured, all client connections have admin privileges. ",p.default.createElement("strong",null,"If HTTP access is open to non-trusted users, create an admin account to prevent data loss.")),p.default.createElement("p",null,"Connections with Admin privileges can create and destroy databases, install and update _design documents, run the test suite, and modify the CouchDB configuration."),p.default.createElement("p",null,"Connections without Admin privileges have read and write access to all databases controlled by validation functions. CouchDB can be configured to block anonymous connections."),p.default.createElement("form",{id:"create-admin-form",onSubmit:this.createAdmin},p.default.createElement("input",{id:"username",type:"text",ref:"username",name:"name",placeholder:"Username",size:"24",onChange:this.onChangeUsername}),p.default.createElement("br",null),p.default.createElement("input",{id:"password",type:"password",name:"password",placeholder:"Password",size:"24",onChange:this.onChangePassword}),p.default.createElement("p",null,p.default.createElement("button",{type:"submit",id:"create-admin",className:"btn btn-primary"},p.default.createElement("i",{className:"icon icon-ok-circle"})," Grant Admin Privileges"))))}}),R=p.default.createClass({displayName:"CreateAdminSidebar",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{selectedPage:S.getSelectedPage()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){S.on("change",this.onChange,this)},componentWillUnmount:function(){S.off("change",this.onChange)},selectPage:function(e){var t=e.target.href.split("#")[1];v.default.selectPage(t)},render:function(){var e=c.default.session.user(),t=_.isNull(e)?"":c.default.session.user().name;return p.default.createElement("div",{className:"sidenav"},p.default.createElement("header",{className:"row-fluid"},p.default.createElement("h3",null,t)),p.default.createElement("ul",{className:"nav nav-list",onClick:this.selectPage},p.default.createElement("li",{className:"changePassword"===this.state.selectedPage?"active":"","data-page":"changePassword"},p.default.createElement("a",{href:"#changePassword"},"Change Password")),p.default.createElement("li",{className:"addAdmin"===this.state.selectedPage?"active":"","data-page":"addAdmin"},p.default.createElement("a",{href:"#addAdmin"},"Create Admins"))))}}),P=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={password:""},n.authenticate=n.authenticate.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n}return s(t,e),r(t,[{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.authenticate()}},{key:"authenticate",value:function(){var e=d.default.session.get("userCtx").name;this.props.onSubmit(e,this.state.password,this.props.onSuccess)}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.onClose,i=t.submitBtnLabel,o=t.headerTitle,s=t.modalMessage;return this.props.visible?p.default.createElement(y.Modal,{dialogClassName:"enter-password-modal",show:n,onHide:function(){return a()}},p.default.createElement(y.Modal.Header,{closeButton:!0},p.default.createElement(y.Modal.Title,null,o)),p.default.createElement(y.Modal.Body,null,s,p.default.createElement("input",{style:{width:"385px"},type:"password",className:"password-modal-input",placeholder:"Enter your password",autoFocus:!0,value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},onKeyPress:this.onKeyPress})),p.default.createElement(y.Modal.Footer,null,p.default.createElement("a",{className:"cancel-link",onClick:function(){return a()}},"Cancel"),p.default.createElement(I,{text:i,onClick:this.authenticate}))):null}}]),t}(p.default.Component);P.propTypes={visible:p.default.PropTypes.bool.isRequired,modalMessage:p.default.PropTypes.oneOfType([p.default.PropTypes.string,p.default.PropTypes.element]),onSubmit:p.default.PropTypes.func.isRequired,onClose:p.default.PropTypes.func.isRequired,submitBtnLabel:p.default.PropTypes.string},P.defaultProps={headerTitle:"Enter Password",visible:!1,modalMessage:"",onClose:v.default.hidePasswordModal,onSubmit:v.default.authenticate,onSuccess:function(){},submitBtnLabel:"Continue"},t.default={LoginForm:w,ChangePasswordForm:O,CreateAdminForm:A,CreateAdminSidebar:R,PasswordModal:P}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(210),r=a(s),l=n(208),d=a(l);t.default={fetchNodes:function(){var e=this,t=new r.default.ClusterNodes;t.fetch().then(function(){e.updateNodes({nodes:t.get("nodes_mapped")})})},updateNodes:function(e){o.default.dispatch({type:d.default.CLUSTER_FETCH_NODES,options:e})},navigateToNodeBasedOnNodeCount:function(e){var t=new r.default.ClusterNodes;t.fetch().then(function(){var n=t.get("all_nodes");return 1===n.length?o.default.navigate(e+n[0]):o.default.navigate("/cluster/disabled",{trigger:!0})})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditor=void 0;var i=n(0),o=a(i),s=n(10),r=a(s),l=n(1),d=a(l),u=n(142),c=a(u),f=n(216);n(274),n(143),n(144),t.CodeEditor=o.default.createClass({displayName:"CodeEditor",getDefaultProps:function(){return{id:"code-editor",mode:"javascript",theme:"idle_fingers",fontSize:13,defaultCode:"",showGutter:!0,highlightActiveLine:!0,showPrintMargin:!1,autoScrollEditorIntoView:!0,autoFocus:!1,stringEditModalEnabled:!1,setHeightToLineCount:!1,maxLines:10,editorCommands:[],notifyUnsavedChanges:!1,ignorableErrors:[],change:function(){},blur:function(){}}},getInitialState:function(){return{originalCode:this.props.defaultCode,stringEditModalVisible:!1,stringEditIconVisible:!1,stringEditIconStyle:{},stringEditModalValue:""}},hasChanged:function(){return!_.isEqual(this.state.originalCode,this.getValue())},clearChanges:function(){this.setState({originalCode:this.getValue()})},setupAce:function(e,t){this.editor=c.default.edit(r.default.findDOMNode(this.refs.ace)),this.editor.$blockScrolling=1/0,t&&this.setValue(e.defaultCode),this.editor.setShowPrintMargin(e.showPrintMargin),this.editor.autoScrollEditorIntoView=e.autoScrollEditorIntoView,this.editor.setOption("highlightActiveLine",this.props.highlightActiveLine),this.props.setHeightToLineCount&&this.setHeightToLineCount(),this.props.ignorableErrors&&this.removeIgnorableAnnotations(),this.addCommands(),this.editor.getSession().setMode("ace/mode/"+e.mode),this.editor.setTheme("ace/theme/"+e.theme),this.editor.setFontSize(e.fontSize),this.editor.getSession().setTabSize(2),this.editor.getSession().setUseSoftTabs(!0),this.props.autoFocus&&this.editor.focus()},addCommands:function(){_.each(this.props.editorCommands,function(e){this.editor.commands.addCommand(e)},this)},setupEvents:function(){this.editor.on("blur",_.bind(this.onBlur,this)),this.editor.on("change",_.bind(this.onContentChange,this)),this.props.stringEditModalEnabled&&(this.editor.on("changeSelection",_.bind(this.showHideEditStringGutterIcon,this)),this.editor.getSession().on("changeBackMarker",_.bind(this.showHideEditStringGutterIcon,this)),this.editor.getSession().on("changeScrollTop",_.bind(this.updateEditStringGutterIconPosition,this))),this.props.notifyUnsavedChanges&&($(window).on("beforeunload.editor_"+this.props.id,_.bind(this.quitWarningMsg)),d.default.beforeUnload("editor_"+this.props.id,_.bind(this.quitWarningMsg,this)))},onBlur:function(){this.props.blur(this.getValue())},onContentChange:function(){this.props.setHeightToLineCount&&this.setHeightToLineCount(),this.props.change(this.getValue())},quitWarningMsg:function(){if(this.hasChanged())return"Your changes have not been saved. Click Cancel to return to the document, or OK to proceed."},removeEvents:function(){this.props.notifyUnsavedChanges&&($(window).off("beforeunload.editor_"+this.props.id),d.default.removeBeforeUnload("editor_"+this.props.id))},setHeightToLineCount:function(){var e=this.editor.getSession().getDocument().getLength(),t=e>this.props.maxLines?this.props.maxLines:e;this.editor.setOptions({maxLines:t})},componentDidMount:function(){this.setupAce(this.props,!0),this.setupEvents(),this.props.autoFocus&&this.editor.focus()},componentWillUnmount:function(){this.removeEvents(),this.editor.destroy()},componentWillReceiveProps:function(e){this.setupAce(e,!1)},getAnnotations:function(){return this.editor.getSession().getAnnotations()},isIgnorableError:function(e){return _.includes(this.props.ignorableErrors,e)},removeIgnorableAnnotations:function(){var e=this.isIgnorableError;this.editor.getSession().on("changeAnnotation",function(){var t=this.editor.getSession().getAnnotations(),n=_.reduce(t,function(t,n){return e(n.raw)||t.push(n),t},[]);t.length!==n.length&&this.editor.getSession().setAnnotations(n)}.bind(this))},showHideEditStringGutterIcon:function(){return this.hasErrors()||!this.parseLineForStringMatch()?(this.setState({stringEditIconVisible:!1}),!1):(this.setState({stringEditIconVisible:!0,stringEditIconStyle:{top:this.getGutterIconPosition()}}),!0)},updateEditStringGutterIconPosition:function(){this.state.stringEditIconVisible&&this.setState({stringEditIconStyle:{top:this.getGutterIconPosition()}})},getGutterIconPosition:function(){var e=this.getRowHeight(),t=this.editor.session.getScrollTop();return e*this.documentToScreenRow(this.getSelectionStart().row)-t+"px"},parseLineForStringMatch:function(){var e=this.getSelectionStart().row,t=this.getSelectionEnd().row;if(e>=0&&t>=0&&e===t&&this.isRowExpanded(e)){var n=this.getLine(e),a=n.match(/^([ \t]*)("[a-zA-Z0-9_\-]*["|']: )?(["|'].*",?[ \t]*)$/);if(a)return a}return!1},openStringEditModal:function(){var e=this.parseLineForStringMatch(),t=e[3],n=t.length-1;","===t.substring(t.length-1)&&(n=t.length-2),t=t.substring(1,n),this.setState({stringEditModalVisible:!0,stringEditModalValue:t})},saveStringEditModal:function(e){var t=this.parseLineForStringMatch(),n=t[1]||"",a=t[2]||"",i=t[3],o="";","===i.substring(i.length-1)&&(o=","),this.replaceCurrentLine(n+a+JSON.stringify(e)+o+"\n"),this.closeStringEditModal()},closeStringEditModal:function(){this.setState({stringEditModalVisible:!1})},hasErrors:function(){return!_.every(this.getAnnotations(),function(e){return this.isIgnorableError(e.raw)},this)},setReadOnly:function(e){this.editor.setReadOnly(e)},setValue:function(e,t){t=t||-1,this.editor.setValue(e,t)},getValue:function(){return this.editor.getValue()},getEditor:function(){return this},getLine:function(e){return this.editor.session.getLine(e)},getSelectionStart:function(){return this.editor.getSelectionRange().start},getSelectionEnd:function(){return this.editor.getSelectionRange().end},getRowHeight:function(){return this.editor.renderer.layerConfig.lineHeight},isRowExpanded:function(e){return!this.editor.getSession().isRowFolded(e)},documentToScreenRow:function(e){return this.editor.getSession().documentToScreenRow(e,0)},replaceCurrentLine:function(e){this.editor.getSelection().selectLine(),this.editor.insert(e),this.editor.getSelection().moveCursorUp()},render:function(){return o.default.createElement("div",null,o.default.createElement("div",{ref:"ace",className:"js-editor",id:this.props.id}),o.default.createElement("button",{ref:"stringEditIcon",className:"btn string-edit",title:"Edit string",disabled:!this.state.stringEditIconVisible,style:this.state.stringEditIconStyle,onClick:this.openStringEditModal},o.default.createElement("i",{className:"icon icon-edit"})),o.default.createElement(f.StringEditModal,{ref:"stringEditModal",visible:this.state.stringEditModalVisible,value:this.state.stringEditModalValue,onSave:this.saveStringEditModal,onClose:this.closeStringEditModal}))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TabElementWrapper=t.TabElement=void 0;var i=n(0),o=a(i);a(n(10)),(t.TabElement=function(e){var t=e.selected,n=e.text,a=e.onChange,i=e.iconClass,s=t?"tab-element-checked":"";return o.default.createElement("li",{className:"component-tab-element "+s},o.default.createElement("label",null,o.default.createElement("div",{className:"tab-element-indicator-wrapper"},o.default.createElement("div",{className:"tab-element-indicator"})),o.default.createElement("div",{className:"tab-element-content"},o.default.createElement("i",{className:i}),o.default.createElement("input",{type:"radio",value:n,checked:t,onChange:a}),n)))}).propTypes={selected:o.default.PropTypes.bool.isRequired,text:o.default.PropTypes.string.isRequired,onChange:o.default.PropTypes.func.isRequired,iconClass:o.default.PropTypes.string},t.TabElementWrapper=function(e){var t=e.children;return o.default.createElement("ul",{className:"component-tab-element-wrapper"},t)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(11),r=a(s),l=n(211),d=a(l),u={};u.ComponentStore=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._apiBarVisible=!1,this._apiBarButtonVisible=!0,this._endpoint="",this._docURL=o.default.constants.DOC_URLS.GENERAL},updateAPIBar:function(e){this._apiBarVisible=e.contentVisible,this._apiBarButtonVisible=e.buttonVisible,this._endpoint=e.endpoint,this._docURL=e.docURL},setVisibleButton:function(e){this._apiBarButtonVisible=e},setApiBarVisible:function(e){this._apiBarVisible=e},getEndpoint:function(){return this._endpoint},getDocURL:function(){return this._docURL},getIsAPIBarButtonVisible:function(){return this._apiBarButtonVisible},getIsAPIBarVisible:function(){return this._apiBarVisible},dispatch:function(e){switch(e.type){case d.default.CMPNTS_SHOW_API_BAR_BUTTON:this.setVisibleButton(!0);break;case d.default.CMPNTS_HIDE_API_BAR_BUTTON:this.setVisibleButton(!1);break;case d.default.CMPNTS_SET_API_BAR_CONTENT_VISIBLE_STATE:this.setApiBarVisible(e.options);break;case d.default.CMPNTS_UPDATE_API_BAR:this.updateAPIBar(e.options);break;default:return}this.triggerChange()}}),u.DeleteDbModalStore=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._deleteModal={showDeleteModal:!1,dbId:"",isSystemDatabase:!1}},setDeleteModal:function(e){e.isSystemDatabase=r.default.utils.isSystemDatabase(e.dbId),this._deleteModal=e},getShowDeleteDatabaseModal:function(){return this._deleteModal},dispatch:function(e){switch(e.type){case d.default.CMPNTS_DATABASES_SHOWDELETE_MODAL:this.setDeleteModal(e.options);break;default:return}this.triggerChange()}}),u.deleteDbModalStore=new u.DeleteDbModalStore,u.deleteDbModalStore.dispatchToken=o.default.dispatcher.register(u.deleteDbModalStore.dispatch),u.componentStore=new u.ComponentStore,u.componentStore.dispatchToken=o.default.dispatcher.register(u.componentStore.dispatch),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){N.default.dispatch({type:O.default.SELECT_REDUCE_CHANGE,reduceSelectedOption:e})}function o(e){N.default.dispatch({type:O.default.VIEW_NAME_CHANGE,name:e})}function s(e){N.default.dispatch({type:O.default.EDIT_INDEX,options:e})}function r(){N.default.dispatch({type:O.default.CLEAR_INDEX})}function l(e){e.designDocs.fetch({reset:!0}).then(function(){this.editIndex(e)}.bind(this))}function d(e){var t=e.designDoc;t.setDdocView(e.viewName,e.map,e.reduce),N.default.addNotification({msg:"Saving View...",type:"info",clear:!0}),e.originalDesignDocName===e.designDocId&&e.originalViewName!==e.viewName&&t.removeDdocView(e.originalViewName),t.save().then(function(){N.default.addNotification({msg:"View Saved.",type:"success",clear:!0}),e.originalDesignDocName!==e.designDocId&&b(v(e.designDocs,e.originalDesignDocName),e.designDocs,"views",e.originalViewName,{onSuccess:function(){R.default.updateDesignDocs(e.designDocs)}}),"new-doc"===e.designDocId&&u(t),N.default.dispatch({type:O.default.VIEW_SAVED});var n=N.default.urls("view","showView",e.database.safeID(),t.safeID(),C.default.utils.safeURLName(e.viewName));N.default.navigate(n,{trigger:!0})},function(e){N.default.addNotification({msg:""+e.responseJSON.reason,type:"error",clear:!0})})}function u(e){N.default.dispatch({type:O.default.VIEW_ADD_DESIGN_DOC,designDoc:e.toJSON()})}function c(e){function t(){if(e.isOnIndex){var t=N.default.urls("allDocs","app",e.database.safeID(),"?limit="+N.default.constants.DATABASES.DOCUMENT_LIMIT);N.default.navigate(t)}R.default.updateDesignDocs(e.designDocs),N.default.addNotification({msg:"The <code>"+_.escape(e.indexName)+"</code> view has been deleted.",type:"info",escape:!1,clear:!0}),N.default.dispatch({type:L.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL})}b(e.designDoc,e.designDocs,"views",e.indexName,{onSuccess:t})}function f(e){var t=y(e.designDocs,e.targetDesignDocName,e.newDesignDocName,e.database),n=t.get("views");if(n&&_.has(n,e.newIndexName))return void N.default.addNotification({msg:"That index name is already used in this design doc. Please enter a new name.",type:"error",clear:!0});n||(n={});var a=v(e.designDocs,"_design/"+e.sourceDesignDocName),i=a.toJSON();n[e.newIndexName]=i.views[e.sourceIndexName],t.set({views:n}),t.save().then(function(){e.onComplete(),N.default.addNotification({msg:"The index has been cloned.",type:"success",clear:!0}),R.default.updateDesignDocs(e.designDocs)},function(t){e.onComplete();var n=JSON.parse(t.responseText).reason;N.default.addNotification({msg:"Clone failed: "+n,type:"error",clear:!0})})}function p(e,t,n){N.default.navigate("#"+N.default.urls("view","edit",encodeURIComponent(e),t,n))}function h(e){N.default.dispatch({type:O.default.VIEW_UPDATE_MAP_CODE,code:e})}function m(e){N.default.dispatch({type:O.default.VIEW_UPDATE_REDUCE_CODE,code:e})}function g(e){N.default.dispatch({type:O.default.DESIGN_DOC_CHANGE,options:{value:e}})}function E(e){N.default.dispatch({type:O.default.DESIGN_DOC_NEW_NAME_UPDATED,options:{value:e}})}function b(e,t,n,a,i){var o=_.extend({onSuccess:function(){},onError:function(e){var t=JSON.parse(e.responseText).reason;N.default.addNotification({msg:"Delete failed: "+t,type:"error",clear:!0})}},i),s=e.get(n)||{};delete s[a];var r={};r[n]=s,e.set(r);var l,d=N.default.getIndexTypePropNames(),u=_.some(d,function(t){return e.get(t)&&_.keys(e.get(t)).length>0}),c=!1;u?l=e.save():(l=e.destroy(),c=!0),l.then(function(){c&&t.remove(e.id),o.onSuccess()},o.onError)}function v(e,t){return e.find(function(e){return e.id===t}).dDocModel()}function y(e,t,n,a){if("new-doc"===t){var i={_id:"_design/"+n,views:{},language:"javascript"};return new I.default.Doc(i,{database:a})}var o=e.find(function(e){return e.id===t});return o?o.dDocModel():null}Object.defineProperty(t,"__esModule",{value:!0});var D=n(11),C=a(D),T=n(1),N=a(T),S=n(30),I=a(S),w=n(239),O=a(w),A=n(52),R=a(A),P=n(135),L=a(P);t.default={helpers:{findDesignDoc:v,getDesignDoc:y},safeDeleteIndex:b,selectReduceChanged:i,changeViewName:o,editIndex:s,clearIndex:r,fetchDesignDocsBeforeEdit:l,saveView:d,addDesignDoc:u,deleteView:c,cloneView:f,gotoEditViewPage:p,updateMapCode:h,updateReduceCode:m,selectDesignDoc:g,updateNewDesignDocName:E}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewsTabsSidebarLayout=t.ChangesSidebarLayout=t.DocsTabsSidebarLayout=t.TabsSidebarContent=t.TabsSidebarHeader=void 0;var i=n(0),o=a(i),s=n(242),r=a(s),l=n(248),d=a(l),u=n(238),c=a(u),f=n(78),p=n(29),h=n(253),m=a(h),g=n(437),_=a(g),E=n(435),b=a(E),v=n(240),y=a(v),D=n(440),C=a(D),T=n(438),N=a(T),S=t.TabsSidebarHeader=function(e){var t=e.hideQueryOptions,n=e.hideHeaderBar,a=e.database,i=e.dbName,s=e.dropDownLinks,r=e.showIncludeAllDocs,l=e.docURL,d=e.endpoint;return o.default.createElement("header",{className:"two-panel-header"},o.default.createElement("div",{className:"flex-layout flex-row"},o.default.createElement("div",{id:"header-docs-left"},o.default.createElement(_.default,{dbName:i,dropDownLinks:s})),o.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},o.default.createElement("div",{id:"react-headerbar",className:"flex-body"},n?null:o.default.createElement(c.default.BulkDocumentHeaderController,{showIncludeAllDocs:r})),o.default.createElement("div",{id:"right-header",className:"flex-fill"},o.default.createElement(N.default,{hideQueryOptions:t,database:a})),o.default.createElement(p.ApiBarWrapper,{docURL:l,endpoint:d}),o.default.createElement("div",{id:"notification-center-btn",className:"flex-fill"},o.default.createElement(f.NotificationCenterButton,null)))))};S.propTypes={dbName:o.default.PropTypes.string.isRequired,dropDownLinks:o.default.PropTypes.array.isRequired,docURL:o.default.PropTypes.string,endpoint:o.default.PropTypes.string,showIncludeAllDocs:o.default.PropTypes.bool,hideHeaderBar:o.default.PropTypes.bool,database:o.default.PropTypes.object.isRequired},S.defaultProps={hideHeaderBar:!1};var I=t.TabsSidebarContent=function(e){var t=e.hideFooter,n=e.lowerContent,a=e.upperContent;return o.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},o.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},o.default.createElement(m.default.SidebarController,null)),o.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},o.default.createElement("div",{id:"dashboard-upper-content"},a),o.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},n),o.default.createElement("div",{id:"footer"},t?null:o.default.createElement(d.default.Footer,null))))};I.defaultProps={hideFooter:!1},I.propTypes={hideFooter:o.default.PropTypes.bool,lowerContent:o.default.PropTypes.object,upperContent:o.default.PropTypes.object};var w=(t.DocsTabsSidebarLayout=function(e){var t=e.database,n=e.designDocs,a=e.showIncludeAllDocs,i=e.docURL,s=e.endpoint,l=e.dbName,d=e.dropDownLinks;return o.default.createElement("div",{id:"dashboard",className:"with-sidebar"},o.default.createElement(S,{showIncludeAllDocs:a,docURL:i,endpoint:s,dbName:l,dropDownLinks:d,database:t}),o.default.createElement(I,{lowerContent:o.default.createElement(r.default.List,{designDocs:n})}))},t.ChangesSidebarLayout=function(e){var t=e.docURL,n=e.database,a=e.endpoint,i=e.dbName,s=e.dropDownLinks;return o.default.createElement("div",{id:"dashboard",className:"with-sidebar"},o.default.createElement(S,{hideHeaderBar:!0,docURL:t,endpoint:a,dbName:i,dropDownLinks:s,database:n}),o.default.createElement(I,{upperContent:o.default.createElement(b.default.ChangesTabContent,null),lowerContent:o.default.createElement(b.default.ChangesController,null),hideFooter:!0}))},t.ViewsTabsSidebarLayout=function(e){var t=e.showEditView,n=e.database,a=e.docURL,i=e.endpoint,s=e.dbName,r=e.dropDownLinks,l=t?o.default.createElement(y.default.EditorController,null):o.default.createElement(C.default.DesignDocInfo,null);return o.default.createElement("div",{id:"dashboard",className:"with-sidebar"},o.default.createElement(S,{hideHeaderBar:!0,endpoint:i,docURL:a,dbName:s,dropDownLinks:r,database:n}),o.default.createElement(I,{lowerContent:l,hideFooter:!0}))});w.defaultProps={showEditView:!0},w.propTypes={showEditView:o.default.PropTypes.bool,docURL:o.default.PropTypes.string.isRequired,endpoint:o.default.PropTypes.string,dbName:o.default.PropTypes.string.isRequired,dropDownLinks:o.default.PropTypes.array.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(97),d=a(l),u=n(246),c=a(u),f=n(37),p=a(f),h=n(52),m=a(h),g=n(96),E=a(g),b=r.default.RouteObject.extend({selectedHeader:"Databases",createDesignDocsCollection:function(){this.designDocs=new d.default.AllDocs(null,{database:this.database,paging:{pageSize:500},params:{startkey:"_design/",endkey:"_design0",include_docs:!0,limit:500}})},showQueryOptions:function(e,t,n){var a,i=this;this.designDocs.fetch({reset:!0}).then(function(){var o=_.findWhere(i.designDocs.models,{id:"_design/"+t});_.isUndefined(a=o.attributes.doc.views[n].reduce),E.default.showQueryOptions(),E.default.reset({queryParams:e,hasReduce:a,showReduce:!_.isUndefined(a),viewName:n,ddocName:t})})},addSidebar:function(e){var t={designDocs:this.designDocs,database:this.database};e&&(t.selectedNavItem=e),m.default.newOptions(t)},getCrumbs:function(e){return[{type:"back",link:r.default.urls("allDBs","app")},{name:e.id}]},createParams:function(e){var t=o.default.getParams(e),n=d.default.QueryParams.parse(t);c.default.setDocumentLimit(parseInt(t.limit,10));var a=p.default.indexResultsStore.getPerPage();return{urlParams:t,docParams:_.extend(n,{limit:a})}}});t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SIDEBAR_SET_SELECTED_NAV_ITEM:"SIDEBAR_SET_SELECTED_NAV_ITEM",SIDEBAR_NEW_OPTIONS:"SIDEBAR_NEW_OPTIONS",SIDEBAR_TOGGLE_CONTENT:"SIDEBAR_TOGGLE_CONTENT",SIDEBAR_FETCHING:"SIDEBAR_FETCHING",SIDEBAR_SHOW_DELETE_INDEX_MODAL:"SIDEBAR_SHOW_DELETE_INDEX_MODAL",SIDEBAR_HIDE_DELETE_INDEX_MODAL:"SIDEBAR_HIDE_DELETE_INDEX_MODAL",SIDEBAR_SHOW_CLONE_INDEX_MODAL:"SIDEBAR_SHOW_CLONE_INDEX_MODAL",SIDEBAR_HIDE_CLONE_INDEX_MODAL:"SIDEBAR_HIDE_CLONE_INDEX_MODAL",SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE:"SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE",SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED:"SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED",SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME:"SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME",SIDEBAR_UPDATED_DESIGN_DOCS:"SIDEBAR_UPDATED_DESIGN_DOCS"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(255),r=a(s);t.default={toggleNavbarMenu:function(){o.default.dispatch({type:r.default.TOGGLE_NAVBAR_MENU})},addHeaderLink:function(e){o.default.dispatch({type:r.default.ADD_NAVBAR_LINK,link:e})},removeHeaderLink:function(e){o.default.dispatch({type:r.default.REMOVE_NAVBAR_LINK,link:e})},setNavbarVersionInfo:function(e){o.default.dispatch({type:r.default.NAVBAR_SET_VERSION_INFO,version:e})},setNavbarActiveLink:function(e){o.default.dispatch({type:r.default.NAVBAR_ACTIVE_LINK,name:e})},showNavBar:function(){o.default.dispatch({type:r.default.NAVBAR_SHOW})},hideNavBar:function(){o.default.dispatch({type:r.default.NAVBAR_HIDE})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){e&&l.default.dispatch({type:u.default.INIT_REPLICATION,options:{localSource:e}}),fetch("/_all_dbs",{credentials:"include",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){l.default.dispatch({type:u.default.REPLICATION_DATABASES_LOADED,options:{databases:e}})})}function o(e,t){l.default.dispatch({type:u.default.REPLICATION_UPDATE_FORM_FIELD,options:{fieldName:e,value:t}})}function s(){l.default.dispatch({type:u.default.REPLICATION_CLEAR_FORM})}Object.defineProperty(t,"__esModule",{value:!0}),t.getReplicationStateFrom=t.deleteDocs=t.replicate=void 0;var r=n(1),l=a(r),d=n(261),u=a(d),c=n(479),f=a(c),p=n(53),h=a(p),m=n(262);n(201);var g=t.replicate=function e(t){var n=(0,m.createReplicationDoc)(t),a=fetch("/_replicator",{method:"POST",credentials:"include",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}),i=f.default.getDatabaseLabel(n.source),o=f.default.getDatabaseLabel(n.target);l.default.dispatch({type:u.default.REPLICATION_STARTING});var s=function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})};a.then(function(e){if(!e.ok)throw e;l.default.addNotification({msg:"Replication from <code>"+decodeURIComponent(i)+"</code> to <code>"+decodeURIComponent(o)+"</code> has been scheduled.",type:"success",escape:!1,clear:!0})}).catch(function(n){if(n.error&&"not_found"===n.error)return(0,m.createReplicatorDB)().then(function(){return e(t)}).catch(s);s(n)})},E=function(e){l.default.dispatch({type:u.default.REPLICATION_FETCHING_STATUS}),(0,m.fetchReplicationDocs)(e).then(function(e){l.default.dispatch({type:u.default.REPLICATION_STATUS,options:e})})},b=function(){(0,m.supportNewApi)().then(function(e){e&&(l.default.dispatch({type:u.default.REPLICATION_FETCHING_REPLICATE_STATUS}),(0,m.fetchReplicateInfo)().then(function(e){l.default.dispatch({type:u.default.REPLICATION_REPLICATE_STATUS,options:e})}))})},v=function(e){l.default.dispatch({type:u.default.REPLICATION_FILTER_DOCS,options:e})},y=function(e){l.default.dispatch({type:u.default.REPLICATION_FILTER_REPLICATE,options:e})},D=function(){l.default.dispatch({type:u.default.REPLICATION_TOGGLE_ALL_DOCS})},C=function(e){l.default.dispatch({type:u.default.REPLICATION_TOGGLE_DOC,options:e})},T=function(){l.default.dispatch({type:u.default.REPLICATION_TOGGLE_ALL_REPLICATE})},N=function(e){l.default.dispatch({type:u.default.REPLICATION_TOGGLE_REPLICATE,options:e})},S=function(){l.default.dispatch({type:u.default.REPLICATION_CLEAR_SELECTED_DOCS})},I=function(){l.default.dispatch({type:u.default.REPLICATION_CLEAR_SELECTED_REPLICATES})},w=t.deleteDocs=function(e){var t=e.map(function(e){var t=e.raw;return t._deleted=!0,t});l.default.addNotification({msg:"Deleting doc"+(t.length>1?"s":"")+".",type:"success",escape:!1,clear:!0}),fetch("/_replicator/_bulk_docs",{credentials:"include",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json"},method:"POST",body:JSON.stringify({docs:t})}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(){var t="The selected documents have been deleted.";1===e.length&&(t="Document <code>"+e[0]._id+"</code> has been deleted"),l.default.addNotification({msg:t,type:"success",escape:!1,clear:!0}),S(),E()}).catch(function(e){e.json().then(function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})})})},O=function(e){l.default.addNotification({msg:"Deleting _replicate"+(e.length>1?"s":"")+".",type:"success",escape:!1,clear:!0}),(0,m.deleteReplicatesApi)(e).then(function(){var t="The selected replications have been deleted.";1===e.length&&(t="Replication <code>"+e[0]._id+"</code> has been deleted"),I(),b(),l.default.addNotification({msg:t,type:"success",escape:!1,clear:!0})},function(e){var t=JSON.parse(e.responseText);l.default.addNotification({msg:t.reason,type:"error",clear:!0})})},A=t.getReplicationStateFrom=function(e){l.default.dispatch({type:u.default.REPLICATION_FETCHING_FORM_STATE}),fetch("/_replicator/"+encodeURIComponent(e),{credentials:"include",headers:{Accept:"application/json; charset=utf-8"},method:"GET"}).then(function(e){return e.json()}).then(function(e){var t={replicationDocName:e._id,replicationType:e.continuous?h.default.REPLICATION_TYPE.CONTINUOUS:h.default.REPLICATION_TYPE.ONE_TIME},n=_.isObject(e.source)?e.source.url:e.source,a=_.isObject(e.target)?e.target.url:e.target;if(n.indexOf(window.location.hostname)>-1){var i=new URL(n);t.replicationSource=h.default.REPLICATION_SOURCE.LOCAL,t.localSource=decodeURIComponent(i.pathname.slice(1))}else t.replicationSource=h.default.REPLICATION_SOURCE.REMOTE,t.remoteSource=(0,m.decodeFullUrl)(n);if(a.indexOf(window.location.hostname)>-1){var o=new URL(a);t.replicationTarget=h.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE,t.localTarget=decodeURIComponent(o.pathname.slice(1))}else t.replicationTarget=h.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE,t.remoteTarget=(0,m.decodeFullUrl)(a);l.default.dispatch({type:u.default.REPLICATION_SET_STATE_FROM_DOC,options:t})}).catch(function(e){l.default.addNotification({msg:e.reason,type:"error",clear:!0})})},R=function(){l.default.dispatch({type:u.default.REPLICATION_SHOW_CONFLICT_MODAL})},P=function(){l.default.dispatch({type:u.default.REPLICATION_HIDE_CONFLICT_MODAL})},L=function(e){l.default.dispatch({type:u.default.REPLICATION_CHANGE_ACTIVITY_SORT,options:e})},M=function(e,t){l.default.dispatch({type:u.default.REPLICATION_CHANGE_TAB_SECTION,options:e}),t&&l.default.navigate(t,{trigger:!1})},k=function(){(0,m.supportNewApi)().then(function(e){l.default.dispatch({type:u.default.REPLICATION_SUPPORT_NEW_API,options:e})})};t.default={checkForNewApi:k,initReplicator:i,replicate:g,updateFormField:o,clearReplicationForm:s,getReplicationActivity:E,filterDocs:v,selectAllDocs:D,selectDoc:C,deleteDocs:w,getReplicationStateFrom:A,showConflictModal:R,hideConflictModal:P,changeActivitySort:L,clearSelectedDocs:S,changeTabSection:M,getReplicateActivity:b,filterReplicate:y,selectReplicate:N,selectAllReplicates:T,deleteReplicates:O}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={TESTS:{CREATE_DATABASE:"TEST_CREATE_DATABASE",CREATE_DOCUMENT:"TEST_CREATE_DOCUMENT",UPDATE_DOCUMENT:"TEST_UPDATE_DOCUMENT",DELETE_DOCUMENT:"TEST_DELETE_DOCUMENT",CREATE_VIEW:"TEST_CREATE_VIEW",REPLICATION:"TEST_REPLICATION"}};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),o=a(i),s=n(20),r=a(s),l={getParams:function(e){e&&("?"===e.substring(0,1)?e=e.substring(1):e.indexOf("?")>-1&&(e=e.split("?")[1]));var t=window.location.hash.split("?")[1];e=e||t||window.location.search.substring(1);var n,a={},i=/\+/g,o=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(i," "))},r=e;if(e)for(;n=o.exec(r);)a[s(n[1])]=s(n[2]);return a},replaceQueryParams:function(e){var t=window.location.hash.replace(/\?.*$/,"");return r.default.isEmpty(e)||(t=t+"?"+o.default.param(e)),t},removeSpecialCharacters:function(e){return e.replace(/[^\w\s]/gi,"")},safeURLName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/[$+\/]/g.test(e)?encodeURIComponent(e):e},getDocTypeFromId:function(e){return e&&/^_design\//.test(e)?"design doc":"doc"},isSystemDatabase:function(e){return/^_/.test(e)},getSafeIdForDoc:function(e){if("design doc"===l.getDocTypeFromId(e)){var t=e.replace(/^_design\//,"");return"_design/"+l.safeURLName(t)}return l.safeURLName(e)},localStorageSet:function(e,t){(r.default.isObject(t)||r.default.isArray(t))&&(t=JSON.stringify(t));var n=!0;try{window.localStorage.setItem(e,t)}catch(e){n=!1}return n},localStorageGet:function(e){var t;if(r.default.has(window.localStorage,e)){t=window.localStorage[e];try{return JSON.parse(t)}catch(e){return t}}return t},stripHTML:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}};t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(269),o=a(i),s=n(139),r=a(s),l=n(170),d=a(l),u=n(20),c=a(u),f={};f.removeSpecialCharacters=r.default.removeSpecialCharacters,f.safeURL=r.default.safeURLName,f.imageUrl=function(e){return e},f.getDocUrl=function(e){return c.default.has(o.default.DOC_URLS,e)?o.default.DOC_URLS[e]:"#"},f.formatSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=512;if(e<n)return e+" bytes";for(var a=["KB","MB","GB","TB","PB","EB","ZB","YB"],i=0;e>=n&&i<a.length;)i+=1,e/=1024;return e.toFixed(t)+" "+a[i-1]},f.formatDate=function(e){return(0,d.default)(e,"X").format("MMM Do, h:mm:ss a")},f.getDateFromNow=function(e){return(0,d.default)(e,"X").fromNow()},t.default=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(206),r=a(s);t.default={init:function(e){this.fetchAndSetActiveTasks(e.table,e),o.default.when(e.fetch()).then(function(){this.fetchAndSetActiveTasks(e.table,e),this.setActiveTaskIsLoading(!1)}.bind(this))},fetchAndSetActiveTasks:function(e,t){o.default.dispatch({type:r.default.ACTIVE_TASKS_FETCH_AND_SET,options:{collectionTable:e,backboneCollection:t}})},changePollingInterval:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_CHANGE_POLLING_INTERVAL,options:e})},switchTab:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_SWITCH_TAB,options:e})},setCollection:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_SET_COLLECTION,options:e})},setSearchTerm:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_SET_SEARCH_TERM,options:e})},sortByColumnHeader:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER,options:{columnName:e}})},setActiveTaskIsLoading:function(e){o.default.dispatch({type:r.default.ACTIVE_TASKS_SET_IS_LOADING,options:e})},runPollingUpdate:function(e){e.pollingFetch().then(function(){o.default.dispatch({type:r.default.ACTIVE_TASKS_POLLING_COLLECTION,options:e.table})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACTIVE_TASKS_SWITCH_TAB:"ACTIVE_TASKS_SWITCH_TAB",ACTIVE_TASKS_SET_COLLECTION:"ACTIVE_TASKS_SET_COLLECTION",ACTIVE_TASKS_SET_SEARCH_TERM:"ACTIVE_TASKS_SET_SEARCH_TERM",ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:"ACTIVE_TASKS_SORT_BY_COLUMN_HEADER",ACTIVE_TASKS_FETCH_AND_SET:"ACTIVE_TASKS_FETCH_AND_SET",ACTIVE_TASKS_SET_IS_LOADING:"ACTIVE_TASKS_SET_IS_LOADING",ACTIVE_TASKS_POLLING_COLLECTION:"ACTIVE_TASKS_POLLING_COLLECTION"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(205),r=a(s),l={};l.AllTasks=Backbone.Collection.extend({url:function(){return o.default.host+"/_active_tasks"},pollingFetch:function(){return r.default.setActiveTaskIsLoading(!0),this.fetch({reset:!0,parse:!0})},parse:function(e){r.default.setActiveTaskIsLoading(!1);var t=[];return _.each(e,function(e){t.push(e)}),this.table=t,e},table:[]}),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLUSTER_FETCH_NODES:"CLUSTER_FETCH_NODES"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(208),r=a(s),l=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._nodes=[]},setNodes:function(e){this._nodes=e.nodes},getNodes:function(){return this._nodes},dispatch:function(e){switch(e.type){case r.default.CLUSTER_FETCH_NODES:this.setNodes(e.options);break;default:return}this.triggerChange()}}),d=new l;d.dispatchToken=o.default.dispatcher.register(d.dispatch.bind(d)),t.default={nodesStore:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=r.default.addon();l.ClusterNodes=Backbone.Model.extend({url:function(e){return"apiurl"===e?window.location.origin+"/_membership":o.default.host+"/_membership"},parse:function(e){var t;return t=e.all_nodes.reduce(function(t,n){var a=-1!==e.cluster_nodes.indexOf(n);return t.push({node:n,isInCluster:a}),t},[]),e.nodes_mapped=t,e}}),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CMPNTS_SHOW_API_BAR_BUTTON:"CMPNTS_SHOW_API_BAR_BUTTON",CMPNTS_HIDE_API_BAR_BUTTON:"CMPNTS_HIDE_API_BAR_BUTTON",CMPNTS_UPDATE_API_BAR:"CMPNTS_UPDATE_API_BAR",CMPNTS_SET_API_BAR_CONTENT_VISIBLE_STATE:"CMPNTS_SET_API_BAR_CONTENT_VISIBLE_STATE",CMPNTS_DATABASES_SHOWDELETE_MODAL:"CMPNTS_DATABASES_SHOWDELETE_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ApiBarController=t.APIBar=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(1)),l=a(r),d=n(218),u=n(214),c=n(50),f=a(c),p=n(131),h=a(p),m=n(217),g=n(94),_=a(g),E=h.default.componentStore,b=t.APIBar=o.default.createClass({displayName:"APIBar",propTypes:{buttonVisible:o.default.PropTypes.bool.isRequired,contentVisible:o.default.PropTypes.bool.isRequired,docURL:o.default.PropTypes.string,endpoint:o.default.PropTypes.string},showCopiedMessage:function(){l.default.addNotification({msg:"The API URL has been copied to the clipboard.",type:"success",clear:!0})},getDocIcon:function(){return this.props.docURL?o.default.createElement("a",{className:"help-link","data-bypass":"true",href:this.props.docURL,target:"_blank"},o.default.createElement("i",{className:"icon icon-question-sign"})):null},getTray:function(){var e=this.props.endpoint;return o.default.createElement(d.TrayContents,{closeTray:this.closeTray,contentVisible:this.props.contentVisible,className:"tray show-tray api-bar-tray"},o.default.createElement("div",{className:"input-prepend input-append"},o.default.createElement("span",{className:"add-on"},"API URL",this.getDocIcon()),o.default.createElement(u.Copy,{textDisplay:"Copy URL",text:e,displayType:"input",uniqueKey:_.default.v4(),onClipboardClick:this.showCopiedMessage}),o.default.createElement("div",{className:"add-on"},o.default.createElement("a",{"data-bypass":"true",href:e,target:"_blank",className:"btn"},"View JSON"))))},toggleTrayVisibility:function(){f.default.toggleApiBarVisibility(!this.props.contentVisible)},closeTray:function(){f.default.toggleApiBarVisibility(!1)},render:function(){return this.props.buttonVisible&&this.props.endpoint?o.default.createElement("div",null,o.default.createElement(m.ToggleHeaderButton,{containerClasses:"header-control-box control-toggle-api-url",title:"API URL",fonticon:"fonticon-link",text:"API",toggleCallback:this.toggleTrayVisibility}),this.getTray()):null}});t.ApiBarController=o.default.createClass({displayName:"ApiBarController",getWrap:function(){return(0,d.connectToStores)(d.TrayWrapper,[E],function(){return{buttonVisible:E.getIsAPIBarButtonVisible(),contentVisible:E.getIsAPIBarVisible(),endpoint:E.getEndpoint(),docURL:E.getDocURL()}})},render:function(){var e=this.getWrap();return o.default.createElement(e,null,o.default.createElement(b,{buttonVisible:!0,contentVisible:!1}))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Beautify=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(492)),l=a(r);t.Beautify=o.default.createClass({displayName:"Beautify",noOfLines:function(){return this.props.code.split(/\r\n|\r|\n/).length},canBeautify:function(){return 1===this.noOfLines()},addTooltip:function(){this.canBeautify&&$(".beautify-tooltip").tooltip({placement:"right"})},componentDidMount:function(){this.addTooltip()},beautify:function(e){e.preventDefault();var t=(0,l.default)(this.props.code);this.props.beautifiedCode(t),$(".beautify-tooltip").tooltip("hide")},render:function(){return this.canBeautify()?o.default.createElement("button",{onClick:this.beautify,className:"beautify beautify_map btn btn-primary btn-small beautify-tooltip",type:"button","data-toggle":"tooltip",title:"Reformat your minified code to make edits to it."},"beautify this code"):null}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Copy=t.destroyClipboard=t.initializeClipboard=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(10),c=(a(u),n(507)),f=a(c),p=void 0,h=t.initializeClipboard=function(e,t){p=new f.default("#copy-"+e),p.on("success",function(){t()})},m=t.destroyClipboard=function(){p.destroy()},g=t.Copy=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"componentDidMount",value:function(){h(this.props.uniqueKey,this.props.onClipboardClick)}},{key:"componentWillUnmount",value:function(){m()}},{key:"componentDidUpdate",value:function(){h(this.props.uniqueKey,this.props.onClipboardClick)}},{key:"getClipboardElement",value:function(){return"icon"===this.props.displayType?d.default.createElement("i",{className:"fontawesome icon-paste"}):this.props.textDisplay}},{key:"getClipboardButton",value:function(){var e="input"===this.props.displayType?"btn copy-button":"copy clipboard-copy-element";return d.default.createElement("button",{className:e,"data-clipboard-text":this.props.text,title:this.props.title,id:"copy-"+this.props.uniqueKey},this.getClipboardElement())}},{key:"render",value:function(){return"input"===this.props.displayType?d.default.createElement("p",null,d.default.createElement("input",{type:"text",className:"input-xxlarge text-field-to-copy",readOnly:!0,value:this.props.text}),this.getClipboardButton()):this.getClipboardButton()}}]),t}(d.default.Component);g.defaultProps={displayType:"icon",textDisplay:"Copy",title:"Copy to clipboard",onClipboardClick:function(){}},g.propTypes={text:d.default.PropTypes.string.isRequired,displayType:d.default.PropTypes.oneOf(["icon","text","input"]),uniqueKey:d.default.PropTypes.string.isRequired,onClipboardClick:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadLines=void 0;var i=n(0),o=a(i);a(n(10)),t.LoadLines=function(){return o.default.createElement("div",{className:"loading-lines"},o.default.createElement("div",{id:"line1"}," "),o.default.createElement("div",{id:"line2"}," "),o.default.createElement("div",{id:"line3"}," "),o.default.createElement("div",{id:"line4"}," "))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StringEditModal=void 0;var i=n(0),o=a(i),s=n(10),r=a(s),l=n(22),d=n(142),u=a(d),c=n(59),f=a(c);n(274),n(143),n(144),t.StringEditModal=o.default.createClass({displayName:"StringEditModal",propTypes:{value:o.default.PropTypes.string.isRequired,visible:o.default.PropTypes.bool.isRequired,onClose:o.default.PropTypes.func.isRequired,onSave:o.default.PropTypes.func.isRequired},getDefaultProps:function(){return{visible:!1,onClose:function(){},onSave:function(){}}},componentDidMount:function(){this.props.visible&&this.initEditor(this.props.value)},componentDidUpdate:function(e){if(this.props.visible){var t="";!e.visible&&this.props.visible&&(t=f.default.parseJSON(this.props.value)),this.initEditor(t)}},initEditor:function(e){this.editor=u.default.edit(r.default.findDOMNode(this.refs.stringEditor)),this.editor.$blockScrolling=1/0,this.editor.setShowPrintMargin(!1),this.editor.setOption("highlightActiveLine",!0),this.editor.setTheme("ace/theme/idle_fingers"),this.editor.setValue(e,-1)},closeModal:function(){this.props.onClose()},save:function(){this.props.onSave(this.editor.getValue())},render:function(){return o.default.createElement(l.Modal,{dialogClassName:"string-editor-modal",show:this.props.visible,onHide:this.closeModal},o.default.createElement(l.Modal.Header,{closeButton:!0},o.default.createElement(l.Modal.Title,null,"Edit Value ",o.default.createElement("span",{id:"string-edit-header"}))),o.default.createElement(l.Modal.Body,null,o.default.createElement("div",{id:"modal-error",className:"hide alert alert-error"}),o.default.createElement("div",{id:"string-editor-wrapper"},o.default.createElement("div",{ref:"stringEditor",className:"doc-code"}))),o.default.createElement(l.Modal.Footer,null,o.default.createElement("a",{className:"cancel-link",onClick:this.closeModal},"Cancel"),o.default.createElement("button",{id:"string-edit-save-btn",onClick:this.save,className:"btn btn-primary save"},o.default.createElement("i",{className:"fonticon-circle-check"})," Modify Text")))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleHeaderButton=void 0;var i=n(0),o=a(i);a(n(10)),t.ToggleHeaderButton=o.default.createClass({displayName:"ToggleHeaderButton",getDefaultProps:function(){return{innerClasses:"",fonticon:"",containerClasses:"",selected:!1,title:"",disabled:!1,toggleCallback:null,text:"",iconDefaultClass:"icon"}},render:function(){var e=this.props,t=e.iconDefaultClass,n=e.fonticon,a=e.innerClasses,i=e.selected,s=e.containerClasses,r=e.title,l=e.disabled,d=e.text,u=e.toggleCallback,c=i?"js-headerbar-togglebutton-selected":"";return o.default.createElement("button",{title:r,disabled:l,onClick:u,className:"button "+s+" "+c},o.default.createElement("i",{className:t+" "+n+" "+a}),o.default.createElement("span",null,d))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TrayWrapper=t.connectToStores=t.TrayContents=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),s=a(o),r=n(10),l=a(r),d=n(322),u=a(d),c=n(22),f=function(e){return e.children};t.TrayContents=s.default.createClass({displayName:"TrayContents",propTypes:{contentVisible:s.default.PropTypes.bool.isRequired,closeTray:s.default.PropTypes.func.isRequired,onEnter:s.default.PropTypes.func,container:s.default.PropTypes.object},defaultProps:{onEnter:function(){},container:void 0},getChildren:function(){var e="tray show-tray "+this.props.className;return s.default.createElement("div",{key:1,id:this.props.id,className:e},this.props.children)},render:function(){var e=this;return s.default.createElement(c.Overlay,{show:this.props.contentVisible,onHide:this.props.closeTray,placement:"bottom",container:this.props.container,rootClose:!0,target:function(){return l.default.findDOMNode(e.refs.target)},onEnter:this.props.onEnter},s.default.createElement(f,null,s.default.createElement(u.default,{transitionName:"tray",transitionAppear:!0,component:"div",transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300},this.getChildren())))}}),t.connectToStores=function(e,t,n){return s.default.createClass({displayName:"WrappingElement",componentDidMount:function(){t.forEach(function(e){e.on("change",this.onChange,this)}.bind(this))},componentWillUnmount:function(){t.forEach(function(e){e.off("change",this.onChange)}.bind(this))},getInitialState:function(){return n(this.props)},onChange:function(){this.isMounted()&&this.setState(n(this.props))},handleStoresChanged:function(){this.isMounted()&&this.setState(n(this.props))},render:function(){return s.default.createElement(e,i({},this.state,this.props))}})},t.TrayWrapper=s.default.createClass({displayName:"TrayWrapper",getDefaultProps:function(){return{className:""}},renderChildren:function(){return s.default.Children.map(this.props.children,function(e){var t=this,n={};return Object.keys(this.props).filter(function(e){return t.props.hasOwnProperty(e)}).map(function(e){return n[e]=t.props[e]}),s.default.cloneElement(e,n)}.bind(this))},render:function(){return s.default.createElement("div",null,this.renderChildren())}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ZenModeOverlay=void 0;var i=n(0),o=a(i),s=n(10),r=a(s),l=n(11),d=a(l),u=n(129);n(502),t.ZenModeOverlay=o.default.createClass({displayName:"ZenModeOverlay",getDefaultProps:function(){return{mode:"javascript",defaultCode:"",ignorableErrors:[],onExit:null,highlightActiveLine:!1}},themes:{dark:"idle_fingers",light:"dawn"},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{theme:this.getZenTheme(),code:this.props.defaultCode}},getZenTheme:function(){var e=d.default.utils.localStorageGet("zenTheme");return _.isUndefined(e)?"dark":e},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){$(r.default.findDOMNode(this.refs.exit)).tooltip({placement:"left"}),$(r.default.findDOMNode(this.refs.theme)).tooltip({placement:"left"})},exitZenMode:function(){this.props.onExit(this.getValue())},getValue:function(){return this.refs.ace.getValue()},toggleTheme:function(){var e="dark"===this.state.theme?"light":"dark";this.setState({theme:e,code:this.getValue()}),d.default.utils.localStorageSet("zenTheme",e)},setValue:function(e,t){t=t||-1,this.editor.setValue(e,t)},render:function(){var e="full-page-editor-modal-wrapper zen-theme-"+this.state.theme,t=[{name:"close",bindKey:{win:"ESC",mac:"ESC"},exec:this.exitZenMode}];return o.default.createElement("div",{className:e},o.default.createElement("div",{className:"zen-mode-controls"},o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("span",{ref:"exit",className:"fonticon fonticon-resize-small js-exit-zen-mode","data-toggle":"tooltip","data-container":".zen-mode-controls .tooltips",title:"Exit zen mode (`esc`)",onClick:this.exitZenMode})),o.default.createElement("li",null,o.default.createElement("span",{ref:"theme",className:"fonticon fonticon-picture js-toggle-theme","data-toggle":"tooltip","data-container":".zen-mode-controls .tooltips",title:"Switch zen theme",onClick:this.toggleTheme}))),o.default.createElement("div",{className:"tooltips"})),o.default.createElement(u.CodeEditor,{ref:"ace",autoFocus:!0,theme:this.themes[this.state.theme],defaultCode:this.props.defaultCode,editorCommands:t,ignorableErrors:this.props.ignorableErrors,highlightActiveLine:this.props.highlightActiveLine}))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(221),o=a(i),s=n(1),r=a(s),l=n(222),d=a(l);t.default={fetchAndEditConfig:function(e){var t=this;r.default.dispatch({type:o.default.LOADING_CONFIG});var n=new d.default.ConfigModel({node:e});n.fetch().then(function(){return t.editSections({sections:n.get("sections"),node:e})})},editSections:function(e){r.default.dispatch({type:o.default.EDIT_CONFIG,options:e})},editOption:function(e){r.default.dispatch({type:o.default.EDIT_OPTION,options:e})},cancelEdit:function(e){r.default.dispatch({type:o.default.CANCEL_EDIT,options:e})},saveOption:function(e,t){var n=this;r.default.dispatch({type:o.default.SAVING_OPTION,options:t});var a=t;a.node=e,new d.default.OptionModel(a).save().then(function(){return n.optionSaveSuccess(t)}).fail(function(e){return n.optionSaveFailure(t,JSON.parse(e.responseText).reason)})},optionSaveSuccess:function(e){r.default.dispatch({type:o.default.OPTION_SAVE_SUCCESS,options:e}),r.default.addNotification({msg:"Option "+e.optionName+" saved",type:"success"})},optionSaveFailure:function(e,t){r.default.dispatch({type:o.default.OPTION_SAVE_FAILURE,options:e}),r.default.addNotification({msg:"Option save failed: "+t,type:"error"})},addOption:function(e,t){var n=this;r.default.dispatch({type:o.default.ADDING_OPTION});var a=t;a.node=e,new d.default.OptionModel(a).save().then(function(){return n.optionAddSuccess(t)}).fail(function(e){return n.optionAddFailure(t,JSON.parse(e.responseText).reason)})},optionAddSuccess:function(e){r.default.dispatch({type:o.default.OPTION_ADD_SUCCESS,options:e}),r.default.addNotification({msg:"Option "+e.optionName+" added",type:"success"})},optionAddFailure:function(e,t){r.default.dispatch({type:o.default.OPTION_ADD_FAILURE,options:e}),r.default.addNotification({msg:"Option add failed: "+t,type:"error"})},deleteOption:function(e,t){var n=this;r.default.dispatch({type:o.default.DELETING_OPTION,options:t});var a=t;a.node=e,new d.default.OptionModel(a).destroy().then(function(){return n.optionDeleteSuccess(t)}).fail(function(e){return n.optionDeleteFailure(t,JSON.parse(e.responseText).reason)})},optionDeleteSuccess:function(e){r.default.dispatch({type:o.default.OPTION_DELETE_SUCCESS,options:e}),r.default.addNotification({msg:"Option "+e.optionName+" deleted",type:"success"})},optionDeleteFailure:function(e,t){r.default.dispatch({type:o.default.OPTION_DELETE_FAILURE,options:e}),r.default.addNotification({msg:"Option delete failed: "+t,type:"error"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EDIT_CONFIG:"EDIT_CONFIG",LOADING_CONFIG:"LOADING_CONFIG",EDIT_OPTION:"EDIT_OPTION",CANCEL_EDIT:"CANCEL_EDIT",SAVING_OPTION:"SAVING_OPTION",OPTION_SAVE_SUCCESS:"OPTION_SAVE_SUCCESS",OPTION_SAVE_FAILURE:"OPTION_SAVE_FAILURE",DELETING_OPTION:"DELETING_OPTION",OPTION_DELETE_SUCCESS:"OPTION_DELETE_SUCCESS",OPTION_DELETE_FAILURE:"OPTION_DELETE_FAILURE",ADDING_OPTION:"ADDING_OPTION",OPTION_ADD_SUCCESS:"OPTION_ADD_SUCCESS",OPTION_ADD_FAILURE:"OPTION_ADD_FAILURE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=r.default.addon();l.OptionModel=Backbone.Model.extend({documentation:r.default.constants.DOC_URLS.CONFIG,url:function(){if(!this.get("node"))throw new Error("no node set");return o.default.host+"/_node/"+this.get("node")+"/_config/"+this.get("sectionName")+"/"+encodeURIComponent(this.get("optionName"))},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}}),l.ConfigModel=Backbone.Model.extend({documentation:r.default.constants.DOC_URLS.CONFIG,url:function(){if(!this.get("node"))throw new Error("no node set");return o.default.host+"/_node/"+this.get("node")+"/_config"},parse:function(e){return{sections:e}}}),t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(224),r=a(s),l=n(225),d=a(l);t.default={fetchAndEditCors:function(e){var t=new d.default.Config({node:e}),n=new d.default.Httpd({node:e});o.default.when([t.fetch(),n.fetch()]).then(function(){this.editCors({origins:t.get("origins"),isEnabled:n.corsEnabled(),node:e})}.bind(this))},editCors:function(e){o.default.dispatch({type:r.default.EDIT_CORS,options:e})},toggleEnableCors:function(){o.default.dispatch({type:r.default.TOGGLE_ENABLE_CORS})},addOrigin:function(e){o.default.dispatch({type:r.default.CORS_ADD_ORIGIN,origin:e})},originChange:function(e){o.default.dispatch({type:r.default.CORS_IS_ALL_ORIGINS,isAllOrigins:e})},deleteOrigin:function(e){o.default.dispatch({type:r.default.CORS_DELETE_ORIGIN,origin:e})},updateOrigin:function(e,t){o.default.dispatch({type:r.default.CORS_UPDATE_ORIGIN,updatedOrigin:e,originalOrigin:t})},methodChange:function(e){o.default.dispatch({type:r.default.CORS_METHOD_CHANGE,httpMethod:e})},saveEnableCorsToHttpd:function(e,t){return new d.default.ConfigModel({section:"httpd",attribute:"enable_cors",value:e.toString(),node:t}).save()},saveCorsOrigins:function(e,t){return new d.default.ConfigModel({section:"cors",attribute:"origins",value:e,node:t}).save()},saveCorsCredentials:function(e){return new d.default.ConfigModel({section:"cors",attribute:"credentials",value:"true",node:e}).save()},saveCorsHeaders:function(e){return new d.default.ConfigModel({section:"cors",attribute:"headers",value:"accept, authorization, content-type, origin, referer",node:e}).save()},saveCorsMethods:function(e){return new d.default.ConfigModel({section:"cors",attribute:"methods",value:"GET, PUT, POST, HEAD, DELETE",node:e}).save()},sanitizeOrigins:function(e){return _.isEmpty(e)?"":e.join(",")},toggleLoadingBarsToEnabled:function(e){o.default.dispatch({type:r.default.CORS_SET_IS_LOADING,isLoading:e})},saveCors:function(e){this.toggleLoadingBarsToEnabled(!0);var t=[];t.push(this.saveEnableCorsToHttpd(e.enableCors,e.node)),e.enableCors&&(t.push(this.saveCorsOrigins(this.sanitizeOrigins(e.origins),e.node)),t.push(this.saveCorsCredentials(e.node)),t.push(this.saveCorsHeaders(e.node)),t.push(this.saveCorsMethods(e.node))),o.default.when(t).then(function(){o.default.addNotification({msg:"Cors settings updated.",type:"success",clear:!0}),this.hideDeleteDomainModal(),this.toggleLoadingBarsToEnabled(!1)}.bind(this),function(){o.default.addNotification({msg:"Error! Could not save your CORS settings. Please try again.",type:"error",clear:!0}),this.toggleLoadingBarsToEnabled(!1)}.bind(this))},showDeleteDomainModal:function(e){o.default.dispatch({type:r.default.CORS_SHOW_DELETE_DOMAIN_MODAL,options:{domain:e}})},hideDeleteDomainModal:function(){o.default.dispatch({type:r.default.CORS_HIDE_DELETE_DOMAIN_MODAL})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TOGGLE_ENABLE_CORS:"TOGGLE_ENABLE_CORS",EDIT_CORS:"EDIT_CORS",CORS_ADD_ORIGIN:"CORS_ADD_ORIGIN",CORS_IS_ALL_ORIGINS:"CORS_IS_ALL_ORIGINS",CORS_DELETE_ORIGIN:"CORS_DELETE_ORIGIN",CORS_UPDATE_ORIGIN:"CORS_UPDATE_ORIGIN",CORS_METHOD_CHANGE:"CORS_METHOD_CHANGE",CORS_SET_IS_LOADING:"CORS_SET_IS_LOADING",CORS_SHOW_DELETE_DOMAIN_MODAL:"CORS_SHOW_DELETE_DOMAIN_MODAL",CORS_HIDE_DELETE_DOMAIN_MODAL:"CORS_HIDE_DELETE_DOMAIN_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=r.default.addon();l.Config=r.default.Model.extend({url:function(){if(!this.get("node"))throw new Error("node not set");return window.location.origin+"/_node/"+this.get("node")+"/_config/cors"},parse:function(e){return{origins:e.origins?e.origins.split(","):[],methods:e.methods,credentials:e.credentials,headers:e.headers}}}),l.Httpd=r.default.Model.extend({url:function(){if(!this.get("node"))throw new Error("node not set");return window.location.origin+"/_node/"+this.get("node")+"/_config/httpd"},corsEnabled:function(){var e=this.get("enable_cors");return!_.isUndefined(e)&&"true"===e}}),l.ConfigModel=Backbone.Model.extend({documentation:"cors",url:function(){if(!this.get("node"))throw new Error("node not set");return o.default.host+"/_node/"+this.get("node")+"/_config/"+encodeURIComponent(this.get("section"))+"/"+encodeURIComponent(this.get("attribute"))},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}}),l.validateCORSDomain=function(e){return/^https?:\/\/(.*)(:\d{2,5})?$/.test(e)},l.normalizeUrls=function(e){var t=document.createElement("a");return t.href=e,/:/.test(e)?t.protocol+"//"+t.host:t.protocol+"//"+t.hostname},t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=[],a=[],i=0;e.forEach(function(s){o(f.default.urls("databaseBaseURL","server",s)).then(function(e){n.push(e)}).fail(function(){a.push(s)}).always(function(){++i===e.length&&l({dbList:e,databaseDetails:n,failedDbs:a,fullDbList:t})})})}function o(e){return $.ajax({cache:!1,url:e,dataType:"json"}).then(function(e){return e})}function s(){return o(f.default.urls("allDBs","server"))}function r(e,t,n){var a=(t-1)*n,i=t*n;return e.slice(a,i)}function l(e){f.default.dispatch({type:g.default.DATABASES_UPDATE,options:e})}Object.defineProperty(t,"__esModule",{value:!0});var d=n(11),u=a(d),c=n(1),f=a(c),p=n(228),h=a(p),m=n(227),g=a(m),E=n(77),b=a(E);t.default={getDatabaseList:s,paginate:r,getDatabaseDetails:i,fetch:o,init:function(){var e=this,t=u.default.getParams(),n=t.page?parseInt(t.page,10):1,a=f.default.constants.MISC.DEFAULT_PAGE_SIZE;this.setStartLoading(),this.setPage(n),s(a,n).then(function(t){var o=r(t,n,a);e.updateDatabases({dbList:o,databaseDetails:[],failedDbs:[],fullDbList:t}),i(o,t)})},updateDatabases:l,setPage:function(e){f.default.dispatch({type:g.default.DATABASES_SETPAGE,options:{page:e}})},setStartLoading:function(){f.default.dispatch({type:g.default.DATABASES_STARTLOADING})},setLoadComplete:function(){f.default.dispatch({type:g.default.DATABASES_LOADCOMPLETE})},createNewDatabase:function(e){if(_.isNull(e)||0===e.trim().length)return void f.default.addNotification({msg:"Please enter a valid database name",type:"error",clear:!0});e=e.trim(),f.default.dispatch({type:g.default.DATABASES_SET_PROMPT_VISIBLE,options:{visible:!1}});var t=h.default.databasesStore.obtainNewDatabaseModel(e);f.default.addNotification({msg:"Creating database."}),t.save().done(function(){f.default.addNotification({msg:"Database created successfully",type:"success",clear:!0});var t=f.default.urls("allDocs","app",u.default.utils.safeURLName(e),"?limit="+b.default.DocLimit);u.default.router.navigate(t,{trigger:!0})}).error(function(e){var t=JSON.parse(e.responseText).reason;f.default.addNotification({msg:"Create database failed: "+t,type:"error",clear:!0})})},jumpToDatabase:function(e){if(!_.isNull(e)&&0!==e.trim().length){e=e.trim();var t=f.default.urls("allDocs","app",u.default.utils.safeURLName(e),"");return setTimeout(function(){f.default.navigate(t)})}},fetchAllDbsWithKey:function(e,t){var n="?"+$.param({startkey:JSON.stringify(e),endkey:JSON.stringify(e+"香"),limit:30}),a=u.default.host+"/_all_dbs"+n;$.ajax({cache:!1,url:a,dataType:"json"}).then(function(e){var n=e.map(function(e){return{value:e,label:e}});t(null,{options:n})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DATABASES_SETPAGE:"DATABASES_SETPAGE",DATABASES_SET_PROMPT_VISIBLE:"DATABASES_SET_PROMPT_VISIBLE",DATABASES_STARTLOADING:"DATABASES_STARTLOADING",DATABASES_LOADCOMPLETE:"DATABASES_LOADCOMPLETE",DATABASES_UPDATE:"DATABASES_UPDATE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1),s=a(o),r=n(227),l=a(r),d=n(77),u=a(d),c=n(140),f=a(c),p=u.default.Model,h=s.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._loading=!1,this._promptVisible=!1,this._page=1,this._dbList=[],this._databaseDetails=[],this._failedDbs=[],this._fullDbList=[]},getPage:function(){return this._page},isLoading:function(){return this._loading},setLoading:function(e){this._loading=e},isPromptVisible:function(){return this._promptVisible},setPromptVisible:function(e){this._promptVisible=e},obtainNewDatabaseModel:function(e){return new p({id:e,name:e})},doesDatabaseExist:function(e){return-1!==this._dbList.indexOf(e)},getTotalAmountOfDatabases:function(){return this._fullDbList.length},getDbList:function(){var e=this;return this._dbList.map(function(t){var n=e._databaseDetails.filter(function(e){return e.db_name===t}),a={id:t,encodedId:encodeURIComponent(t),url:s.default.urls("allDocsSanitized","app",t),failed:-1!==e._failedDbs.indexOf(t)};return i({},a,e._getDetails(n[0]))})},_getDetails:function(e){if(!e)return{};var t=e.data_size||e.disk_size||0;return{dataSize:f.default.formatSize(t),docCount:e.doc_count,docDelCount:e.doc_del_count,showTombstoneWarning:e.doc_del_count>e.doc_count}},dispatch:function(e){switch(e.type){case l.default.DATABASES_SETPAGE:this._page=e.options.page;break;case l.default.DATABASES_SET_PROMPT_VISIBLE:this.setPromptVisible(e.options.visible);break;case l.default.DATABASES_STARTLOADING:this.setLoading(!0);break;case l.default.DATABASES_LOADCOMPLETE:this.setLoading(!1);break;case l.default.DATABASES_UPDATE:this._fullDbList=e.options.fullDbList,this._dbList=e.options.dbList,this._databaseDetails=e.options.databaseDetails,this._failedDbs=e.options.failedDbs,this.setLoading(!1);break;default:return}this.triggerChange()}}),m=new h;m.dispatchToken=s.default.dispatcher.register(m.dispatch.bind(m)),t.default={databasesStore:m,DatabasesStoreConstructor:h}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(11),s=a(o),r=n(1),l=a(r),d=n(230),u=a(d),c=n(231),f=a(c),p=n(59),h=a(p),m=f.default.changesStore;t.default={addFilter:function(e){l.default.dispatch({type:u.default.ADD_CHANGES_FILTER_ITEM,filter:e})},removeFilter:function(e){l.default.dispatch({type:u.default.REMOVE_CHANGES_FILTER_ITEM,filter:e})},initChanges:function(e){l.default.dispatch({type:u.default.INIT_CHANGES,options:e}),i=null,this.getLatestChanges()},getLatestChanges:function(){var e={limit:100};i&&(e.since=m.getLastSeqNum(),e.timeout=6e4,e.feed="longpoll");var t=$.param(e),n=s.default.utils.safeURLName(m.getDatabaseName()),a=l.default.urls("changes","server",n,"?"+t);i=$.getJSON(a),i.then(this.updateChanges.bind(this))},updateChanges:function(e){var t=h.default.getSeqNum(e.last_seq);t!==m.getLastSeqNum()&&l.default.dispatch({type:u.default.UPDATE_CHANGES,changes:e.results,seqNum:t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INIT_CHANGES:"INIT_CHANGES",UPDATE_CHANGES:"UPDATE_CHANGES",ADD_CHANGES_FILTER_ITEM:"ADD_CHANGES_FILTER_ITEM",REMOVE_CHANGES_FILTER_ITEM:"REMOVE_CHANGES_FILTER_ITEM",UPDATE_CHANGES_FILTER:"UPDATE_CHANGES_FILTER",TOGGLE_CHANGES_CODE_VISIBILITY:"TOGGLE_CHANGES_CODE_VISIBILITY"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(230),r=a(s),l=n(59),d=a(l),u=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._isLoaded=!1,this._filters=[],this._changes=[],this._databaseName="",this._maxChangesListed=100,this._showingSubset=!1,this._lastSequenceNum=null},initChanges:function(e){this.reset(),this._databaseName=e.databaseName},isLoaded:function(){return this._isLoaded},updateChanges:function(e,t){this._lastSequenceNum=e;var n=0===this._changes.length;_.each(this._changes,function(e){e.isNew=!1});var a=_.map(t,function(e){var t=d.default.getSeqNum(e.seq);return{id:e.id,seq:t,deleted:!!_.has(e,"deleted")&&e.deleted,changes:e.changes,doc:e.doc,isNew:!n}});this._changes=a.concat(this._changes),this._isLoaded=!0},getChanges:function(){this._showingSubset=!1;var e=0;return _.filter(this._changes,function(t){if(e>=this._maxChangesListed)return this._showingSubset=!0,!1;var n=JSON.stringify(t),a=_.every(this._filters,function(e){return new RegExp(e,"i").test(n)});return a&&e++,a},this)},addFilter:function(e){this._filters.push(e)},removeFilter:function(e){this._filters=_.without(this._filters,e)},getFilters:function(){return this._filters},hasFilter:function(e){return _.includes(this._filters,e)},getDatabaseName:function(){return this._databaseName},isShowingSubset:function(){return this._showingSubset},setMaxChanges:function(e){this._maxChangesListed=e},getLastSeqNum:function(){return this._lastSequenceNum},dispatch:function(e){switch(e.type){case r.default.INIT_CHANGES:this.initChanges(e.options);break;case r.default.UPDATE_CHANGES:this.updateChanges(e.seqNum,e.changes);break;case r.default.ADD_CHANGES_FILTER_ITEM:this.addFilter(e.filter);break;case r.default.REMOVE_CHANGES_FILTER_ITEM:this.removeFilter(e.filter);break;default:return}this.triggerChange()}}),c={};c.changesStore=new u,c.changesStore.dispatchToken=o.default.dispatcher.register(c.changesStore.dispatch),t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(233),r=a(s),l=n(234),d=a(l),u=d.default.designDocInfoStore;t.default={fetchDesignDocInfo:function(e){var t=e.designDocInfo;o.default.dispatch({type:r.default.DESIGN_FETCHING}),t.fetch().then(function(){this.monitorDesignDoc({ddocName:e.ddocName,designDocInfo:t})}.bind(this))},monitorDesignDoc:function(e){e.intervalId=window.setInterval(_.bind(this.refresh,this),5e3),o.default.dispatch({type:r.default.DESIGN_DOC_MONITOR,options:e})},refresh:function(){u.getDesignDocInfo().fetch().then(function(){o.default.dispatch({type:r.default.DESIGN_REFRESH})})},stopRefresh:function(){window.clearInterval(u.getIntervalId())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESIGN_DOC_MONITOR:"DESIGN_DOC_MONITOR",DESIGN_FETCHING:"DESIGN_FETCHING",DESIGN_REFRESH:"DESIGN_REFRESH"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(233),r=a(s),l={};l.DesignDocInfoStore=o.default.Store.extend({initialize:function(){this._isLoading=!0},isLoading:function(){return this._isLoading},getDdocName:function(){return this._ddocName},getDesignDocInfo:function(){return this._designDocInfo},monitorDesignDoc:function(e){this._isLoading=!1,this._designDocInfo=e.designDocInfo,this._ddocName=e.ddocName,this._intervalId=e.intervalId},getIntervalId:function(){return this._intervalId},getViewIndex:function(){return this._isLoading?{}:this._designDocInfo.get("view_index")},dispatch:function(e){switch(e.type){case r.default.DESIGN_FETCHING:this._isLoading=!0,this.triggerChange();break;case r.default.DESIGN_DOC_MONITOR:this.monitorDesignDoc(e.options),this.triggerChange();break;case r.default.DESIGN_DOC_REFRESH:this.triggerChange();break;default:return}}}),l.designDocInfoStore=new l.DesignDocInfoStore,l.designDocInfoStore.dispatchToken=o.default.dispatcher.register(l.designDocInfoStore.dispatch),t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.doc;C.default.dispatch({type:N.default.RESET_DOC}),t.fetch().then(function(){C.default.dispatch({type:N.default.DOC_LOADED,options:{doc:t}}),e.onLoaded&&e.onLoaded()},function(t){404===t.status&&E("The document does not exist."),C.default.navigate(C.default.urls("allDocs","app",e.database.id,""))})}function o(e,t,n){t?(C.default.addNotification({msg:"Saving document.",clear:!0}),e.save().then(function(){n(e.prettyJSON()),C.default.navigate("#/"+C.default.urls("allDocs","app",C.default.url.encode(e.database.id)),{trigger:!0})}).fail(function(e){C.default.addNotification({msg:"Save failed: "+JSON.parse(e.responseText).reason,type:"error",fade:!1,clear:!0})})):e.validationError&&"Cannot change a documents id."===e.validationError?(E("You cannot edit the _id of an existing document. Try this: Click 'Clone Document', then change the _id on the clone before saving."),delete e.validationError):E("Please fix the JSON errors and try saving again.")}function s(){C.default.dispatch({type:N.default.SHOW_DELETE_DOC_CONFIRMATION_MODAL})}function r(){C.default.dispatch({type:N.default.HIDE_DELETE_DOC_CONFIRMATION_MODAL})}function l(e){var t=e.database.safeID(),n="?rev="+e.get("_rev");$.ajax({url:C.default.urls("document","server",t,e.safeID(),n),type:"DELETE",contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(){C.default.addNotification({msg:"Your document has been successfully deleted.",clear:!0}),C.default.navigate(C.default.urls("allDocs","app",t,""))},error:function(){C.default.addNotification({msg:"Failed to delete your document!",type:"error",clear:!0})}})}function d(){C.default.dispatch({type:N.default.SHOW_CLONE_DOC_MODAL})}function u(){C.default.dispatch({type:N.default.HIDE_CLONE_DOC_MODAL})}function c(e,t,n){var a=y.default.utils.getSafeIdForDoc(n);u(),t.copy(a).then(function(){t.set({_id:a}),C.default.navigate("/database/"+e.safeID()+"/"+a,{trigger:!0}),C.default.addNotification({msg:"Document has been duplicated."})},function(e){var t="Could not duplicate document, reason: "+e.responseText+".";C.default.addNotification({msg:t,type:"error"})})}function f(){C.default.dispatch({type:N.default.SHOW_UPLOAD_MODAL})}function p(){C.default.dispatch({type:N.default.HIDE_UPLOAD_MODAL})}function h(e){if(0===e.files.length)return void C.default.dispatch({type:N.default.FILE_UPLOAD_ERROR,options:{error:"Please select a file to be uploaded."}});C.default.dispatch({type:N.default.START_FILE_UPLOAD}),b=$.ajaxSettings.xhr();var t="?rev="+e.rev,n=e.doc.getDatabase().safeID(),a=e.doc.safeID(),o=e.files[0];$.ajax({url:C.default.urls("document","attachment",n,a,o.name,t),type:"PUT",data:o,contentType:o.type,processData:!1,xhrFields:{withCredentials:!0},xhr:function(){return b.upload.onprogress=function(e){var t=e.loaded/e.total*100;C.default.dispatch({type:N.default.SET_FILE_UPLOAD_PERCENTAGE,options:{percent:t}})},b},success:function(){i({doc:e.doc,onLoaded:function(){C.default.dispatch({type:N.default.FILE_UPLOAD_SUCCESS}),C.default.addNotification({msg:"Document saved successfully.",type:"success",clear:!0})}.bind(this)})},error:function(e){_.isEmpty(e.responseText)||C.default.dispatch({type:N.default.FILE_UPLOAD_ERROR,options:{error:JSON.parse(e.responseText).reason}})}})}function m(){b.abort()}function g(){C.default.dispatch({type:N.default.RESET_UPLOAD_MODAL})}function E(e){C.default.addNotification({msg:e,type:"error",clear:!0})}Object.defineProperty(t,"__esModule",{value:!0});var b,v=n(11),y=a(v),D=n(1),C=a(D),T=n(236),N=a(T);t.default={initDocEditor:i,saveDoc:o,showCloneDocModal:d,hideCloneDocModal:u,cloneDoc:c,showDeleteDocModal:s,hideDeleteDocModal:r,deleteDoc:l,showUploadModal:f,hideUploadModal:p,uploadAttachment:h,cancelUpload:m,resetUploadModal:g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={RESET_DOC:"RESET_DOC",DOC_LOADED:"DOC_LOADED",SHOW_CLONE_DOC_MODAL:"SHOW_CLONE_DOC_MODAL",HIDE_CLONE_DOC_MODAL:"HIDE_CLONE_DOC_MODAL",SHOW_DELETE_DOC_CONFIRMATION_MODAL:"SHOW_DELETE_DOC_CONFIRMATION_MODAL",HIDE_DELETE_DOC_CONFIRMATION_MODAL:"HIDE_DELETE_DOC_CONFIRMATION_MODAL",SHOW_UPLOAD_MODAL:"SHOW_UPLOAD_MODAL",HIDE_UPLOAD_MODAL:"HIDE_UPLOAD_MODAL",RESET_UPLOAD_MODAL:"RESET_UPLOAD_MODAL",SHOW_STRING_EDIT_MODAL:"SHOW_STRING_EDIT_MODAL",HIDE_STRING_EDIT_MODAL:"HIDE_STRING_EDIT_MODAL",FILE_UPLOAD_SUCCESS:"FILE_UPLOAD_SUCCESS",FILE_UPLOAD_ERROR:"FILE_UPLOAD_ERROR",START_FILE_UPLOAD:"START_FILE_UPLOAD",SET_FILE_UPLOAD_PERCENTAGE:"SET_FILE_UPLOAD_PERCENTAGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TOGGLE_TABLEVIEW:"TOGGLE_TABLEVIEW"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(443),r=a(s),l=n(17),d=a(l),u=n(37),c=a(u),f=n(250),p=a(f),h=n(22),m=c.default.indexResultsStore,g=p.default.queryOptionsStore,_=d.default.ToggleHeaderButton,E=o.default.createClass({displayName:"BulkDocumentHeaderController",getStoreState:function(){return{selectedView:m.getCurrentViewType(),isTableView:m.getIsTableView(),includeDocs:g.getIncludeDocsEnabled(),bulkDocCollection:m.getBulkDocCollection()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){m.on("change",this.onChange,this),g.on("change",this.onChange,this)},componentWillUnmount:function(){m.off("change",this.onChange),g.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e=this.state.isTableView;return o.default.createElement("div",{className:"alternative-header"},o.default.createElement(h.ButtonGroup,{className:"two-sides-toggle-button"},o.default.createElement(h.Button,{className:e?"":"active",onClick:this.toggleTableView.bind(this,!1)},o.default.createElement("i",{className:"fonticon-json"})," JSON"),o.default.createElement(h.Button,{className:e?"active":"",onClick:this.toggleTableView.bind(this,!0)},o.default.createElement("i",{className:"fonticon-table"})," Table")),this.props.showIncludeAllDocs?o.default.createElement(_,{toggleCallback:this.toggleIncludeDocs,containerClasses:"header-control-box control-toggle-include-docs",title:"Enable/Disable include_docs",fonticon:this.state.includeDocs?"icon-check":"icon-check-empty",iconDefaultClass:"icon fontawesome",text:""}):null,"  ")},toggleIncludeDocs:function(){r.default.toggleIncludeDocs(this.state.includeDocs,this.state.bulkDocCollection)},toggleTableView:function(e){r.default.toggleTableView(e)}});t.default={BulkDocumentHeaderController:E}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLEAR_INDEX:"CLEAR_INDEX",EDIT_INDEX:"EDIT_INDEX",EDIT_NEW_INDEX:"EDIT_NEW_INDEX",SELECT_REDUCE_CHANGE:"SELECT_REDUCE_CHANGE",VIEW_SAVED:"VIEW_SAVED",VIEW_CREATED:"VIEW_CREATED",DESIGN_DOC_CHANGE:"DESIGN_DOC_CHANGE",DESIGN_DOC_NEW_NAME_UPDATED:"DESIGN_DOC_NEW_NAME_UPDATED",NEW_DESIGN_DOC:"NEW_DESIGN_DOC",VIEW_NAME_CHANGE:"VIEW_NAME_CHANGE",VIEW_ADD_DESIGN_DOC:"VIEW_ADD_DESIGN_DOC",VIEW_UPDATE_MAP_CODE:"VIEW_UPDATE_MAP_CODE",VIEW_UPDATE_REDUCE_CODE:"VIEW_UPDATE_REDUCE_CODE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(10),c=a(u),f=n(444),p=a(f),h=n(132),m=a(h),g=n(17),E=a(g),b=p.default.indexEditorStore,v=o.default.helpers.getDocUrl,y=E.default.StyledSelect,D=E.default.CodeEditorPanel,C=E.default.ConfirmButton,T=E.default.LoadLines,N=d.default.createClass({displayName:"DesignDocSelector",propTypes:{designDocList:d.default.PropTypes.array.isRequired,onSelectDesignDoc:d.default.PropTypes.func.isRequired,onChangeNewDesignDocName:d.default.PropTypes.func.isRequired,selectedDesignDocName:d.default.PropTypes.string.isRequired,newDesignDocName:d.default.PropTypes.string.isRequired,designDocLabel:d.default.PropTypes.string,docURL:d.default.PropTypes.string},getDefaultProps:function(){return{designDocLabel:"Design Document"}},validate:function(){return"new-doc"!==this.props.selectedDesignDocName||""!==this.props.newDesignDocName||(r.default.addNotification({msg:"Please name your design doc.",type:"error"}),c.default.findDOMNode(this.refs.newDesignDoc).focus(),!1)},getDocList:function(){return _.map(this.props.designDocList,function(e){return d.default.createElement("option",{key:e,value:e},e)})},selectDesignDoc:function(e){this.props.onSelectDesignDoc(e.target.value)},updateDesignDocName:function(e){this.props.onChangeNewDesignDocName(e.target.value)},getNewDDocField:function(){if("new-doc"===this.props.selectedDesignDocName)return d.default.createElement("div",{id:"new-ddoc-section",className:"span5"},d.default.createElement("label",{className:"control-label",htmlFor:"new-ddoc"},"_design/"),d.default.createElement("div",{className:"controls"},d.default.createElement("input",{type:"text",ref:"newDesignDoc",id:"new-ddoc",placeholder:"newDesignDoc",onChange:this.updateDesignDocName})))},getDocLink:function(){return this.props.docLink?d.default.createElement("a",{className:"help-link","data-bypass":"true",href:this.props.docLink,target:"_blank"},d.default.createElement("i",{className:"icon-question-sign"})):null},render:function(){var e=d.default.createElement("optgroup",{label:"Select a document"},d.default.createElement("option",{value:"new-doc"},"New document"),this.getDocList());return d.default.createElement("div",{className:"design-doc-group control-group"},d.default.createElement("div",{className:"span3"},d.default.createElement("label",{htmlFor:"ddoc"},this.props.designDocLabel,this.getDocLink()),d.default.createElement(y,{selectChange:this.selectDesignDoc,selectValue:this.props.selectedDesignDocName,selectId:"faux__edit-view__design-doc",selectContent:e})),this.getNewDDocField())}}),S=d.default.createClass({displayName:"ReduceEditor",getStoreState:function(){return{reduce:b.getReduce(),reduceOptions:b.reduceOptions(),reduceSelectedOption:b.reduceSelectedOption(),hasCustomReduce:b.hasCustomReduce(),hasReduce:b.hasReduce()}},getInitialState:function(){return this.getStoreState()},getOptionsList:function(){return _.map(this.state.reduceOptions,function(e,t){return d.default.createElement("option",{key:t,value:e},e)},this)},getReduceValue:function(){return this.state.hasReduce?this.state.hasCustomReduce?this.refs.reduceEditor.getValue():this.state.reduce:null},getEditor:function(){return this.refs.reduceEditor.getEditor()},render:function(){var e,t=this.getOptionsList();return this.state.hasCustomReduce&&(e=d.default.createElement(D,{ref:"reduceEditor",id:"reduce-function",title:"Custom Reduce function",defaultCode:this.state.reduce,allowZenMode:!1,blur:this.updateReduceCode})),d.default.createElement("div",null,d.default.createElement("div",{className:"control-group"},d.default.createElement("label",{htmlFor:"reduce-function-selector"},d.default.createElement("span",null,"Reduce (optional)"),d.default.createElement("a",{className:"help-link","data-bypass":"true",href:v("REDUCE_FUNCS"),target:"_blank"},d.default.createElement("i",{className:"icon-question-sign"}))),d.default.createElement(y,{selectContent:t,selectChange:this.selectChange,selectId:"reduce-function-selector",selectValue:this.state.reduceSelectedOption})),e)},updateReduceCode:function(e){m.default.updateReduceCode(e)},selectChange:function(e){m.default.selectReduceChanged(e.target.value)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},componentDidMount:function(){b.on("change",this.onChange,this)},componentWillUnmount:function(){b.off("change",this.onChange)}}),I=d.default.createClass({displayName:"EditorController",getStoreState:function(){return{database:b.getDatabase(),isNewView:b.isNewView(),viewName:b.getViewName(),designDocs:b.getDesignDocs(),designDocList:b.getAvailableDesignDocs(),originalViewName:b.getOriginalViewName(),originalDesignDocName:b.getOriginalDesignDocName(),newDesignDoc:b.isNewDesignDoc(),designDocId:b.getDesignDocId(),newDesignDocName:b.getNewDesignDocName(),saveDesignDoc:b.getSaveDesignDoc(),map:b.getMap(),isLoading:b.isLoading()}},getInitialState:function(){return this.getStoreState()},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},componentDidMount:function(){b.on("change",this.onChange,this)},componentWillUnmount:function(){b.off("change",this.onChange)},componentDidUpdate:function(e,t){this.state.map!==t.map&&this.refs.mapEditor&&this.refs.mapEditor.update()},saveView:function(e){e.preventDefault(),this.refs.designDocSelector.validate()&&m.default.saveView({database:this.state.database,newView:this.state.isNewView,viewName:this.state.viewName,designDoc:this.state.saveDesignDoc,designDocId:this.state.designDocId,newDesignDoc:this.state.newDesignDoc,originalViewName:this.state.originalViewName,originalDesignDocName:this.state.originalDesignDocName,map:this.refs.mapEditor.getValue(),reduce:this.refs.reduceEditor.getReduceValue(),designDocs:this.state.designDocs})},viewChange:function(e){m.default.changeViewName(e.target.value)},updateMapCode:function(e){m.default.updateMapCode(e)},render:function(){if(this.state.isLoading)return d.default.createElement("div",{className:"define-view"},d.default.createElement(T,null));var e=this.state.isNewView?"New View":"Edit View",t=this.state.isNewView?"Create Document and then Build Index":"Save Document and then Build Index",n="#"+r.default.urls("view","showView",this.state.database.id,this.state.designDocId,this.state.viewName);return d.default.createElement("div",{className:"define-view"},d.default.createElement("form",{className:"form-horizontal view-query-save",onSubmit:this.saveView},d.default.createElement("h3",{className:"simple-header"},e),d.default.createElement("div",{className:"new-ddoc-section"},d.default.createElement(N,{ref:"designDocSelector",designDocList:this.state.designDocList,selectedDesignDocName:this.state.designDocId,newDesignDocName:this.state.newDesignDocName,onSelectDesignDoc:m.default.selectDesignDoc,onChangeNewDesignDocName:m.default.updateNewDesignDocName,docLink:v("DESIGN_DOCS")})),d.default.createElement("div",{className:"control-group"},d.default.createElement("label",{htmlFor:"index-name"},d.default.createElement("span",null,"Index name"),d.default.createElement("a",{className:"help-link","data-bypass":"true",href:v("VIEW_FUNCS"),target:"_blank"},d.default.createElement("i",{className:"icon-question-sign"}))),d.default.createElement("input",{type:"text",id:"index-name",value:this.state.viewName,onChange:this.viewChange,placeholder:"Index name"})),d.default.createElement(D,{id:"map-function",ref:"mapEditor",title:"Map function",docLink:v("MAP_FUNCS"),blur:this.updateMapCode,allowZenMode:!1,defaultCode:this.state.map}),d.default.createElement(S,{ref:"reduceEditor"}),d.default.createElement("div",{className:"padded-box"},d.default.createElement("div",{className:"control-group"},d.default.createElement(C,{id:"save-view",text:t}),d.default.createElement("a",{href:n,className:"index-cancel-link"},"Cancel")))))}});t.default={EditorController:I,ReduceEditor:S,DesignDocSelector:N,StyledSelect:y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INDEX_RESULTS_NEW_RESULTS:"INDEX_RESULTS_NEW_RESULTS",INDEX_RESULTS_RESET:"INDEX_RESULTS_RESET",INDEX_RESULTS_SELECT_DOC:"INDEX_RESULTS_SELECT_DOC",INDEX_RESULTS_CLEAR_RESULTS:"INDEX_RESULTS_CLEAR_RESULTS",INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS:"INDEX_RESULTS_TOOGLE_SELECT_ALL_DOCUMENTS",INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE:"INDEX_RESULTS_SELECT_NEW_FIELD_IN_TABLE",INDEX_RESULTS_CLEAR_SELECTED_ITEMS:"INDEX_RESULTS_CLEAR_SELECTED_ITEMS",INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW:"INDEX_RESULTS_TOGGLE_PRIORITIZED_TABLE_VIEW"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),s=a(o),r=n(0),l=a(r),d=n(37),u=a(d),c=n(51),f=a(c),p=n(17),h=a(p),m=n(41),g=a(m);n(100);var E=n(94),b=a(E),v=h.default.LoadLines,y=h.default.BulkActionComponent,D=h.default.Copy,C=u.default.indexResultsStore,T=l.default.createClass({displayName:"NoResultsScreen",propTypes:{text:l.default.PropTypes.string.isRequired},render:function(){return l.default.createElement("div",{className:"no-results-screen"},l.default.createElement("div",{className:"watermark-logo"}),l.default.createElement("h3",null,this.props.text))}}),N=l.default.createClass({displayName:"TableRow",propTypes:{docIdentifier:l.default.PropTypes.string.isRequired,docChecked:l.default.PropTypes.func.isRequired,isSelected:l.default.PropTypes.bool.isRequired,index:l.default.PropTypes.number.isRequired,data:l.default.PropTypes.object.isRequired},onChange:function(){this.props.docChecked(this.props.el.id,this.props.el._rev)},getInitialState:function(){return{checked:this.props.isSelected}},getRowContents:function(e,t){var n=e.content;return this.props.data.selectedFields.map(function(e,a){var o="tableview-data-cell-"+t+e+a+n[e],s="object"===i(n[e])?JSON.stringify(n[e],null,"  "):n[e];return l.default.createElement("td",{key:o,title:s},s)}.bind(this))},maybeGetSpecialField:function(e,t){if(!this.props.data.hasMetadata)return null;var n=e.content;return l.default.createElement("td",{className:"tableview-data-cell-id",key:"tableview-data-cell-id"+t},l.default.createElement("div",null,this.maybeGetUrl(e.url,n._id||n.id)),l.default.createElement("div",null,n._rev))},maybeGetUrl:function(e,t){return e?l.default.createElement("a",{href:"#"+e},t):t},maybeGetCheckboxCell:function(e,t){return l.default.createElement("td",{className:"tableview-checkbox-cell",key:"tableview-checkbox-cell-"+t},e.isDeletable?l.default.createElement("input",{id:"checkbox-"+this.props.docIdentifier,checked:this.props.isSelected,type:"checkbox",onChange:this.onChange}):null)},getAdditionalInfoRow:function(e){var t=Object.keys(e._attachments||{}).length,n=null,a=null,i=Object.keys(e._conflicts||{}).length,o=null,s=null;return t&&(a=1===t?t+" Attachment":t+" Attachments",n=l.default.createElement("div",{style:{display:"inline",marginLeft:"5px"},title:a},l.default.createElement("i",{className:"icon fonticon-paperclip"}),t)),i&&(s=1===i?i+" Conflict":i+" Conflicts",o=l.default.createElement("div",{className:"tableview-conflict","data-conflicts-indicator":!0,style:{display:"inline"},title:s},l.default.createElement("i",{style:{fontSize:"17px"},className:"icon icon-code-fork"}),i)),l.default.createElement("td",{className:"tableview-el-last"},o,n)},getCopyButton:function(e){var t=JSON.stringify(e,null,"  ");return l.default.createElement("td",{title:t,className:"tableview-el-copy"},l.default.createElement(D,{title:t,text:t,uniqueKey:b.default.v4(),onClipboardClick:this.showCopiedMessage}))},showCopiedMessage:function(){s.default.addNotification({msg:"The document content has been copied to the clipboard.",type:"success",clear:!0})},render:function(){var e=this.props.index,t=this.props.el.content,n=this.props.el;return l.default.createElement("tr",{key:"tableview-content-row-"+e},this.maybeGetCheckboxCell(n,e),this.getCopyButton(t),this.maybeGetSpecialField(n,e),this.getRowContents(n,e),this.getAdditionalInfoRow(t))}}),S=function(e){var t=e.selectedField,n=e.notSelectedFields,a=e.index,i=n.map(function(e){return{value:e,label:e}});return l.default.createElement("div",{className:"table-container-autocomplete"},l.default.createElement("div",{className:"table-select-wrapper"},l.default.createElement(g.default,{value:t,options:i,clearable:!1,onChange:function(e){f.default.changeField({newSelectedRow:e.value,index:a})}})))},I=l.default.createClass({displayName:"TableView",getContentRows:function(){return this.props.data.results.map(function(e,t){return l.default.createElement(N,{key:"tableview-row-component-"+t,index:t,el:e,docIdentifier:e.id||"tableview-row-component-"+t,docChecked:this.props.docChecked,isSelected:this.props.isSelected(e.id),data:this.props.data})}.bind(this))},getOptionFieldRows:function(e){return this.props.data.notSelectedFields?e.map(function(e,t){return l.default.createElement("th",{key:"header-el-"+t},this.getDropdown(e,this.props.data.schema,t))}.bind(this)):e.map(function(e,t){return l.default.createElement("th",{key:"header-el-"+t},e)})},getDropdown:function(e,t,n){return l.default.createElement(S,{selectedField:e,notSelectedFields:t,index:n})},getHeader:function(){var e=this.props.data.selectedFields,t=null;this.props.data.hasMetadata&&(t=l.default.createElement("th",{key:"header-el-metadata",title:"Metadata"},"Metadata"));var n=this.getOptionFieldRows(e),a=l.default.createElement("th",{className:"tableview-header-el-checkbox",key:"tableview-header-el-checkbox"},this.props.isListDeletable?l.default.createElement(y,{disabled:this.props.isLoading,removeItem:this.props.removeItem,isChecked:this.props.isChecked,hasSelectedItem:this.props.hasSelectedItem,toggleSelect:this.props.toggleSelect,title:"Select all docs that can be..."}):null);return l.default.createElement("tr",{key:"tableview-content-row-header"},a,l.default.createElement("th",{className:"tableview-el-copy"}),t,n,l.default.createElement("th",{className:"tableview-el-last"}))},render:function(){var e=this.getHeader(),t=this.getContentRows();return l.default.createElement("div",{className:"table-view-docs"},l.default.createElement("table",{className:"table table-striped"},l.default.createElement("thead",null,e),l.default.createElement("tbody",null,t)))}}),w=l.default.createClass({displayName:"ResultsScreen",onDoubleClick:function(e,t){s.default.navigate(t.url)},getUrlFragment:function(e){return this.props.isEditable?l.default.createElement("a",{href:e},l.default.createElement("i",{className:"fonticon-pencil"})):null},getDocumentList:function(){var e=function(){},t=this.props.results.results;return _.map(t,function(t,n){return l.default.createElement(h.default.Document,{key:t.id+n,doc:t,onDoubleClick:this.props.isEditable?this.onDoubleClick:e,keylabel:t.keylabel,docContent:t.content,checked:this.props.isSelected(t.id),header:t.header,docChecked:this.props.docChecked,isDeletable:t.isDeletable,docIdentifier:t.id},t.url?this.getUrlFragment("#"+t.url):t.url)},this)},getDocumentStyleView:function(e){var t="view",n=this.props.isListDeletable;return this.props.isListDeletable&&(t+=" show-select"),l.default.createElement("div",{className:t},l.default.createElement("div",{className:"loading-lines-wrapper"},e),l.default.createElement("div",{id:"doc-list"},n?l.default.createElement(y,{removeItem:this.props.removeItem,isChecked:this.props.allDocumentsSelected,hasSelectedItem:this.props.hasSelectedItem,toggleSelect:this.toggleSelectAll,disabled:this.props.isLoading,title:"Select all docs that can be..."}):null,this.getDocumentList()))},getTableStyleView:function(e){return l.default.createElement("div",null,l.default.createElement("div",{className:"loading-lines-wrapper"},e),l.default.createElement(I,{docChecked:this.props.docChecked,isSelected:this.props.isSelected,isListDeletable:this.props.isListDeletable,data:this.props.results,isLoading:this.props.isLoading,removeItem:this.props.removeItem,isChecked:this.props.allDocumentsSelected,hasSelectedItem:this.props.hasSelectedItem,toggleSelect:this.toggleSelectAll,title:"Select all docs that can be..."}))},render:function(){var e=null,t=this.props.isTableView;this.props.isLoading&&(e=l.default.createElement(v,null));var n=t?this.getTableStyleView(e):this.getDocumentStyleView(e);return l.default.createElement("div",{className:"document-result-screen"},n)},toggleSelectAll:function(){f.default.toggleAllDocuments()},componentDidMount:function(){prettyPrint()},componentDidUpdate:function(){prettyPrint()}}),O=l.default.createClass({displayName:"ViewResultListController",propTypes:{designDocs:l.default.PropTypes.object},getStoreState:function(){var e=C.getSelectedItemsLength();return{hasResults:C.hasResults(),results:C.getResults(),isLoading:C.isLoading(),isEditable:C.isEditable(),textEmptyIndex:C.getTextEmptyIndex(),isTableView:C.getIsTableView(),allDocumentsSelected:C.areAllDocumentsSelected(),hasSelectedItem:!!e,selectedItemsLength:e,bulkDeleteCollection:C.getBulkDocCollection()}},isSelected:function(e){return!!this.state.bulkDeleteCollection.get(e)},removeItem:function(){f.default.deleteSelected(this.state.bulkDeleteCollection,this.state.selectedItemsLength,this.props.designDocs)},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){C.on("change",this.onChange,this)},componentWillUnmount:function(){C.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},docChecked:function(e,t){f.default.selectDoc({_id:e,_rev:t})},render:function(){var e=l.default.createElement(T,{text:this.state.textEmptyIndex});return this.state.hasResults&&(e=l.default.createElement(w,{removeItem:this.removeItem,hasSelectedItem:this.state.hasSelectedItem,allDocumentsSelected:this.state.allDocumentsSelected,isSelected:this.isSelected,isEditable:this.state.isEditable,isListDeletable:this.state.results.hasBulkDeletableDoc,docChecked:this.docChecked,isLoading:this.state.isLoading,results:this.state.results,isTableView:this.state.isTableView})),e}});t.default={List:O,NoResultsScreen:T,ResultsScreen:w,WrappedAutocomplete:S}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(30),r=a(s),l=n(244),d=a(l),u=n(37),c=a(u),f=n(51),p=a(f);t.default={setDatabase:function(e){o.default.dispatch({type:d.default.MANGO_SET_DB,options:e})},newQueryFindCode:function(e){o.default.dispatch({type:d.default.MANGO_NEW_QUERY_FIND_CODE,options:e})},newQueryCreateIndexCode:function(e){o.default.dispatch({type:d.default.MANGO_NEW_QUERY_CREATE_INDEX_CODE,options:e})},saveQuery:function(e){var t=JSON.parse(e.queryCode),n=new r.default.MangoIndex(t,{database:e.database});o.default.addNotification({msg:"Saving Index for Query...",type:"info",clear:!0}),n.save().then(function(){var n="#"+o.default.urls("mango","query-app",e.database.safeID());o.default.dispatch({type:d.default.MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS,options:{fields:t.index.fields}});var a=new r.default.MangoIndexCollection(null,{database:e.database,params:null,paging:{pageSize:c.default.indexResultsStore.getPerPage()}});this.getIndexList({indexList:a}).then(function(){p.default.reloadResultsList(),o.default.addNotification({msg:'Index is ready for querying. <a href="'+n+'">Run a Query.</a>',type:"success",clear:!0,escape:!1})}.bind(this))}.bind(this)).fail(function(e){o.default.addNotification({msg:e.responseJSON.reason,type:"error",clear:!0})})},mangoResetIndexList:function(e){o.default.dispatch({type:d.default.MANGO_RESET,options:e})},getIndexList:function(e){return o.default.dispatch({type:d.default.MANGO_NEW_AVAILABLE_INDEXES,options:e}),e.indexList.fetch({reset:!0}).then(function(){this.mangoResetIndexList({isLoading:!1})}.bind(this),function(){o.default.addNotification({msg:"Bad request!",type:"error",clear:!0})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MANGO_SET_DB:"MANGO_SET_DB",MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS:"MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS",MANGO_NEW_QUERY_FIND_CODE:"MANGO_NEW_QUERY_FIND_CODE",MANGO_NEW_QUERY_CREATE_INDEX_CODE:"MANGO_NEW_QUERY_CREATE_INDEX_CODE",MANGO_NEW_AVAILABLE_INDEXES:"MANGO_NEW_AVAILABLE_INDEXES",MANGO_RESET:"MANGO_RESET"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=[];return n=e.get("def").fields.reduce(function(t,n,a){return 0===a?t.push(e.get("type")+": "+Object.keys(n)[0]):t.push(Object.keys(n)[0]),t},[]),n.length||(t=s.default.getExtensions("mango:additionalIndexes")[0],n=t.createHeader(e)),n.join(", ")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=a(o);t.default={getIndexName:i}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(247),r=a(s),l=n(51),d=a(l);t.default={updatePerPage:function(e,t,n){o.default.dispatch({type:r.default.PER_PAGE_CHANGE,perPage:e}),d.default.clearResults(),t.fetch().then(function(){d.default.resultsListReset(),d.default.sendMessageNewResultList({collection:t,bulkCollection:n})})},setDocumentLimit:function(e){o.default.dispatch({type:r.default.SET_PAGINATION_DOCUMENT_LIMIT,docLimit:e})},paginateNext:function(e,t){o.default.dispatch({type:r.default.PAGINATE_NEXT}),d.default.clearResults(),e.next().then(function(){d.default.resultsListReset(),d.default.sendMessageNewResultList({collection:e,bulkCollection:t})})},paginatePrevious:function(e,t){o.default.dispatch({type:r.default.PAGINATE_PREVIOUS}),d.default.clearResults(),e.previous().then(function(){d.default.resultsListReset(),d.default.sendMessageNewResultList({collection:e,bulkCollection:t})})},toggleTableViewType:function(){d.default.togglePrioritizedTableView()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLLECTION_CHANGED:"COLLECTION_CHANGED",PER_PAGE_CHANGE:"PER_PAGE_CHANGE",PAGINATE_NEXT:"PAGINATE_NEXT",PAGINATE_PREVIOUS:"PAGINATE_PREVIOUS",SET_PAGINATION_DOCUMENT_LIMIT:"SET_PAGINATION_DOCUMENT_LIMIT"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(246),r=a(s),l=n(37),d=a(l),u=d.default.indexResultsStore,c=o.default.createClass({displayName:"IndexPaginationController",getStoreState:function(){return{canShowPrevious:u.canShowPrevious(),canShowNext:u.canShowNext(),collection:u.getCollection(),bulkCollection:u.getBulkDocCollection()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){u.on("change",this.onChange,this)},componentWillUnmount:function(){u.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},nextClicked:function(e){if(e.preventDefault(),this.state.canShowNext){var t=this.state.collection,n=this.state.bulkCollection;r.default.paginateNext(t,n)}},previousClicked:function(e){if(e.preventDefault(),this.state.canShowPrevious){var t=this.state.collection,n=this.state.bulkCollection;r.default.paginatePrevious(t,n)}},render:function(){var e="",t="";return this.state.canShowPrevious||(e="disabled"),this.state.canShowNext||(t="disabled"),o.default.createElement("div",{className:"documents-pagination"},o.default.createElement("ul",{className:"pagination"},o.default.createElement("li",{className:e},o.default.createElement("a",{id:"previous",onClick:this.previousClicked,className:"icon fonticon-left-open",href:"#","data-bypass":"true"})),o.default.createElement("li",{className:t},o.default.createElement("a",{id:"next",onClick:this.nextClicked,className:"icon fonticon-right-open",href:"#","data-bypass":"true"}))))}}),f=o.default.createClass({displayName:"PerPageSelector",propTypes:{perPage:o.default.PropTypes.number.isRequired,perPageChange:o.default.PropTypes.func.isRequired,label:o.default.PropTypes.string,options:o.default.PropTypes.array},getDefaultProps:function(){return{label:"Documents per page: ",options:[5,10,20,30,50,100]}},perPageChange:function(e){var t=parseInt(e.target.value,10);this.props.perPageChange(t)},getOptions:function(){return _.map(this.props.options,function(e){return o.default.createElement("option",{value:e,key:e},e)})},render:function(){return o.default.createElement("div",{id:"per-page"},o.default.createElement("label",{htmlFor:"select-per-page",className:"drop-down inline"},this.props.label,"  ",o.default.createElement("select",{id:"select-per-page",onChange:this.perPageChange,value:this.props.perPage.toString(),className:"input-small"},this.getOptions())))}}),p=o.default.createClass({displayName:"AllDocsNumberController",getStoreState:function(){return{totalRows:u.getTotalRows(),pageStart:u.getPageStart(),pageEnd:u.getPageEnd(),perPage:u.getPerPage(),prioritizedEnabled:u.getIsPrioritizedEnabled(),showPrioritizedFieldToggler:u.getShowPrioritizedFieldToggler(),displayedFields:u.getResults().displayedFields,collection:u.getCollection(),bulkCollection:u.getBulkDocCollection()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){u.on("change",this.onChange,this)},componentWillUnmount:function(){u.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},getPageNumberText:function(){return 0===this.state.totalRows?o.default.createElement("span",null,"Showing 0 documents."):o.default.createElement("span",null,"Showing document ",this.state.pageStart," - ",this.state.pageEnd,".")},perPageChange:function(e){var t=this.state.collection,n=this.state.bulkCollection;r.default.updatePerPage(e,t,n)},render:function(){var e=this.state.showPrioritizedFieldToggler;return o.default.createElement("div",{className:"footer-controls"},o.default.createElement("div",{className:"page-controls"},e?o.default.createElement(h,{prioritizedEnabled:this.state.prioritizedEnabled,displayedFields:this.state.displayedFields}):null),o.default.createElement(f,{perPageChange:this.perPageChange,perPage:this.state.perPage}),o.default.createElement("div",{className:"current-docs"},this.getPageNumberText()))}}),h=o.default.createClass({displayName:"TableControls",propTypes:{prioritizedEnabled:o.default.PropTypes.bool.isRequired,displayedFields:o.default.PropTypes.object.isRequired},getAmountShownFields:function(){var e=this.props.displayedFields;return e.shown===e.allFieldCount?o.default.createElement("div",{className:"pull-left shown-fields"},"Showing ",e.shown," columns."):o.default.createElement("div",{className:"pull-left shown-fields"},"Showing ",e.shown," of ",e.allFieldCount," columns.")},toggleTableViewType:function(){r.default.toggleTableViewType()},render:function(){return o.default.createElement("div",{className:"footer-table-control"},this.getAmountShownFields(),o.default.createElement("div",{className:"footer-doc-control-prioritized-wrapper pull-left"},o.default.createElement("label",{htmlFor:"footer-doc-control-prioritized"},o.default.createElement("input",{id:"footer-doc-control-prioritized",checked:this.props.prioritizedEnabled,onChange:this.toggleTableViewType,type:"checkbox"}),"Show all columns.")))}}),m=o.default.createClass({displayName:"Footer",render:function(){return o.default.createElement("footer",{className:"index-pagination pagination-footer"},o.default.createElement(c,null),o.default.createElement(p,null))}});t.default={AllDocsNumber:p,PerPageSelector:f,Footer:m,TableControls:h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={QUERY_TOGGLE_INCLUDE_DOCS:"QUERY_TOGGLE_INCLUDE_DOCS",QUERY_TOGGLE_BY_KEYS:"QUERY_TOGGLE_BY_KEYS",QUERY_TOGGLE_BETWEEN_KEYS:"QUERY_TOGGLE_BETWEEN_KEYS",QUERY_UPDATE_BETWEEN_KEYS:"QUERY_UPDATE_BETWEEN_KEYS",QUERY_UPDATE_BY_KEYS:"QUERY_UPDATE_BY_KEYS",QUERY_TOGGLE_DESCENDING:"QUERY_TOGGLE_DESCENDING",QUERY_TOGGLE_REDUCE:"QUERY_TOGGLE_REDUCE",QUERY_UPDATE_SKIP:"QUERY_UPDATE_SKIP",QUERY_UPDATE_LIMIT:"QUERY_UPDATE_LIMIT",QUERY_RESET:"QUERY_RESET",QUERY_SHOW_REDUCE:"QUERY_SHOW_REDUCE",QUERY_UPDATE_GROUP_LEVEL:"QUERY_UPDATE_GROUP_LEVEL",QUERY_UPDATE_VISIBILITY:"QUERY_UPDATE_VISIBILITY",QUERY_SHOW:"QUERY_SHOW",QUERY_HIDE:"QUERY_HIDE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(249),r=a(s),l={};l.QueryOptionsStore=o.default.Store.extend({initialize:function(){this._trayVisible=!1,this.reset()},reset:function(){this._isVisible=!0,this._loading=!0,this._showByKeys=!1,this._showBetweenKeys=!1,this._includeDocs=!1,this._betweenKeys={include:!0},this._byKeys="",this._descending=!1,this._skip="",this._limit="none",this._reduce=!1,this._groupLevel="exact",this._showReduce=!1},isLoading:function(){return this._loading},isVisible:function(){return this._isVisible},hideQueryOptions:function(){this._isVisible=!1},showQueryOptions:function(){this._isVisible=!0},setTrayVisible:function(e){this._trayVisible=e},getTrayVisible:function(){return this._trayVisible},showReduce:function(){return this._showReduce},reduce:function(){return this._reduce},betweenKeys:function(){return this._betweenKeys},updateBetweenKeys:function(e){this._betweenKeys=e},updateSkip:function(e){this._skip=e},skip:function(){return this._skip},limit:function(){return this._limit},updateLimit:function(e){this._limit=e},byKeys:function(){return this._byKeys},updateByKeys:function(e){this._byKeys=e},includeDocs:function(){return this._includeDocs},descending:function(){return this._descending},groupLevel:function(){return this._groupLevel},toggleByKeys:function(){this._showByKeys=!this._showByKeys,this._showByKeys&&(this._showBetweenKeys=!1)},toggleBetweenKeys:function(){this._showBetweenKeys=!this._showBetweenKeys,this._showBetweenKeys&&(this._showByKeys=!1)},showByKeys:function(){return this._showByKeys},showBetweenKeys:function(){return this._showBetweenKeys},updateGroupLevel:function(e){this._groupLevel=e},sanitize:function(e){e.startkey&&(e.start_key=e.startkey,delete e.startkey),e.endkey&&(e.end_key=e.endkey,delete e.endkey)},setQueryParams:function(e){if(this.reset(),this.sanitize(e),e.include_docs&&(this._includeDocs=!0),e.start_key||e.end_key){var t=!0;e.inclusive_end&&(t="true"===e.inclusive_end),this._betweenKeys={include:t},e.start_key&&(this._betweenKeys.startkey=e.start_key),e.end_key&&(this._betweenKeys.endkey=e.end_key),this._showBetweenKeys=!0}else e.keys&&(this._byKeys=e.keys,this._showByKeys=!0);e.limit&&"none"!==e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.descending&&(this._descending=e.descending),e.reduce&&(e.group?this._groupLevel="exact":this._groupLevel=e.group_level,this._reduce=!0)},getQueryParams:function(){var e={};if(this._includeDocs&&(e.include_docs=this._includeDocs),this._showBetweenKeys){var t=this._betweenKeys;e.inclusive_end=t.include,t.startkey&&""!==t.startkey&&(e.start_key=t.startkey),t.endkey&&""!==t.endkey&&(e.end_key=t.endkey)}else this._showByKeys&&(e.keys=this._byKeys.replace(/\r?\n/g,""));return"none"!==this._limit&&(e.limit=parseInt(this._limit,10)),this._skip&&(e.skip=parseInt(this._skip,10)),this._descending&&(e.descending=this._descending),this._reduce&&(e.reduce=!0,"exact"===this._groupLevel?e.group=!0:e.group_level=this._groupLevel),e},getIncludeDocsEnabled:function(){return this._includeDocs},dispatch:function(e){switch(e.type){case r.default.QUERY_RESET:this.setQueryParams(e.params);break;case r.default.QUERY_TOGGLE_INCLUDE_DOCS:this._includeDocs=!this._includeDocs;break;case r.default.QUERY_TOGGLE_DESCENDING:this._descending=!this._descending;break;case r.default.QUERY_TOGGLE_BY_KEYS:this.toggleByKeys();break;case r.default.QUERY_TOGGLE_BETWEEN_KEYS:this.toggleBetweenKeys();break;case r.default.QUERY_UPDATE_BETWEEN_KEYS:this.updateBetweenKeys(e.betweenKeys);break;case r.default.QUERY_UPDATE_BY_KEYS:this.updateByKeys(e.byKeys);break;case r.default.QUERY_UPDATE_SKIP:this.updateSkip(e.skip);break;case r.default.QUERY_UPDATE_LIMIT:this.updateLimit(e.limit);break;case r.default.QUERY_SHOW_REDUCE:this._showReduce=!0;break;case r.default.QUERY_TOGGLE_REDUCE:this._reduce=!this._reduce;break;case r.default.QUERY_UPDATE_GROUP_LEVEL:this.updateGroupLevel(e.groupLevel);break;case r.default.QUERY_UPDATE_VISIBILITY:this.setTrayVisible(e.options);break;case r.default.QUERY_HIDE:this.hideQueryOptions();break;case r.default.QUERY_SHOW:this.showQueryOptions();break;default:return}this.triggerChange()}}),l.queryOptionsStore=new l.QueryOptionsStore,l.queryOptionsStore.dispatchToken=o.default.dispatcher.register(l.queryOptionsStore.dispatch),t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=h.default.urls("databaseBaseURL","server",e);C=(0,v.default)(n);var a=$.Deferred(),i=$.Deferred();$.when(a,i).done(function(t,n){var a=o(t.paths,t.winner,Object.keys(t.deleted)),i=a[0];if(!i)return s(t,n,a,null,e);C.get(n._id,{rev:i}).then(function(i){s(t,n,a,i,e)})}),C.get(t).then(i.resolve),(0,E.default)(C,t).then(a.resolve)}function o(e,t,n){return e.reduce(function(e,n){return n[0]!==t&&e.push(n[0]),e},[]).filter(function(e){return-1===n.indexOf(e)})}function s(e,t,n,a,i){h.default.dispatch({type:g.default.REV_BROWSER_REV_TREE_LOADED,options:{tree:e,doc:t,conflictDoc:a,conflictingRevs:n,databaseName:i}})}function r(e){h.default.dispatch({type:g.default.REV_BROWSER_DIFF_ENABLE_DIFF_VIEW,options:{enableDiff:e}})}function l(e,t){C.get(e._id,{rev:t}).then(function(t){d(e,t)})}function d(e,t){h.default.dispatch({type:g.default.REV_BROWSER_DIFF_DOCS_READY,options:{theirs:t,ours:e}})}function u(e,t){h.default.dispatch({type:g.default.REV_BROWSER_SHOW_CONFIRM_MODAL,options:{show:e,docToWin:t}})}function c(e,t,n,a){var i=o(n,a,[]),s=f(t,i);$.ajax({url:h.default.urls("bulk_docs","server",e,""),type:"POST",contentType:"application/json; charset=UTF-8",data:JSON.stringify(s),success:function(){h.default.addNotification({msg:"Conflicts successfully solved.",clear:!0}),u(!1,null),h.default.navigate(h.default.urls("allDocs","app",e,""))},error:function(){h.default.addNotification({msg:"Failed to delete clean up conflicts!",type:"error",clear:!0})}})}function f(e,t){return{docs:t.map(function(t){return{_id:e,_rev:t,_deleted:!0}})}}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=a(p),m=n(252),g=a(m),_=n(883),E=a(_),b=n(680),v=a(b),y=n(676),D=a(y);v.default.plugin(D.default);var C=void 0;t.default={getConflictingRevs:o,selectRevAsWinner:c,buildBulkDeletePayload:f,chooseLeaves:l,dispatchDocsToDiff:d,initDiffEditor:i,dispatchData:s,toggleDiffView:r,showConfirmModal:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={REV_BROWSER_REV_TREE_LOADED:"REV_TREE_LOADED",REV_BROWSER_DIFF_DOCS_READY:"REV_BROWSER_DIFF_DOCS_READY",REV_BROWSER_DIFF_ENABLE_DIFF_VIEW:"REV_BROWSER_DIFF_ENABLE_DIFF_VIEW",REV_BROWSER_SHOW_CONFIRM_MODAL:"REV_BROWSER_SHOW_CONFIRM_MODAL"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(10),c=a(u),f=n(254),p=a(f),h=n(52),m=a(h),g=n(17),E=a(g),b=n(131),v=a(b),y=n(50),D=a(y),C=n(132),T=a(C),N=n(240),S=a(N),I=n(60),w=a(I),O=n(59),A=a(O),R=n(22);n(100);var P=p.default.sidebarStore,L=E.default.LoadLines,M=S.default.DesignDocSelector,k=w.default.ConfirmationModal,x=E.default.DeleteDatabaseModal,U=v.default.deleteDbModalStore,B=d.default.createClass({displayName:"MainSidebar",propTypes:{selectedNavItem:d.default.PropTypes.string.isRequired},getNewButtonLinks:function(){return A.default.getNewButtonLinks(this.props.databaseName)},buildDocLinks:function(){var e=r.default.urls("base","app",this.props.databaseName);return r.default.getExtensions("docLinks").map(function(t){return d.default.createElement("li",{key:t.url,className:this.getNavItemClass(t.url)},d.default.createElement("a",{id:t.url,href:e+t.url},t.title))},this)},getNavItemClass:function(e){return e===this.props.selectedNavItem?"active":""},render:function(){var e=this.buildDocLinks(),t=r.default.url.encode(this.props.databaseName),n="#"+r.default.urls("changes","app",t,""),a="#"+r.default.urls("permissions","app",t),i=r.default.urls("allDocs","app",t,""),s=r.default.urls("mango","query-app",t),l=o.default.i18n.en_US["run-query-with-mango"],u=this.getNewButtonLinks();return d.default.createElement("ul",{className:"nav nav-list"},d.default.createElement("li",{className:this.getNavItemClass("all-docs")},d.default.createElement("a",{id:"all-docs",href:"#/"+i,className:"toggle-view"},"All Documents"),d.default.createElement("div",{id:"new-all-docs-button",className:"add-dropdown"},d.default.createElement(E.default.MenuDropDown,{links:u}))),d.default.createElement("li",{className:this.getNavItemClass("mango-query")},d.default.createElement("a",{id:"mango-query",href:"#"+s,className:"toggle-view"},l)),d.default.createElement("li",{className:this.getNavItemClass("permissions")},d.default.createElement("a",{id:"permissions",href:a},"Permissions")),d.default.createElement("li",{className:this.getNavItemClass("changes")},d.default.createElement("a",{id:"changes",href:n},"Changes")),e,d.default.createElement("li",{className:this.getNavItemClass("design-docs")},d.default.createElement("a",{id:"design-docs",href:"#/"+i+'?startkey="_design"&endkey="_design0"',className:"toggle-view"},"Design Documents"),d.default.createElement("div",{id:"new-design-docs-button",className:"add-dropdown"},d.default.createElement(E.default.MenuDropDown,{links:u}))))}}),V=d.default.createClass({displayName:"IndexSection",propTypes:{urlNamespace:d.default.PropTypes.string.isRequired,indexLabel:d.default.PropTypes.string.isRequired,database:d.default.PropTypes.object.isRequired,designDocName:d.default.PropTypes.string.isRequired,items:d.default.PropTypes.array.isRequired,isExpanded:d.default.PropTypes.bool.isRequired,selectedIndex:d.default.PropTypes.string.isRequired,onDelete:d.default.PropTypes.func.isRequired,onClone:d.default.PropTypes.func.isRequired},getInitialState:function(){return{placement:"bottom"}},setPlacement:function(e){var t=document.getElementById(e).getBoundingClientRect().top,n=150,a=t+n>window.innerHeight?"top":"bottom";this.setState({placement:a})},createItems:function(){var e=this.props.items.sort();return _.map(e,function(e,t){var n=r.default.urls(this.props.urlNamespace,"app",encodeURIComponent(this.props.database.id),this.props.designDocName),a=this.props.selectedIndex===e?"active":"";return d.default.createElement("li",{className:a,key:t},d.default.createElement("a",{id:this.props.designDocName+"_"+e,href:"#/"+n+e,className:"toggle-view"},e),d.default.createElement(R.OverlayTrigger,{ref:"indexMenu-"+t,trigger:"click",onEnter:this.setPlacement.bind(this,this.props.designDocName+"_"+e),placement:this.state.placement,rootClose:!0,overlay:d.default.createElement(R.Popover,{id:"index-menu-component-popover"},d.default.createElement("ul",null,d.default.createElement("li",{onClick:this.indexAction.bind(this,"edit",{indexName:e,onEdit:this.props.onEdit})},d.default.createElement("span",{className:"fonticon fonticon-file-code-o"}),"Edit"),d.default.createElement("li",{onClick:this.indexAction.bind(this,"clone",{indexName:e,onClone:this.props.onClone})},d.default.createElement("span",{className:"fonticon fonticon-files-o"}),"Clone"),d.default.createElement("li",{onClick:this.indexAction.bind(this,"delete",{indexName:e,onDelete:this.props.onDelete})},d.default.createElement("span",{className:"fonticon fonticon-trash"}),"Delete")))},d.default.createElement("span",{className:"index-menu-toggle fonticon fonticon-wrench2"})))},this)},indexAction:function(e,t,n){switch(n.preventDefault(),$("body").trigger("click"),e){case"delete":m.default.showDeleteIndexModal(t.indexName,this.props.designDocName,this.props.indexLabel,t.onDelete);break;case"clone":m.default.showCloneIndexModal(t.indexName,this.props.designDocName,this.props.indexLabel,t.onClone);break;case"edit":t.onEdit(this.props.database.id,this.props.designDocName,t.indexName)}},toggle:function(e){e.preventDefault();var t=!this.props.isExpanded,n=t?"show":"hide";$(c.default.findDOMNode(this)).find(".accordion-body").collapse(n),this.props.toggle(this.props.designDocName,this.props.title)},render:function(){if(0===this.props.items.length)return null;var e="accordion-header index-group-header",t="index-list accordion-body collapse";this.props.isExpanded&&(e+=" down",t+=" in");var n=this.props.title,a=this.props.designDocName,i="nav-design-function-"+a+this.props.selector;return d.default.createElement("li",{id:i},d.default.createElement("a",{className:e,"data-toggle":"collapse",onClick:this.toggle},d.default.createElement("div",{className:"fonticon-play"}),n),d.default.createElement("ul",{className:t},this.createItems()))}}),F=d.default.createClass({displayName:"DesignDoc",propTypes:{database:d.default.PropTypes.object.isRequired,sidebarListTypes:d.default.PropTypes.array.isRequired,isExpanded:d.default.PropTypes.bool.isRequired,selectedNavInfo:d.default.PropTypes.object.isRequired,toggledSections:d.default.PropTypes.object.isRequired},getInitialState:function(){return{updatedSidebarListTypes:this.props.sidebarListTypes}},componentWillMount:function(){if(_.isEmpty(this.state.updatedSidebarListTypes)||_.has(this.state.updatedSidebarListTypes[0],"selector")&&"views"!==this.state.updatedSidebarListTypes[0].selector){var e=this.state.updatedSidebarListTypes;e.unshift({selector:"views",name:"Views",urlNamespace:"view",indexLabel:"view",onDelete:T.default.deleteView,onClone:T.default.cloneView,onEdit:T.default.gotoEditViewPage}),this.setState({updatedSidebarListTypes:e})}},indexList:function(){return _.map(this.state.updatedSidebarListTypes,function(e,t){var n=_.has(this.props.toggledSections,e.name)&&this.props.toggledSections[e.name],a="";return this.props.selectedNavInfo.designDocSection===e.name&&(a=this.props.selectedNavInfo.indexName),d.default.createElement(V,{icon:e.icon,isExpanded:n,urlNamespace:e.urlNamespace,indexLabel:e.indexLabel,onEdit:e.onEdit,onDelete:e.onDelete,onClone:e.onClone,selectedIndex:a,toggle:this.props.toggle,database:this.props.database,designDocName:this.props.designDocName,key:t,title:e.name,selector:e.selector,items:_.keys(this.props.designDoc[e.selector])})}.bind(this))},toggle:function(e){e.preventDefault();var t=!this.props.isExpanded,n=t?"show":"hide";$(c.default.findDOMNode(this)).find("#"+this.props.designDocName).collapse(n),this.props.toggle(this.props.designDocName)},getNewButtonLinks:function(){var e=r.default.urls("databaseBaseURL","app",encodeURIComponent(this.props.database.id)),t=this.props.designDocName;return[{title:"Add New",links:_.reduce(r.default.getExtensions("sidebar:links"),function(n,a){return n.push({title:a.title,url:"#"+e+"/"+a.url+"/"+t,icon:"fonticon-plus-circled"}),n},[{title:"New View",url:"#"+r.default.urls("new","addView",encodeURIComponent(this.props.database.id),t),icon:"fonticon-plus-circled"}])}]},render:function(){var e=this.getNewButtonLinks(),t="design-doc-section accordion-header",n="design-doc-body accordion-body collapse";this.props.isExpanded&&(t+=" down",n+=" in");var a=this.props.designDocName,i=r.default.urls("designDocs","app",encodeURIComponent(this.props.database.id),a),o="metadata"===this.props.selectedNavInfo.designDocSection?"active":"";return d.default.createElement("li",{className:"nav-header"},d.default.createElement("div",{id:"sidebar-tab-"+a,className:t},d.default.createElement("div",{id:"nav-header-"+a,onClick:this.toggle,className:"accordion-list-item"},d.default.createElement("div",{className:"fonticon-play"}),d.default.createElement("p",{className:"design-doc-name"},d.default.createElement("span",{title:"_design/"+a},a))),d.default.createElement("div",{className:"new-button add-dropdown"},d.default.createElement(E.default.MenuDropDown,{links:e}))),d.default.createElement("ul",{className:n,id:this.props.designDocName},d.default.createElement("li",{className:o},d.default.createElement("a",{href:"#/"+i,className:"toggle-view accordion-header"},"Metadata")),this.indexList()))}}),j=d.default.createClass({displayName:"DesignDocList",componentWillMount:function(){var e=r.default.getExtensions("sidebar:list");this.sidebarListTypes=_.isUndefined(e)?[]:e},designDocList:function(){return _.map(this.props.designDocs,function(e,t){var n=e.safeId,a=!1,i={};_.has(this.props.toggledSections,n)&&(a=this.props.toggledSections[n].visible,i=this.props.toggledSections[n].indexGroups);var o={};return"designDoc"===this.props.selectedNav.navItem&&this.props.selectedNav.designDocName===n&&(o=this.props.selectedNav),d.default.createElement(F,{toggle:this.props.toggle,sidebarListTypes:this.sidebarListTypes,isExpanded:a,toggledSections:i,selectedNavInfo:o,key:t,designDoc:e,designDocName:n,database:this.props.database})}.bind(this))},render:function(){return d.default.createElement("ul",{className:"nav nav-list"},this.designDocList())}}),H=d.default.createClass({displayName:"SidebarController",getStoreState:function(){return{database:P.getDatabase(),selectedNav:P.getSelected(),designDocs:P.getDesignDocs(),designDocList:P.getDesignDocList(),availableDesignDocIds:P.getAvailableDesignDocs(),toggledSections:P.getToggledSections(),isLoading:P.isLoading(),deleteDbModalProperties:U.getShowDeleteDatabaseModal(),deleteIndexModalVisible:P.isDeleteIndexModalVisible(),deleteIndexModalText:P.getDeleteIndexModalText(),deleteIndexModalOnSubmit:P.getDeleteIndexModalOnSubmit(),deleteIndexModalIndexName:P.getDeleteIndexModalIndexName(),deleteIndexModalDesignDoc:P.getDeleteIndexDesignDoc(),cloneIndexModalVisible:P.isCloneIndexModalVisible(),cloneIndexModalTitle:P.getCloneIndexModalTitle(),cloneIndexModalSelectedDesignDoc:P.getCloneIndexModalSelectedDesignDoc(),cloneIndexModalNewDesignDocName:P.getCloneIndexModalNewDesignDocName(),cloneIndexModalOnSubmit:P.getCloneIndexModalOnSubmit(),cloneIndexDesignDocProp:P.getCloneIndexDesignDocProp(),cloneIndexModalNewIndexName:P.getCloneIndexModalNewIndexName(),cloneIndexSourceIndexName:P.getCloneIndexModalSourceIndexName(),cloneIndexSourceDesignDocName:P.getCloneIndexModalSourceDesignDocName(),cloneIndexModalIndexLabel:P.getCloneIndexModalIndexLabel()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){P.on("change",this.onChange,this),U.on("change",this.onChange,this)},componentWillUnmount:function(){P.off("change",this.onChange),U.off("change",this.onChange,this)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},showDeleteDatabaseModal:function(e){D.default.showDeleteDatabaseModal(e)},deleteIndex:function(){var e="designDoc"===this.state.selectedNav.navItem&&"_design/"+this.state.selectedNav.designDocName===this.state.deleteIndexModalDesignDoc.id&&this.state.selectedNav.indexName===this.state.deleteIndexModalIndexName;this.state.deleteIndexModalOnSubmit({isOnIndex:e,indexName:this.state.deleteIndexModalIndexName,designDoc:this.state.deleteIndexModalDesignDoc,designDocs:this.state.designDocs,database:this.state.database})},cloneIndex:function(){this.state.cloneIndexModalOnSubmit({sourceIndexName:this.state.cloneIndexSourceIndexName,sourceDesignDocName:this.state.cloneIndexSourceDesignDocName,targetDesignDocName:this.state.cloneIndexModalSelectedDesignDoc,newDesignDocName:this.state.cloneIndexModalNewDesignDocName,newIndexName:this.state.cloneIndexModalNewIndexName,designDocs:this.state.designDocs,database:this.state.database,onComplete:m.default.hideCloneIndexModal})},render:function(){return this.state.isLoading?d.default.createElement(L,null):d.default.createElement("nav",{className:"sidenav"},d.default.createElement(B,{selectedNavItem:this.state.selectedNav.navItem,databaseName:this.state.database.id}),d.default.createElement(j,{selectedNav:this.state.selectedNav,toggle:m.default.toggleContent,toggledSections:this.state.toggledSections,designDocs:this.state.designDocList,database:this.state.database}),d.default.createElement(x,{showHide:this.showDeleteDatabaseModal,modalProps:this.state.deleteDbModalProperties}),d.default.createElement(k,{title:"Confirm Deletion",visible:this.state.deleteIndexModalVisible,text:this.state.deleteIndexModalText,onClose:m.default.hideDeleteIndexModal,onSubmit:this.deleteIndex}),d.default.createElement(G,{visible:this.state.cloneIndexModalVisible,title:this.state.cloneIndexModalTitle,close:m.default.hideCloneIndexModal,submit:this.cloneIndex,designDocArray:this.state.availableDesignDocIds,selectedDesignDoc:this.state.cloneIndexModalSelectedDesignDoc,newDesignDocName:this.state.cloneIndexModalNewDesignDocName,newIndexName:this.state.cloneIndexModalNewIndexName,indexLabel:this.state.cloneIndexModalIndexLabel}))}}),G=d.default.createClass({displayName:"CloneIndexModal",propTypes:{visible:d.default.PropTypes.bool.isRequired,title:d.default.PropTypes.string,close:d.default.PropTypes.func.isRequired,submit:d.default.PropTypes.func.isRequired,designDocArray:d.default.PropTypes.array.isRequired,selectedDesignDoc:d.default.PropTypes.string.isRequired,newDesignDocName:d.default.PropTypes.string.isRequired,newIndexName:d.default.PropTypes.string.isRequired,indexLabel:d.default.PropTypes.string.isRequired},getDefaultProps:function(){return{title:"Clone Index",visible:!1}},submit:function(){if(this.refs.designDocSelector.validate())return""===this.props.newIndexName?void r.default.addNotification({msg:"Please enter the new index name.",type:"error",clear:!0}):void this.props.submit()},close:function(e){e&&e.preventDefault(),this.props.close()},setNewIndexName:function(e){m.default.setNewCloneIndexName(e.target.value)},render:function(){return d.default.createElement(R.Modal,{dialogClassName:"clone-index-modal",show:this.props.visible,onHide:this.close},d.default.createElement(R.Modal.Header,{closeButton:!0},d.default.createElement(R.Modal.Title,null,this.props.title)),d.default.createElement(R.Modal.Body,null,d.default.createElement("form",{className:"form",method:"post",onSubmit:this.submit},d.default.createElement("p",null,"Select the design document where the cloned ",this.props.indexLabel," will be created, and then enter a name for the cloned ",this.props.indexLabel,"."),d.default.createElement("div",{className:"row"},d.default.createElement(M,{ref:"designDocSelector",designDocList:this.props.designDocArray,selectedDesignDocName:this.props.selectedDesignDoc,newDesignDocName:this.props.newDesignDocName,onSelectDesignDoc:m.default.selectDesignDoc,onChangeNewDesignDocName:m.default.updateNewDesignDocName})),d.default.createElement("div",{className:"clone-index-name-row"},d.default.createElement("label",{className:"new-index-title-label",htmlFor:"new-index-name"},this.props.indexLabel," Name"),d.default.createElement("input",{type:"text",id:"new-index-name",value:this.props.newIndexName,onChange:this.setNewIndexName,placeholder:"Enter new view name"})))),d.default.createElement(R.Modal.Footer,null,d.default.createElement("a",{href:"#",className:"cancel-link",onClick:this.close,"data-bypass":"true"},"Cancel"),d.default.createElement("button",{onClick:this.submit,"data-bypass":"true",className:"btn btn-primary save"},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," Clone ",this.props.indexLabel)))}});t.default={SidebarController:H,DesignDoc:F,CloneIndexModal:G}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(135),c=a(u),f={};f.SidebarStore=r.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._designDocs=new Backbone.Collection,this._selected={navItem:"all-docs",designDocName:"",designDocSection:"",indexName:""},this._loading=!0,this._toggledSections={},this._deleteIndexModalVisible=!1,this._deleteIndexModalDesignDocName="",this._deleteIndexModalText="",this._deleteIndexModalIndexName="",this._deleteIndexModalOnSubmit=function(){},this._cloneIndexModalVisible=!1,this._cloneIndexDesignDocProp="",this._cloneIndexModalTitle="",this._cloneIndexModalSelectedDesignDoc="",this._cloneIndexModalNewDesignDocName="",this._cloneIndexModalNewIndexName="",this._cloneIndexModalIndexLabel="",this._cloneIndexModalOnSubmit=function(){}},newOptions:function(e){this._database=e.database,this._designDocs=e.designDocs,this._loading=!1,e.selectedNavItem&&(this._selected={navItem:e.selectedNavItem,designDocName:"",designDocSection:"",indexName:""})},updatedDesignDocs:function(e){this._designDocs=e},isDeleteIndexModalVisible:function(){return this._deleteIndexModalVisible},getDeleteIndexModalText:function(){return this._deleteIndexModalText},getDeleteIndexModalOnSubmit:function(){return this._deleteIndexModalOnSubmit},isLoading:function(){return this._loading},getDatabase:function(){return this.isLoading()?{}:this._database},toggleContent:function(e,t){return this._toggledSections[e]?t?this.toggleIndexGroup(e,t):void(this._toggledSections[e].visible=!this._toggledSections[e].visible):void(this._toggledSections[e]={visible:!0,indexGroups:{}})},toggleIndexGroup:function(e,t){var n=this._toggledSections[e].indexGroups[t];if(_.isUndefined(n))return void(this._toggledSections[e].indexGroups[t]=!0);this._toggledSections[e].indexGroups[t]=!n},isVisible:function(e,t){return!!this._toggledSections[e]&&(t?this._toggledSections[e].indexGroups[t]:this._toggledSections[e].visible)},getSelected:function(){return this._selected},setSelected:function(e){this._selected={navItem:e.navItem,designDocName:e.designDocName,designDocSection:e.designDocSection,indexName:e.indexName},e.designDocName&&(_.has(this._toggledSections,e.designDocName)||(this._toggledSections[e.designDocName]={visible:!0,indexGroups:{}}),this._toggledSections[e.designDocName].visible=!0,e.designDocSection&&(this._toggledSections[e.designDocName].indexGroups[e.designDocSection]=!0))},getToggledSections:function(){return this._toggledSections},getDatabaseName:function(){return this.isLoading()?"":this._database.safeID()},getDesignDocs:function(){return this._designDocs},getAvailableDesignDocs:function(){var e=this.getDesignDocs().filter(function(e){return!e.isMangoDoc()});return _.map(e,function(e){return e.id})},getDesignDocList:function(){if(this.isLoading())return{};var e=this._designDocs.toJSON();return e=_.filter(e,function(e){return!_.has(e.doc,"language")||"query"!==e.doc.language}),e.map(function(e){return e.safeId=o.default.utils.safeURLName(e._id.replace(/^_design\//,"")),_.extend(e,e.doc)})},showDeleteIndexModal:function(e){this._deleteIndexModalIndexName=e.indexName,this._deleteIndexModalDesignDocName=e.designDocName,this._deleteIndexModalVisible=!0,this._deleteIndexModalText=d.default.createElement("div",null,"Are you sure you want to delete the ",d.default.createElement("code",null,this._deleteIndexModalIndexName)," ",e.indexLabel,"?"),this._deleteIndexModalOnSubmit=e.onDelete},getDeleteIndexModalIndexName:function(){return this._deleteIndexModalIndexName},getDeleteIndexDesignDoc:function(){var e=this._designDocs.find(function(e){return"_design/"+this._deleteIndexModalDesignDocName===e.id},this);return e?e.dDocModel():null},isCloneIndexModalVisible:function(){return this._cloneIndexModalVisible},getCloneIndexModalTitle:function(){return this._cloneIndexModalTitle},showCloneIndexModal:function(e){this._cloneIndexModalIndexLabel=e.indexLabel,this._cloneIndexModalTitle=e.cloneIndexModalTitle,this._cloneIndexModalSourceIndexName=e.sourceIndexName,this._cloneIndexModalSourceDesignDocName=e.sourceDesignDocName,this._cloneIndexModalSelectedDesignDoc="_design/"+e.sourceDesignDocName,this._cloneIndexDesignDocProp="",this._cloneIndexModalVisible=!0,this._cloneIndexModalOnSubmit=e.onSubmit},getCloneIndexModalIndexLabel:function(){return this._cloneIndexModalIndexLabel},getCloneIndexModalOnSubmit:function(){return this._cloneIndexModalOnSubmit},getCloneIndexModalSourceIndexName:function(){return this._cloneIndexModalSourceIndexName},getCloneIndexModalSourceDesignDocName:function(){return this._cloneIndexModalSourceDesignDocName},getCloneIndexDesignDocProp:function(){return this._cloneIndexDesignDocProp},getCloneIndexModalSelectedDesignDoc:function(){return this._cloneIndexModalSelectedDesignDoc},getCloneIndexModalNewDesignDocName:function(){return this._cloneIndexModalNewDesignDocName},getCloneIndexModalNewIndexName:function(){return this._cloneIndexModalNewIndexName},dispatch:function(e){switch(e.type){case c.default.SIDEBAR_SET_SELECTED_NAV_ITEM:this.setSelected(e.options);break;case c.default.SIDEBAR_NEW_OPTIONS:this.newOptions(e.options);break;case c.default.SIDEBAR_TOGGLE_CONTENT:this.toggleContent(e.designDoc,e.indexGroup);break;case c.default.SIDEBAR_FETCHING:this._loading=!0;break;case c.default.SIDEBAR_SHOW_DELETE_INDEX_MODAL:this.showDeleteIndexModal(e.options);break;case c.default.SIDEBAR_HIDE_DELETE_INDEX_MODAL:this._deleteIndexModalVisible=!1;break;case c.default.SIDEBAR_SHOW_CLONE_INDEX_MODAL:this.showCloneIndexModal(e.options);break;case c.default.SIDEBAR_HIDE_CLONE_INDEX_MODAL:this._cloneIndexModalVisible=!1;break;case c.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_CHANGE:this._cloneIndexModalSelectedDesignDoc=e.options.value;break;case c.default.SIDEBAR_CLONE_MODAL_DESIGN_DOC_NEW_NAME_UPDATED:this._cloneIndexModalNewDesignDocName=e.options.value;break;case c.default.SIDEBAR_CLONE_MODAL_UPDATE_INDEX_NAME:this._cloneIndexModalNewIndexName=e.options.value;break;case c.default.SIDEBAR_UPDATED_DESIGN_DOCS:this.updatedDesignDocs(e.options.designDocs),this._loading=!1;break;default:return}this.triggerChange()}}),f.sidebarStore=new f.SidebarStore,f.sidebarStore.dispatchToken=r.default.dispatcher.register(f.sidebarStore.dispatch),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_NAVBAR_LINK:"ADD_NAVBAR_LINK",TOGGLE_NAVBAR_MENU:"TOGGLE_NAVBAR_MENU",UPDATE_NAVBAR_LINK:"UPDATE_NAVBAR_LINK",CLEAR_NAVBAR_LINK:"CLEAR_NAVBAR_LINK",REMOVE_NAVBAR_LINK:"REMOVE_NAVBAR_LINK",NAVBAR_SET_VERSION_INFO:"NAVBAR_SET_VERSION_INFO",NAVBAR_ACTIVE_LINK:"NAVBAR_ACTIVE_LINK",NAVBAR_HIDE:"NAVBAR_HIDE",NAVBAR_SHOW:"NAVBAR_SHOW"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ADD_NOTIFICATION:"ADD_NOTIFICATION",SHOW_NOTIFICATION_CENTER:"SHOW_NOTIFICATION_CENTER",HIDE_NOTIFICATION_CENTER:"HIDE_NOTIFICATION_CENTER",CLEAR_SINGLE_NOTIFICATION:"CLEAR_SINGLE_NOTIFICATION",CLEAR_ALL_NOTIFICATIONS:"CLEAR_ALL_NOTIFICATIONS",SELECT_NOTIFICATION_FILTER:"SELECT_NOTIFICATION_FILTER",START_HIDING_NOTIFICATION:"START_HIDING_NOTIFICATION",HIDE_NOTIFICATION:"HIDE_NOTIFICATION",HIDE_ALL_NOTIFICATIONS:"HIDE_ALL_NOTIFICATIONS",SHOW_PERMANENT_NOTIFICATION:"SHOW_PERMANENT_NOTIFICATION",HIDE_PERMANENT_NOTIFICATION:"HIDE_PERMANENT_NOTIFICATION"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermissionUnsafe=t.deletePermission=t.updatePermission=t.deletePermissionFromObject=t.setPermissionOnObject=t.fetchPermissions=t.receivedPermissions=void 0;var i=n(1),o=a(i);n(201);var s=n(259),r=n(258),l=t.receivedPermissions=function(e){return{type:r.PERMISSIONS_UPDATE,permissions:e}},d=(t.fetchPermissions=function(e){return function(t){return fetch(e,{headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){return t(l(e))})}},t.setPermissionOnObject=function(e,t,n,a){if((0,s.isValueAlreadySet)(e,t,n,a))throw new Error("Role/Name has already been added");return(0,s.addValueToPermissions)(e,t,n,a)}),u=t.deletePermissionFromObject=function(e,t,n,a){if(!(0,s.isValueAlreadySet)(e,t,n,a))throw new Error("Role/Name does not exist");return e[t][n]=e[t][n].filter(function(e){return e!==a}),e},c=(t.updatePermission=function(e,t,n,a,i){return function(s){d(t,n,a,i),c(e,t,s).catch(function(e){o.default.addNotification({msg:e.message,type:"error"})})}},t.deletePermission=function(e,t,n,a,i){return function(s){u(t,n,a,i),c(e,t,s).catch(function(e){o.default.addNotification({msg:e.message,type:"error"})})}},t.updatePermissionUnsafe=function(e,t,n){return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){if(!e.ok)throw new Error(e.reason);return e}).then(function(){return o.default.addNotification({msg:"Database permissions has been updated."}),n(l(t))}).catch(function(e){o.default.addNotification({msg:"Could not update permissions - reason: "+e,type:"error"})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERMISSIONS_UPDATE="PERMISSIONS_UPDATE"},function(e,t,n){"use strict";function a(e,t,n,a){return!!e[t]&&!!e[t][n]&&-1!==e[t][n].indexOf(a)}function i(e,t,n,a){return e[t]||(e[t]={}),e[t][n]||(e[t][n]=[]),e[t][n].push(a),e}Object.defineProperty(t,"__esModule",{value:!0}),t.isValueAlreadySet=a,t.addValueToPermissions=i},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case r.PERMISSIONS_UPDATE:var n=t.permissions;return s({},e,{isLoading:!1,security:n,adminRoles:i("admins",n),adminNames:o("admins",n),memberRoles:i("members",n),memberNames:o("members",n)});default:return e}}function i(e,t){return t[e]&&t[e].roles?t[e].roles:[]}function o(e,t){return t[e]&&t[e].names?t[e].names:[]}Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberRoles=t.getMemberNames=t.getAdminNames=t.getAdminRoles=t.getSecurity=t.getIsLoading=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var r=n(258),l={isLoading:!0,security:{},adminRoles:[],adminNames:[],memberNames:[],memberRoles:[]};t.getIsLoading=function(e){return e.isLoading},t.getSecurity=function(e){return e.security},t.getAdminRoles=function(e){return e.adminRoles},t.getAdminNames=function(e){return e.adminNames},t.getMemberNames=function(e){return e.memberNames},t.getMemberRoles=function(e){return e.memberRoles}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INIT_REPLICATION:"INIT_REPLICATION",CHANGE_REPLICATION_SOURCE:"CHANGE_REPLICATION_SOURCE",REPLICATION_DATABASES_LOADED:"REPLICATION_DATABASES_LOADED",REPLICATION_UPDATE_FORM_FIELD:"REPLICATION_UPDATE_FORM_FIELD",REPLICATION_CLEAR_FORM:"REPLICATION_CLEAR_FORM",REPLICATION_STARTING:"REPLICATION_STARTING",REPLICATION_STATUS:"REPLICATION_STATUS",REPLICATION_FETCHING_STATUS:"REPLICATION_FETCHING_STATUS",REPLICATION_FILTER_DOCS:"REPLICATION_FILTER_DOCS",REPLICATION_TOGGLE_ALL_DOCS:"REPLICATION_TOGGLE_ALL_DOCS",REPLICATION_TOGGLE_DOC:"REPLICATION_TOGGLE_DOC",REPLICATION_DELETE_DOCS:"REPLICATION_DELETE_DOCS",REPLICATION_SET_STATE_FROM_DOC:"REPLICATION_SET_STATE_FROM_DOC",REPLICATION_SHOW_CONFLICT_MODAL:"REPLICATION_SHOW_CONFLICT_MODAL",REPLICATION_HIDE_CONFLICT_MODAL:"REPLICATION_HIDE_CONFLICT_MODAL",REPLICATION_CHANGE_ACTIVITY_SORT:"REPLICATION_CHANGE_ACTIVITY_SORT",REPLICATION_CLEAR_SELECTED_DOCS:"REPLICATION_CLEAR_SELECTED_DOCS",REPLICATION_CHANGE_TAB_SECTION:"REPLICATION_CHANGE_TAB_SECTION",REPLICATION_FETCHING_REPLICATE_STATUS:"REPLICATION_FETCHING_REPLICATE_STATUS",REPLICATION_REPLICATE_STATUS:"REPLICATION_REPLICATE_STATUS",REPLICATION_SUPPORT_NEW_API:"REPLICATION_SUPPORT_NEW_API",REPLICATION_FILTER_REPLICATE:"REPLICATION_FILTER_REPLICATE",REPLICATION_TOGGLE_ALL_REPLICATE:"REPLICATION_TOGGLE_ALL_REPLICATE",REPLICATION_TOGGLE_REPLICATE:"REPLICATION_TOGGLE_REPLICATE",REPLICATION_CLEAR_SELECTED_REPLICATES:"REPLICATION_CLEAR_SELECTED_REPLICATES",REPLICATION_FETCHING_FORM_STATE:"REPLICATION_FETCHING_FORM_STATE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createReplicatorDB=t.deleteReplicatesApi=t.fetchReplicateInfo=t.parseReplicateInfo=t.checkReplicationDocID=t.fetchSchedulerDocs=t.fetchReplicationDocs=t.combineDocsAndScheduler=t.convertState=t.parseReplicationDocs=t.getDocUrl=t.removeSensitiveUrlInfo=t.createReplicationDoc=t.addDocIdAndRev=t.continuous=t.createTarget=t.getTarget=t.getSource=t.removeCredentialsFromUrl=t.getCredentialsFromUrl=t.getAuthHeaders=t.getUsername=t.decodeFullUrl=t.encodeFullUrl=t.supportNewApi=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(876);var o=n(53),s=a(o),r=n(11),l=a(r),d=n(1),u=a(d),c=n(499),f=a(c),p=n(20),h=a(p);n(201);var m=null,g=t.supportNewApi=function(e){return m&&!e||(m=new u.default.Promise(function(e){fetch("/_scheduler/jobs",{credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(t){if(t.status>202)return e(!1);e(!0)})})),m},_=t.encodeFullUrl=function(e){if(!e)return"";var t=new URL(e);return t.origin+"/"+encodeURIComponent(t.pathname.slice(1))},E=(t.decodeFullUrl=function(e){if(!e)return"";var t=new URL(e);return t.origin+"/"+decodeURIComponent(t.pathname.slice(1))},t.getUsername=function(){return l.default.session.get("userCtx").name}),b=t.getAuthHeaders=function(e,t){return e&&t?{Authorization:"Basic "+f.default.encode(e+":"+t)}:{}},v=t.getCredentialsFromUrl=function(e){var t=e.lastIndexOf("@");if(-1===t)return{username:"",password:""};var n=e.startsWith("https")?8:7,a=e.slice(n,t),i=a.indexOf(":");return{username:a.slice(0,i),password:a.slice(i+1,a.length)}},y=t.removeCredentialsFromUrl=function(e){var t=e.lastIndexOf("@");return-1===t?e:(e.startsWith("https")?"https://":"http://")+e.slice(t+1)},D=t.getSource=function(e){var t=e.replicationSource,n=e.localSource,a=e.remoteSource,i=e.username,o=e.password,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,l=r.origin,d=void 0,u=void 0;if(t===s.default.REPLICATION_SOURCE.LOCAL)d=l+"/"+n,u=b(i,o);else{var c=v(a);u=b(c.username,c.password),d=y(a)}return{headers:u,url:_(d)}},C=t.getTarget=function(e){var t=e.replicationTarget,n=e.localTarget,a=e.remoteTarget,i=(e.replicationSource,e.username),o=e.password,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,l=r.origin,d=encodeURIComponent(n),u=b(i,o),c=l+"/"+d;if(t===s.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE||t===s.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE){var f=v(a);c=_(y(a)),u=b(f.username,f.password)}return{headers:u,url:c}},T=t.createTarget=function(e){return!!h.default.includes([s.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE,s.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE],e)},N=t.continuous=function(e){return e===s.default.REPLICATION_TYPE.CONTINUOUS},S=t.addDocIdAndRev=function(e,t,n){return e&&(n._id=e),t&&(n._rev=t),n},I=(t.createReplicationDoc=function(e){var t=e.replicationTarget,n=e.replicationSource,a=e.replicationType,i=e.replicationDocName,o=e.password,s=e.localTarget,r=e.localSource,l=e.remoteTarget,d=e.remoteSource,u=e._rev,c=E();return S(i,u,{user_ctx:{name:c,roles:["_admin","_reader","_writer"]},source:D({replicationSource:n,localSource:r,remoteSource:d,username:c,password:o}),target:C({replicationTarget:t,replicationSource:n,remoteTarget:l,localTarget:s,username:c,password:o}),create_target:T(t),continuous:N(a)})},t.removeSensitiveUrlInfo=function(e){try{var t=new URL(e);return t.origin+"/"+decodeURIComponent(t.pathname.slice(1))}catch(t){return e}}),w=t.getDocUrl=function(e){var t=e;return e?("object"===(void 0===e?"undefined":i(e))&&(t=e.url),I(t)):""},O=t.parseReplicationDocs=function(e){return e.map(function(e){return e.doc}).map(function(e){return{_id:e._id,_rev:e._rev,selected:!1,source:w(e.source),target:w(e.target),createTarget:e.create_target,continuous:!0===e.continuous,status:e._replication_state,errorMsg:e._replication_state_reason?e._replication_state_reason:"",statusTime:new Date(e._replication_state_time),startTime:new Date(e._replication_start_time),url:"#/database/_replicator/"+encodeURIComponent(e._id),raw:e}})},A=t.convertState=function(e){return"error"===e.toLowerCase()||"crashing"===e.toLowerCase()?"retrying":e},R=t.combineDocsAndScheduler=function(e,t){return e.map(function(e){var n=t.find(function(t){return t.doc_id===e._id});return n?(e.status=A(n.state),n.start_time&&(e.startTime=new Date(n.start_time)),n.last_updated&&(e.stateTime=new Date(n.last_updated)),e):e})},P=(t.fetchReplicationDocs=function(){return g().then(function(e){var t=fetch("/_replicator/_all_docs?include_docs=true&limit=100",{credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(e){return e.json()}).then(function(e){return e.error?[]:O(e.rows.filter(function(e){return-1===e.id.indexOf("_design/")}))});if(!e)return t;var n=P();return u.default.Promise.join(t,n,function(e,t){return R(e,t)}).catch(function(){return[]})})},t.fetchSchedulerDocs=function(){return fetch("/_scheduler/docs?include_docs=true",{credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(e){return e.json()}).then(function(e){return e.error?[]:e.docs})}),L=(t.checkReplicationDocID=function(e){var t=u.default.Deferred();return fetch("/_replicator/"+e,{credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(e){if("Object Not Found"===e.statusText)return void t.resolve(!1);t.resolve(!0)}),t},t.parseReplicateInfo=function(e){return e.jobs.filter(function(e){return null===e.database}).map(function(e){return{_id:e.id,source:w(e.source.slice(0,e.source.length-1)),target:w(e.target.slice(0,e.target.length-1)),startTime:new Date(e.start_time),statusTime:new Date(e.last_updated),status:A(e.history[0].type),errorMsg:"",selected:!1,continuous:/continuous/.test(e.id),raw:e}})});t.fetchReplicateInfo=function(){return g().then(function(e){return e?fetch("/_scheduler/jobs",{credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(e){return e.json()}).then(function(e){return L(e)}):[]})},t.deleteReplicatesApi=function(e){var t=e.map(function(e){var t={replication_id:e._id,cancel:!0};return fetch("/_replicate",{method:"POST",credentials:"include",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})});return u.default.Promise.all(t)},t.createReplicatorDB=function(){return fetch("/_replicator",{method:"PUT",credentials:"include",headers:{Accept:"application/json; charset=utf-8"}}).then(function(e){if(!e.ok)throw{reason:"Failed to create the _replicator database."};return e.json()}).then(function(){return!0})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationHeader=t.ReplicationFilter=void 0;var i=n(0),o=a(i),s=t.ReplicationFilter=function(e){var t=e.value,n=e.onChange;return o.default.createElement("div",{className:"replication__filter"},o.default.createElement("i",{className:"replication__filter-icon fonticon-filter"}),o.default.createElement("input",{type:"text",placeholder:"Filter replications",className:"replication__filter-input",value:t,onChange:function(e){n(e.target.value)}}))};s.propTypes={value:o.default.PropTypes.string.isRequired,onChange:o.default.PropTypes.func.isRequired},(t.ReplicationHeader=function(e){var t=e.filter,n=e.onFilterChange;return o.default.createElement("div",{className:"replication__activity_header"},o.default.createElement("div",null),o.default.createElement(s,{value:t,onChange:n}),o.default.createElement("a",{href:"#/replication/_create",className:"btn save replication__activity_header-btn btn-primary"},o.default.createElement("i",{className:"icon fonticon-plus-circled"}),"New Replication"))}).propTypes={filter:o.default.PropTypes.string.isRequired,onFilterChange:o.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationTable=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(22),c=n(170),f=a(c),p=n(98),h=function(e){var t=new URL(e),n=encodeURIComponent(t.pathname.slice(1));return e.indexOf(window.location.hostname)>-1?d.default.createElement("span",null,t.origin+"/",d.default.createElement("a",{href:"#/database/"+n+"/_all_docs"},t.pathname.slice(1))):""+t.origin+t.pathname},m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1},n}return s(t,e),r(t,[{key:"showModal",value:function(){this.setState({modalVisible:!0})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"getErrorIcon",value:function(){var e=this.props.status;return"error"!==e&&"retrying"!==e?null:d.default.createElement("span",null,d.default.createElement("a",{"data-bypass":"true",className:"replication__row-btn replication__row-btn--warning icon-exclamation-sign",onClick:this.showModal.bind(this),title:"View error message"}),d.default.createElement(p.ErrorModal,{onClick:this.closeModal.bind(this),onClose:this.closeModal.bind(this),errorMsg:this.props.errorMsg,visible:this.state.modalVisible,status:e}))}},{key:"render",value:function(){var e=this.props,t=e.statusTime,n=e.status,a=(0,f.default)(t),i=d.default.createElement("span",null,n);if(a.isValid()){var o=a.format("MMM Do, h:mm a"),s=d.default.createElement(u.Tooltip,{id:""},"Last updated: ",o);i=d.default.createElement(u.OverlayTrigger,{placement:"top",overlay:s},d.default.createElement("span",null,n))}return d.default.createElement("td",{className:"replication__row-status replication__row-status--"+n},i,this.getErrorIcon())}}]),t}(d.default.Component);m.propTypes={statusTime:d.default.PropTypes.any,status:d.default.PropTypes.string,errorMsg:d.default.PropTypes.string.isRequired},m.defaultProps={status:""};var g=function(e){var t=e.onlyDeleteAction,n=e._id,a=e.url,i=e.deleteDocs,o=[];return t||(o.push(d.default.createElement("li",{className:"replication__row-list",key:1},d.default.createElement("a",{href:"#replication/id/"+encodeURIComponent(n),className:"replication__row-btn icon-wrench replication__row-btn--no-left-pad",title:"Edit replication","data-bypass":"true"}))),o.push(d.default.createElement("li",{className:"replication__row-list",key:2},d.default.createElement("a",{className:"replication__row-btn fonticon-document",title:"Edit replication document",href:a,"data-bypass":"true"})))),o.push(d.default.createElement("li",{className:"replication__row-list",key:3},d.default.createElement("a",{className:"replication__row-btn icon-trash "+(t?"replication__row-btn--no-left-pad":"")+" ",title:"Delete "+(t?"job":"document")+" "+n,onClick:function(){return i(n)}}))),d.default.createElement("ul",{className:"replication__row-actions-list"},o)};g.propTypes={_id:d.default.PropTypes.string.isRequired,url:d.default.PropTypes.string,error:d.default.PropTypes.bool.isRequired,errorMsg:d.default.PropTypes.string.isRequired,deleteDocs:d.default.PropTypes.func.isRequired};var _=function(e){var t=e._id,n=e.source,a=e.target,i=e.type,o=e.startTime,s=e.status,r=e.statusTime,l=e.url,u=e.selected,c=e.selectDoc,p=e.errorMsg,_=e.deleteDocs,E=e.onlyDeleteAction,b=e.showStateRow,v=(0,f.default)(o),y=v.isValid()?v.format("MMM Do, h:mm a"):"",D=null;return b&&(D=d.default.createElement(m,{statusTime:r,status:s,errorMsg:p})),d.default.createElement("tr",{className:"replication__table-row"},d.default.createElement("td",{className:"replication__table-col"},d.default.createElement("input",{checked:u,type:"checkbox",onChange:function(){return c(t)}})," "),d.default.createElement("td",{className:"replication__table-col"},h(n)),d.default.createElement("td",{className:"replication__table-col"},h(a)),d.default.createElement("td",{className:"replication__table-col"},y),d.default.createElement("td",{className:"replication__table-col"},i),D,d.default.createElement("td",{className:"replication__table-col"},d.default.createElement(g,{onlyDeleteAction:E,deleteDocs:_,_id:t,url:l,error:"error"===s||"retrying"===s,errorMsg:p})))};_.propTypes={_id:d.default.PropTypes.string.isRequired,source:d.default.PropTypes.string.isRequired,target:d.default.PropTypes.string.isRequired,type:d.default.PropTypes.string.isRequired,status:d.default.PropTypes.string,url:d.default.PropTypes.string,statusTime:d.default.PropTypes.object.isRequired,startTime:d.default.PropTypes.object,selected:d.default.PropTypes.bool.isRequired,selectDoc:d.default.PropTypes.func.isRequired,errorMsg:d.default.PropTypes.string.isRequired,deleteDocs:d.default.PropTypes.func.isRequired,onlyDeleteAction:d.default.PropTypes.bool.isRequired,showStateRow:d.default.PropTypes.bool.isRequired};var E=function(e){var t=e.isSelected,n=e.deleteDocs,a=e.someDocsSelected,i=e.onCheck,o=a?d.default.createElement("button",{onClick:function(){return n()},className:"replication__bulk-select-trash fonticon fonticon-trash",title:"Delete all selected"}):null;return d.default.createElement("div",{className:"replication__bulk-select-wrapper"},d.default.createElement("div",{className:"replication__bulk-select-header"},d.default.createElement("input",{className:"replication__bulk-select-input",checked:t,type:"checkbox",onChange:i})),o)};E.propTypes={isSelected:d.default.PropTypes.bool.isRequired,someDocsSelected:d.default.PropTypes.bool.isRequired,onCheck:d.default.PropTypes.func.isRequired,deleteDocs:d.default.PropTypes.func.isRequired};var b=function(e){var t=e.msg;return d.default.createElement("tr",null,d.default.createElement("td",{colSpan:"7",className:"replication__empty-row"},t))};b.defaultProps={msg:"There is no replicator-db activity or history to display."},(t.ReplicationTable=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),r(t,[{key:"sort",value:function(e,t,n){var a=n.sort(function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0});return t||a.reverse(),a}},{key:"renderRows",value:function(){var e=this;return 0===this.props.docs.length?d.default.createElement(b,null):this.sort(this.props.column,this.props.descending,this.props.docs).map(function(t,n){return d.default.createElement(_,{key:n,_id:t._id,selected:t.selected,selectDoc:e.props.selectDoc,source:t.source,target:t.target,type:!0===t.continuous?"Continuous":"One time",status:t.status,statusTime:t.statusTime,startTime:t.startTime,url:t.url,deleteDocs:e.props.deleteDocs,errorMsg:t.errorMsg,doc:t,onlyDeleteAction:e.props.onlyDeleteAction,showStateRow:e.props.showStateRow})})}},{key:"iconDirection",value:function(e){return e!==this.props.column||this.props.descending?"fonticon-down-dir":"fonticon-up-dir"}},{key:"onSort",value:function(e){var t=this;return function(){t.props.changeSort({descending:e!==t.props.column||!t.props.descending,column:e})}}},{key:"isSelected",value:function(e){return e===this.props.column?"replication__table--selected":""}},{key:"stateCol",value:function(){return this.props.showStateRow?d.default.createElement("th",{className:"replication__table-header-status",onClick:this.onSort("status")},"State",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("status")+" "+this.isSelected("status")})):null}},{key:"render",value:function(){return d.default.createElement(u.Table,{striped:!0},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{className:"replication__table-bulk-select"},d.default.createElement(E,{isSelected:this.props.allDocsSelected,onCheck:this.props.selectAllDocs,someDocsSelected:this.props.someDocsSelected,deleteDocs:this.props.deleteDocs})),d.default.createElement("th",{className:"replication__table-header-source",onClick:this.onSort("source")},"Source",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("source")+" "+this.isSelected("source")})),d.default.createElement("th",{className:"replication__table-header-target",onClick:this.onSort("target")},"Target",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("target")+" "+this.isSelected("target")})),d.default.createElement("th",{className:"replication__table-header-time",onClick:this.onSort("statusTime")},"Start Time",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("statusTime")+" "+this.isSelected("statusTime")})),d.default.createElement("th",{className:"replication__table-header-type",onClick:this.onSort("continuous")},"Type",d.default.createElement("span",{className:"replication__table-header-icon "+this.iconDirection("continuous")+" "+this.isSelected("continuous")})),this.stateCol(),d.default.createElement("th",{className:"replication__table-header-actions"},"Actions"))),d.default.createElement("tbody",null,this.renderRows()))}}]),t}(d.default.Component)).defaultProps={onlyDeleteAction:!1,showStateRow:!0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(22),r=o.default.createElement(s.Tooltip,{id:"tooltip",className:"replication__tooltip"},o.default.createElement("p",null,"If you know the credentials for the remote account, you can use that remote username and password."),o.default.createElement("p",null,"If a remote database granted permissions to your local account, you can use the local-account username and password."),o.default.createElement("p",null,"If the remote database granted permissions to unauthenticated connections, you do not need to enter a username or password.")),l=o.default.createElement(s.Tooltip,{id:"tooltip",className:"replication__tooltip"},"Enter the username and password of the remote account."),d=function(e){var t=e.newRemote,n=t?'If a "new" database already exists, data will replicate into that existing database.':null;return o.default.createElement("div",{className:"replication__remote-connection-url-text"},"https://$USERNAME:$PASSWORD@$REMOTE_SERVER/$DATABASE  ",o.default.createElement(s.OverlayTrigger,{placement:"right",overlay:t?l:r},o.default.createElement("i",{className:"replication__remote_icon_help icon icon-question-sign"})),o.default.createElement("p",null,n))};t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(138),r=a(s),l=n(268),d=a(l),u=n(267),c=a(u),f=function(e){o.default.dispatch({type:c.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!0})},p=function(e){return function(t){t&&(o.default.dispatch({type:c.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE,test:e,success:!1}),o.default.addNotification({msg:"Error: "+JSON.parse(t.responseText).reason,type:"error"}))}};t.default={resetStore:function(){o.default.dispatch({type:c.default.VERIFY_INSTALL_RESET})},startVerification:function(){o.default.dispatch({type:c.default.VERIFY_INSTALL_START});var e=d.default.testProcess;e.setup().then(function(){return e.saveDB()},p(r.default.TESTS.CREATE_DATABASE)).then(function(){return f(r.default.TESTS.CREATE_DATABASE),e.saveDoc()},p(r.default.TESTS.CREATE_DOCUMENT)).then(function(){return f(r.default.TESTS.CREATE_DOCUMENT),e.updateDoc()},p(r.default.TESTS.UPDATE_DOCUMENT)).then(function(){return f(r.default.TESTS.UPDATE_DOCUMENT),e.destroyDoc()},p(r.default.TESTS.DELETE_DOCUMENT)).then(function(){return f(r.default.TESTS.DELETE_DOCUMENT),e.setupView()},p(r.default.TESTS.CREATE_VIEW)).then(function(){return e.testView()},p(r.default.TESTS.CREATE_VIEW)).then(function(){return f(r.default.TESTS.CREATE_VIEW),e.setupReplicate()},p(r.default.TESTS.CREATE_VIEW)).then(function(){return e.testReplicate()},p(r.default.TESTS.REPLICATION)).then(function(){f(r.default.TESTS.REPLICATION),o.default.dispatch({type:c.default.VERIFY_INSTALL_ALL_TESTS_COMPLETE}),o.default.addNotification({msg:"Success! Your CouchDB installation is working. Time to Relax.",type:"success"}),e.removeDBs()},p(r.default.TESTS.REPLICATION))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={VERIFY_INSTALL_START:"VERIFY_INSTALL_START",VERIFY_INSTALL_RESET:"VERIFY_INSTALL_RESET",VERIFY_INSTALL_SINGLE_TEST_COMPLETE:"VERIFY_INSTALL_SINGLE_TEST_COMPLETE",VERIFY_INSTALL_ALL_TESTS_COMPLETE:"VERIFY_INSTALL_ALL_TESTS_COMPLETE"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,o,s=n(11),r=a(s),l=n(1),d=a(l),u=n(77),c=a(u),f=n(30),p=a(f),h=d.default.addon(),m=new c.default.Model({id:"verifytestdb",name:"verifytestdb"}),g=new c.default.Model({id:"verifytestdb_replicate",name:"verifytestdb_replicate"});h.testProcess={saveDoc:function(){return i=new p.default.Doc({_id:"test_doc_1",a:1},{database:m}),i.save()},destroyDoc:function(){return i.destroy()},updateDoc:function(){return i.set({b:"hello"}),i.save()},saveDB:function(){return m.save()},setupDB:function(e){var t=d.default.Deferred();return e.fetch().then(function(){return e.destroy()},function(){t.resolve()}).then(function(){t.resolve()},function(e,n,a){"Unauthorized"===a&&t.reject(e,n,a)}),t},setup:function(){return d.default.when([this.setupDB(m),this.setupDB(g)])},testView:function(){var e=d.default.Deferred();return $.get(o.url()+"/_view/testview").then(function(t){t=_.isString(t)?JSON.parse(t):t;var n=t.rows[0];if(6===n.value)return e.resolve();var a={reason:"Values expect 6, got "+n.value};e.reject({responseText:JSON.stringify(a)})},e.reject),e},setupView:function(){var e=new p.default.Doc({_id:"test_doc_10",a:1},{database:m}),t=new p.default.Doc({_id:"test_doc_20",a:2},{database:m}),n=new p.default.Doc({_id:"test_doc_30",a:3},{database:m});return o=new p.default.Doc({_id:"_design/view_check",views:{testview:{map:"function (doc) { emit(doc._id, doc.a); }",reduce:"_sum"}}},{database:m}),d.default.when([e.save(),t.save(),n.save(),o.save()])},setupReplicate:function(){return $.ajax({url:r.default.host+"/_replicate",contentType:"application/json",type:"POST",dataType:"json",processData:!1,data:JSON.stringify({create_target:!0,source:"verifytestdb",target:"verifytestdb_replicate"})})},testReplicate:function(){var e=d.default.Deferred();return g.fetch().then(function(){var t=g.get("doc_count");if(4===t)return void e.resolve();var n={reason:"Replication Failed, expected 4 docs got "+t};e.reject({responseText:JSON.stringify(n)})},e.reject),e},removeDBs:function(){g.destroy(),m.destroy()}},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MISC:{TRAY_TOGGLE_SPEED:250,DEFAULT_PAGE_SIZE:20},DATABASES:{DOCUMENT_LIMIT:100},EVENTS:{TRAY_OPENED:"tray:opened",NAVBAR_SIZE_CHANGED:"navbar:size_changed"},DOC_URLS:{GENERAL:"/_utils/docs/intro/api.html#documents",ALL_DBS:"/_utils/docs/api/server/common.html?highlight=all_dbs#get--_all_dbs",REPLICATION:"/_utils/docs/replication/replicator.html#basics",DESIGN_DOCS:"/_utils/docs/couchapp/ddocs.html#design-docs",DESIGN_DOC_METADATA:"/_utils/docs/api/ddoc/common.html#api-ddoc-view-index-info",VIEW_FUNCS:"/_utils/docs/couchapp/ddocs.html#view-functions",MAP_FUNCS:"/_utils/docs/couchapp/ddocs.html#map-functions",REDUCE_FUNCS:"/_utils/docs/couchapp/ddocs.html#reduce-and-rereduce-functions",API_REF:"/_utils/docs/http-api.html",DB_PERMISSION:"/_utils/docs/api/database/security.html#db-security",STATS:"/_utils/docs/api/server/common.html?highlight=stats#get--_stats",ACTIVE_TASKS:"/_utils/docs/api/server/common.html?highlight=stats#active-tasks",LOG:"/_utils/docs/api/server/common.html?highlight=stats#log",CONFIG:"/_utils/docs/config/index.html",VIEWS:"/_utils/docs/intro/overview.html#views",MANGO_INDEX:"/_utils/docs/intro/api.html#documents",MANGO_SEARCH:"/_utils/docs/intro/api.html#documents",CHANGES:"/_utils/docs/api/database/changes.html?highlight=changes#post--db-_changes"},LOCAL_STORAGE:{SIDEBAR_MINIMIZED:"sidebar-minimized"}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),o=a(i),s=n(20),r=a(s),l={Session:o.default.Model.extend({url:"/_session",user:function(){var e=this.get("userCtx");return e&&e.name?{name:e.name,roles:e.roles}:null},isAdmin:function(){return-1!==this.get("userCtx").roles.indexOf("_admin")},fetchUser:function(e){var t=e||{},n=this.user(),a=r.default.bind(this.fetchOnce,this);return t.forceFetch&&(a=r.default.bind(this.fetch,this)),a(e).then(function(){var e=this.user();return n!==e?this.trigger("session:userChanged"):this.trigger("session:userFetched"),e}.bind(this),this.triggerError.bind(this))},triggerError:function(e,t,n){this.trigger("session:error",e,t,n)}})};t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PagingCollection=void 0;var i=n(20),o=a(i),s=n(49),r=a(s),l=n(44),d=a(l),u=r.default.param,c=t.PagingCollection=d.default.Collection.extend({constructor:function(){d.default.Collection.apply(this,arguments),this.configure.apply(this,arguments)},configure:function(e,t){var n=o.default.result(this,"url").split("?")[1]||"";this.paging=o.default.defaults(t.paging||{},{defaultParams:o.default.defaults({},t.params,this._parseQueryString(n)),hasNext:!1,hasPrevious:!1,params:{},pageSize:20,direction:void 0}),this.paging.params=o.default.clone(this.paging.defaultParams),this.updateUrlQuery(this.paging.defaultParams)},calculateParams:function(e,t,n){var a=o.default.clone(e);return a.skip=(parseInt(e.skip,10)||0)+t,this.paging.defaultParams.limit&&(a.limit=Math.min(this.paging.defaultParams.limit,a.limit)),a.limit=n+1,a.skip=Math.max(a.skip,0),a},pageSizeReset:function(e,t){var n=o.default.defaults(t||{},{fetch:!0});if(this.paging.direction=void 0,this.paging.pageSize=e,this.paging.params=this.paging.defaultParams,this.paging.params.limit=e,this.updateUrlQuery(this.paging.params),n.fetch)return this.fetch()},_parseQueryString:function(e){var t=decodeURI(e).split(/&/);return o.default.reduce(t,function(e,t){var n=t.split(/=/);return 2===n.length&&(e[n[0]]=n[1]),e},{})},_iterate:function(e,t){var n=o.default.defaults(t||{},{fetch:!0});if(this.paging.params=this.calculateParams(this.paging.params,e,this.paging.pageSize),this.updateUrlQuery(this.paging.params),n.fetch)return this.fetch({reset:!0})},next:function(e){return this.paging.direction="next",this._iterate(this.paging.pageSize,e)},previous:function(e){return this.paging.direction="previous",this._iterate(0-this.paging.pageSize,e)},shouldStringify:function(e){try{return JSON.parse(e),!1}catch(e){return!0}},updateUrlQuery:function(e){var t=o.default.result(this,"url").split("?")[0];o.default.each(["startkey","endkey","key"],function(t){o.default.has(e,t)&&this.shouldStringify(e[t])&&(e[t]=JSON.stringify(e[t]))},this),this.url=t+"?"+u(e)},fetch:function(){return!this.paging.direction&&this.paging.params.limit>0&&(this.paging.direction="fetch",this.paging.params.limit=this.paging.params.limit+1,this.updateUrlQuery(this.paging.params)),d.default.Collection.prototype.fetch.apply(this,arguments)},parse:function(e){var t=e.rows;this.paging.hasNext=this.paging.hasPrevious=!1,this.viewMeta={total_rows:e.total_rows,offset:e.offset,update_seq:e.update_seq};var n=this.paging.defaultParams.skip||0;return this.paging.params.skip>n&&(this.paging.hasPrevious=!0),t.length===this.paging.pageSize+1&&(this.paging.hasNext=!0,t.pop(),this.viewMeta.total_rows=this.viewMeta.total_rows-1),t},hasNext:function(){return this.paging.hasNext},hasPrevious:function(){return this.paging.hasPrevious}});t.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(78),c=n(457),f=n(136),p=a(f),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={routerOptions:e.router.currentRouteOptions},e.router.currentRouteOptions&&e.router.currentRouteOptions.selectedHeader&&p.default.setNavbarActiveLink(n.state.routerOptions.selectedHeader),n}return s(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.router.on("new-component",function(t){e.setState({routerOptions:t}),p.default.setNavbarActiveLink(e.state.routerOptions.selectedHeader)}),this.props.router.on("trigger-update",function(){e.forceUpdate()})}},{key:"render",value:function(){return this.state.routerOptions?this.state.routerOptions.component||null:null}}]),t}(d.default.Component),m=function(e){var t=e.router;return d.default.createElement("div",null,d.default.createElement(u.PermanentNotification,null),d.default.createElement("div",{id:"notifications"},d.default.createElement(u.NotificationController,null)),d.default.createElement("div",{role:"main",id:"main"},d.default.createElement("div",{id:"app-container"},d.default.createElement("div",{className:"wrapper"},d.default.createElement("div",{className:"pusher"},d.default.createElement(h,{router:t})),d.default.createElement("div",{id:"primary-navbar"},d.default.createElement(c.NavBar,null))))))};t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(456),o=a(i),s=n(408),r=a(s),l=n(76),d=a(l),u=n(434),c=a(u),f=n(395),p=a(f),h=n(405),m=a(h),g=n(420),_=a(g),E=n(470),b=a(E),v=n(425),y=a(v),D=n(461),C=a(D),T=n(400),N=a(T),S=n(482),I=a(S),w=n(431),O=a(w),A=n(469),R=a(A);t.default=[o.default,r.default,d.default,c.default,p.default,m.default,_.default,b.default,y.default,C.default,N.default,I.default,O.default,R.default]},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(398),r=a(s);n(573),r.default.initialize=function(){o.default.addHeaderLink({title:"Active Tasks",icon:"fonticon-activetasks",href:"#/activetasks"})},t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTasksPollingWidgetController=t.ActiveTasksController=void 0;var i=n(11),o=a(i),s=n(0),r=a(s),l=n(10),d=(a(l),n(399)),u=a(d),c=n(207),f=a(c),p=n(205),h=a(p),m=n(17),g=a(m),E=g.default.TabElement,b=g.default.TabElementWrapper,v=g.default.Polling,y=u.default.activeTasksStore,D=t.ActiveTasksController=r.default.createClass({displayName:"ActiveTasksController",getStoreState:function(){return{collection:y.getCollection(),searchTerm:y.getSearchTerm(),selectedRadio:y.getSelectedRadio(),sortByHeader:y.getSortByHeader(),headerIsAscending:y.getHeaderIsAscending()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){h.default.init(new f.default.AllTasks),y.on("change",this.onChange,this)},componentWillUnmount:function(){y.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},setNewSearchTerm:function(e){h.default.setSearchTerm(e)},switchTab:function(e){h.default.switchTab(e)},tableHeaderOnClick:function(e){h.default.sortByColumnHeader(e)},render:function(){var e=this.state,t=e.collection,n=e.searchTerm,a=e.selectedRadio,i=e.sortByHeader,o=e.headerIsAscending,s=this.setNewSearchTerm,l=this.tableHeaderOnClick;return r.default.createElement("div",{id:"active-tasks-page",className:"scrollable"},r.default.createElement("div",{className:"inner"},r.default.createElement(C,{searchTerm:n,selectedRadio:a,onSearch:s,onRadioClick:this.switchTab}),r.default.createElement(T,{collection:t,searchTerm:n,selectedRadio:a,onTableHeaderClick:l,sortByHeader:i,headerIsAscending:o})))}}),C=r.default.createClass({displayName:"ActiveTasksFilterTabs",getDefaultProps:function(){return{radioNames:["All Tasks","Replication","Database Compaction","Indexer","View Compaction"]}},checked:function(e){return this.props.selectedRadio===e},onRadioClick:function(e){var t=e.target.value;this.props.onRadioClick(t)},createFilterTabs:function(){var e=this;return this.props.radioNames.map(function(t,n){var a=e.checked(t);return r.default.createElement(E,{key:n,selected:a,text:t,onChange:e.onRadioClick})})},searchTermChange:function(e){var t=e.target.value;this.props.onSearch(t)},render:function(){var e=this.createFilterTabs();return r.default.createElement(b,null,e,r.default.createElement("li",{className:"component-tab-list-element"},r.default.createElement("input",{id:"active-tasks-search-box",className:"searchbox",type:"text",name:"search",placeholder:"Search for databases...",value:this.props.searchTerm,onChange:this.searchTermChange})))}}),T=r.default.createClass({displayName:"ActiveTaskTable",render:function(){var e=this.props.collection,t=this.props.selectedRadio,n=this.props.searchTerm,a=this.props.sortByHeader,i=this.props.onTableHeaderClick,o=this.props.headerIsAscending;return r.default.createElement("div",{id:"dashboard-lower-content"},r.default.createElement("table",{id:"active-tasks-table",className:"table table-bordered table-striped active-tasks"},r.default.createElement(N,{onTableHeaderClick:i,sortByHeader:a,headerIsAscending:o}),r.default.createElement(I,{collection:e,selectedRadio:t,searchTerm:n})))}}),N=r.default.createClass({displayName:"ActiveTasksTableHeader",getDefaultProps:function(){return{headerNames:[["type","Type"],["database","Database"],["started-on","Started on"],["updated-on","Updated on"],["pid","PID"],["progress","Status"]]}},createTableHeadingFields:function(){var e=this.props.onTableHeaderClick,t=this.props.sortByHeader,n=this.props.headerIsAscending;return this.props.headerNames.map(function(a){return r.default.createElement(S,{headerName:a[0],displayName:a[1],key:a[0],onTableHeaderClick:e,sortByHeader:t,headerIsAscending:n})})},render:function(){return r.default.createElement("thead",null,r.default.createElement("tr",null,this.createTableHeadingFields()))}}),S=r.default.createClass({displayName:"TableHeader",arrow:function(){var e=this.props.sortByHeader,t=this.props.headerName,n=this.props.headerIsAscending,a=n?"icon icon-caret-up":"icon icon-caret-down";if(e===t)return r.default.createElement("i",{className:a})},onTableHeaderClick:function(e){var t=e.target.value;this.props.onTableHeaderClick(t)},render:function(){var e=this.arrow(),t="header-field "+this.props.headerName;return r.default.createElement("td",{className:t+" tableheader",value:this.props.headerName},r.default.createElement("input",{type:"radio",name:"header-field",id:this.props.headerName,value:this.props.headerName,className:"header-field radio",onChange:this.onTableHeaderClick}),r.default.createElement("label",{className:"header-field label-text active-tasks-header noselect",htmlFor:this.props.headerName},this.props.displayName," ",e))}}),I=r.default.createClass({displayName:"ActiveTasksTableBody",getStoreState:function(){return{filteredTable:y.getFilteredTable(this.props.collection)}},getInitialState:function(){return this.getStoreState()},componentWillReceiveProps:function(){this.setState({filteredTable:y.getFilteredTable(this.props.collection)})},createRows:function(){var e=""===this.props.searchTerm.trim();return 0===this.state.filteredTable.length?e?this.noActiveTasks():this.noActiveTasksMatchFilter():_.map(this.state.filteredTable,function(e,t){return r.default.createElement(w,{key:t,item:e})})},noActiveTasks:function(){var e=this.props.selectedRadio;return"All Tasks"===e&&(e=""),r.default.createElement("tr",{className:"no-matching-database-on-search"},r.default.createElement("td",{colSpan:"6"},"No active ",e," tasks."))},noActiveTasksMatchFilter:function(){var e=this.props.selectedRadio;return"All Tasks"===e&&(e=""),r.default.createElement("tr",{className:"no-matching-database-on-search"},r.default.createElement("td",{colSpan:"6"},"No active ",e,' tasks match with filter: "',this.props.searchTerm,'"'))},render:function(){return r.default.createElement("tbody",{className:"js-tasks-go-here"},this.createRows())}}),w=r.default.createClass({displayName:"ActiveTaskTableBodyContents",getInfo:function(e){return{type:e.type,objectField:A.getDatabaseFieldMessage(e),started_on:A.getTimeInfo(e.started_on),updated_on:A.getTimeInfo(e.updated_on),pid:e.pid.replace(/[<>]/g,""),progress:A.getProgressMessage(e)}},multilineMessage:function(e,t){t||(t="");var n="multiline-active-tasks-message "+t;return e.map(function(e,t){return r.default.createElement("p",{key:t,className:n},e)})},render:function(){var e=this.getInfo(this.props.item),t=this.multilineMessage(e.objectField,"to-from-database"),n=this.multilineMessage(e.started_on,"time"),a=this.multilineMessage(e.updated_on,"time"),i=this.multilineMessage(e.progress);return r.default.createElement("tr",null,r.default.createElement("td",null,e.type),r.default.createElement("td",null,t),r.default.createElement("td",null,n),r.default.createElement("td",null,a),r.default.createElement("td",null,e.pid),r.default.createElement("td",null,i))}}),O=t.ActiveTasksPollingWidgetController=r.default.createClass({displayName:"ActiveTasksPollingWidgetController",getStoreState:function(){return{collection:y.getBackboneCollection()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){y.on("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},runPollingUpdate:function(){h.default.runPollingUpdate(this.state.collection)},getPluralForLabel:function(){return"1"===this.state.pollingInterval?"":"s"},render:function(){return r.default.createElement("div",{className:"active-tasks__polling-wrapper"},r.default.createElement(v,{min:1,max:30,stepSize:1,startValue:15,valueUnits:"second",onPoll:this.runPollingUpdate}))}}),A={getTimeInfo:function(e){return[o.default.helpers.formatDate(e),o.default.helpers.getDateFromNow(e)]},getDatabaseFieldMessage:function(e){var t=e.type,n=[];return"replication"===t?(n.push("From: "+e.source),n.push("To: "+e.target)):"indexer"===t?(n.push(e.database),n.push("(View: "+e.design_document+")")):n.push(e.database),n},getProgressMessage:function(e){var t=[],n=e.type;return _.has(e,"progress")&&t.push("Progress: "+e.progress+"%"),"indexer"===n?t.push("Processed "+e.changes_done+" of "+e.total_changes+" changes."):"replication"===n&&(t.push(e.docs_written+" docs written."),_.has(e,"changes_pending")&&t.push(e.changes_pending+" pending changes.")),_.has(e,"changes_done")&&t.push(e.changes_done+" Changes done."),t},getSourceSequence:function(e){return e.source_seq}};t.default={ActiveTasksController:D,ActiveTasksFilterTabs:C,ActiveTaskTable:T,ActiveTasksTableHeader:N,TableHeader:S,ActiveTasksTableBody:I,ActiveTaskTableBodyContents:w,ActiveTasksPollingWidgetController:O}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTasksLayout=void 0;var i=n(0),o=a(i),s=n(1),r=a(s),l=n(29),d=n(396),u=[{name:"Active Tasks"}],c=t.ActiveTasksLayout=function(){return o.default.createElement(l.OnePane,null,o.default.createElement(l.OnePaneHeader,{crumbs:u,docURL:r.default.constants.DOC_URLS.ACTIVE_TASKS,endpoint:window.location.origin+"/_active_tasks"},o.default.createElement(d.ActiveTasksPollingWidgetController,null)),o.default.createElement(l.OnePaneContent,null,o.default.createElement(d.ActiveTasksController,null)))};t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(207),d=a(l),u=n(397),c=a(u),f=r.default.RouteObject.extend({selectedHeader:"Active Tasks",routes:{"activetasks/:id":"showActiveTasks",activetasks:"showActiveTasks"},roles:["_admin"],showActiveTasks:function(){return o.default.createElement(c.default,null)}});d.default.RouteObjects=[f],t.default=d.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(206),r=a(s),l=o.default.Store.extend({initialize:function(){this._prevSortbyHeader="started-on",this._headerIsAscending=!0,this._selectedRadio="All Tasks",this._sortByHeader="started-on",this._searchTerm="",this._pollingIntervalSeconds=5},initAfterFetching:function(e,t){this._collection=e,this.sortCollectionByColumnHeader(this._sortByHeader),this._backboneCollection=t,this.setIsLoading(!0,new Date)},isLoading:function(){return this._isLoading},setIsLoading:function(e,t){e?(this._startTimeForLoading=t,this._isLoading=!0):t-this._startTimeForLoading<800?setTimeout(function(){this._isLoading=!1,this.triggerChange()}.bind(this),800):this._isLoading=!1},getSelectedRadio:function(){return this._selectedRadio},setSelectedRadio:function(e){this._selectedRadio=e},setCollectionFromPolling:function(e){this.setCollection(e),this.sortCollectionByColumnHeader(this._prevSortbyHeader,!1)},setCollection:function(e){this._collection=e},getCollection:function(){return this._collection},getBackboneCollection:function(){return this._backboneCollection},setSearchTerm:function(e){this._searchTerm=e},getSearchTerm:function(){return this._searchTerm},getSortByHeader:function(){return this._sortByHeader},setSortByHeader:function(e){this._sortByHeader=e},getHeaderIsAscending:function(){return this._headerIsAscending},toggleHeaderIsAscending:function(){if(this._prevSortbyHeader===this._sortByHeader)return void(this._headerIsAscending=!this._headerIsAscending);this._headerIsAscending=!0},sortCollectionByColumnHeader:function(e){var t=this._collection,n=_.sortBy(t,function(t){var n=e;return _.isUndefined(t[n])&&(n="source"),t[n]});this._prevSortbyHeader=e,this._collection=n},getFilteredTable:function(){var e=[];return this.sortCollectionByColumnHeader(this._sortByHeader),this._collection.map(function(t){var n=this.passesRadioFilter(t),a=this.passesSearchFilter(t);n&&a&&e.push(t)}.bind(this)),this._headerIsAscending||e.reverse(),e},passesSearchFilter:function(e){var t=this._searchTerm,n=new RegExp(t,"g"),a="";return _.has(e,"database")&&(a+=e.database),_.has(e,"source")&&(a+=e.source),_.has(e,"target")&&(a+=e.target),n.test(a)},passesRadioFilter:function(e){var t=this._selectedRadio.toLowerCase().replace(" ","_");return e.type===t||"all_tasks"===t},dispatch:function(e){switch(e.type){case r.default.ACTIVE_TASKS_FETCH_AND_SET:this.initAfterFetching(e.options.collectionTable,e.options.backboneCollection);break;case r.default.ACTIVE_TASKS_SWITCH_TAB:this.setSelectedRadio(e.options),this.triggerChange();break;case r.default.ACTIVE_TASKS_SET_COLLECTION:this.setCollection(e.options),this.triggerChange();break;case r.default.ACTIVE_TASKS_SET_SEARCH_TERM:this.setSearchTerm(e.options),this.triggerChange();break;case r.default.ACTIVE_TASKS_SORT_BY_COLUMN_HEADER:this.toggleHeaderIsAscending(),this.setSortByHeader(e.options.columnName),this.sortCollectionByColumnHeader(e.options.columnName),this.triggerChange();break;case r.default.ACTIVE_TASKS_SET_IS_LOADING:this.setIsLoading(e.options,new Date),this.triggerChange();break;case r.default.ACTIVE_TASKS_POLLING_COLLECTION:this.setCollectionFromPolling(e.options),this.triggerChange();break;default:return}}}),d=new l;d.dispatchToken=o.default.dispatcher.register(d.dispatch.bind(d)),t.default={activeTasksStore:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(403),d=a(l);n(574),d.default.session=new d.default.Session,r.default.setSession(d.default.session),o.default.session=d.default.session,d.default.initialize=function(){r.default.addHeaderLink({id:"auth",title:"Login",href:"#/login",icon:"fonticon-user",bottomNav:!0}),d.default.session.on("change",function(){var e=d.default.session,t={};e.isAdminParty()?t={id:"auth",title:"Admin Party!",href:"#/createAdmin",icon:"fonticon-user",bottomNav:!0}:e.isLoggedIn()?(t={id:"auth",title:e.user().name,href:"#/changePassword",icon:"fonticon-user",bottomNav:!0},r.default.removeHeaderLink({id:"logout",footerNav:!0}),r.default.addHeaderLink({id:"logout",footerNav:!0,href:"#logout",title:"Logout",icon:"",className:"logout"})):(t={id:"auth",title:"Login",href:"#/login",icon:"fonticon-user",bottomNav:!0},r.default.removeHeaderLink({id:"logout",footerNav:!0})),r.default.updateHeaderLink(t)}),d.default.session.fetchUser().then(function(){d.default.session.trigger("change")});var e=function(e,t){var n=$.Deferred();return e.isAdminParty()?(e.trigger("authenticated"),n.resolve()):e.matchesRoles(t)?(e.trigger("authenticated"),n.resolve()):n.reject(),[n]},t=function(){var e=window.location.hash.replace("#","");/login\?urlback=/g.test(e)&&(e=e.replace("login?urlback=","")),r.default.navigate("/login?urlback="+e,{replace:!0})};r.default.auth.registerAuth(e),r.default.auth.registerAuthDenied(t)},t.default=d.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdminLayout=t.AuthLayout=t.OnePaneHeader=void 0;var i=n(0),o=a(i),s=n(29),r=n(95),l=n(127),d=a(l),u=d.default.CreateAdminForm,c=d.default.ChangePasswordForm,f=t.OnePaneHeader=function(e){var t=e.crumbs;return o.default.createElement("header",null,o.default.createElement("div",{className:"flex-layout flex-row"},o.default.createElement("div",{id:"breadcrumbs",className:"flex-body"},o.default.createElement(r.Breadcrumbs,{crumbs:t}))))},p=t.AuthLayout=function(e){var t=e.crumbs,n=e.component;return o.default.createElement(s.OnePane,null,o.default.createElement(f,{crumbs:t}),o.default.createElement(s.OnePaneContent,null,n))};t.AdminLayout=function(e){var t=e.crumbs,n=e.changePassword,a=n?o.default.createElement(c,null):o.default.createElement(u,{loginAfter:!1});return o.default.createElement("div",{id:"dashboard",className:"template-with-sidebar flex-layout flex-col"},o.default.createElement(f,{crumbs:t}),o.default.createElement("div",{className:"template-content flex-body flex-layout flex-row"},o.default.createElement("div",{id:"sidebar-content"},o.default.createElement(d.default.CreateAdminSidebar,null)),o.default.createElement("div",{id:"dashboard-content",className:"flex-body"},a)))},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(270),d=a(l),u=new r.default.addon,c=Backbone.Model.extend({initialize:function(e,t){this.node=t.node},url:function(){if(!this.node)throw new Error("no node set");return o.default.host+"/_node/"+this.node+"/_config/admins/"+this.get("name")},isNew:function(){return!1},sync:function(e,t){var n={url:t.url(),contentType:"application/json",dataType:"json",data:JSON.stringify(t.get("value"))};return n.type="delete"===e?"DELETE":"PUT",$.ajax(n)}});u.Session=d.default.Session.extend({url:o.default.host+"/_session",initialize:function(e){e||(e={}),_.bindAll(this),this.messages=_.extend({},{missingCredentials:"Username or password cannot be blank.",loggedIn:"You have been logged in.",adminCreated:"CouchDB admin created",changePassword:"Your password has been updated.",adminCreationFailedPrefix:"Could not create admin."},e.messages)},isAdminParty:function(){var e=this.get("userCtx");return!e.name&&e.roles.indexOf("_admin")>-1},isLoggedIn:function(){var e=this.get("userCtx");return!!e&&!!e.name},userRoles:function(){var e=this.user();return e&&e.roles?(-1===e.roles.indexOf("fx_loggedIn")&&e.roles.push("fx_loggedIn"),e.roles):[]},matchesRoles:function(e){return 0===e.length||_.intersection(this.userRoles(),e).length>0},validateUser:function(e,t,n){if(_.isEmpty(e)||_.isEmpty(t)){var a=r.default.Deferred();return a.rejectWith(this,[n]),a}},validatePasswords:function(e,t,n){if(_.isEmpty(e)||_.isEmpty(t)||e!==t){var a=r.default.Deferred();return a.rejectWith(this,[n]),a}},createAdmin:function(e,t,n,a){return this.validateUser(e,t,this.messages.missingCredentials)||new c({name:e,value:t},{node:a}).save().then(function(){return n?this.login(e,t):this.fetchUser({forceFetch:!0})}.bind(this))},login:function(e,t){return this.validateUser(e,t,this.messages.missingCredentials)||$.ajax({cache:!1,type:"POST",url:o.default.host+"/_session",dataType:"json",data:{name:e,password:t}}).then(function(){return this.fetchUser({forceFetch:!0})}.bind(this))},logout:function(){var e=this;return $.ajax({type:"DELETE",url:o.default.host+"/_session",dataType:"json",username:"_",password:"_"}).then(function(){return e.fetchUser({forceFetch:!0})})},changePassword:function(e,t,n){var a="Passwords do not match.",i=this.validatePasswords(e,t,a);if(i)return i;var o=this.get("userCtx").name;return new c({name:o,value:e},{node:n}).save().then(function(){return this.login(o,e)}.bind(this))}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(11),r=a(s),l=n(1),d=a(l),u=n(402),c=a(u),f=n(125),p=a(f),h=n(127),m=a(h),g=n(128),_=a(g),E=n(401),b=m.default.LoginForm,v=m.default.CreateAdminForm,y=d.default.RouteObject.extend({selectedHeader:"Login",routes:{"login?*extra":"login",login:"login",logout:"logout",createAdmin:"checkNodes","createAdmin/:node":"createAdminForNode"},checkNodes:function(){_.default.navigateToNodeBasedOnNodeCount("/createAdmin/")},login:function(){var e=[{name:"Log In to CouchDB"}];return o.default.createElement(E.AuthLayout,{crumbs:e,component:o.default.createElement(b,{urlBack:r.default.getParams().urlback})})},logout:function(){d.default.addNotification({msg:"You have been logged out."}),d.default.session.logout().then(function(){d.default.navigate("/")})},createAdminForNode:function(){_.default.fetchNodes();var e=[{name:"Create Admin"}];return o.default.createElement(E.AuthLayout,{crumbs:e,component:o.default.createElement(v,{loginAfter:!0})})}}),D=d.default.RouteObject.extend({hideNotificationCenter:!0,hideApiBar:!0,routes:{changePassword:{route:"checkNodesForPasswordChange",roles:["fx_loggedIn"]},"changePassword/:node":{route:"changePassword",roles:["fx_loggedIn"]},addAdmin:{route:"checkNodesForAddAdmin",roles:["_admin"]},"addAdmin/:node":{route:"addAdmin",roles:["_admin"]}},checkNodesForPasswordChange:function(){_.default.navigateToNodeBasedOnNodeCount("/changePassword/")},checkNodesForAddAdmin:function(){_.default.navigateToNodeBasedOnNodeCount("/addAdmin/")},selectedHeader:function(){return d.default.session.user().name},changePassword:function(){return _.default.fetchNodes(),p.default.selectPage("changePassword"),o.default.createElement(E.AdminLayout,{crumbs:[{name:"User Management"}],changePassword:!0})},addAdmin:function(){return _.default.fetchNodes(),p.default.selectPage("addAdmin"),o.default.createElement(E.AdminLayout,{crumbs:[{name:"User Management"}],changePassword:!1})}});c.default.RouteObjects=[y,D],t.default=c.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(126),r=a(s),l=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._changePassword="",this._changePasswordConfirm=""},getChangePassword:function(){return this._changePassword},getChangePasswordConfirm:function(){return this._changePasswordConfirm},setChangePassword:function(e){this._changePassword=e},setChangePasswordConfirm:function(e){this._changePasswordConfirm=e},dispatch:function(e){switch(e.type){case r.default.AUTH_CLEAR_CHANGE_PWD_FIELDS:this.reset(),this.triggerChange();break;case r.default.AUTH_UPDATE_CHANGE_PWD_FIELD:this.setChangePassword(e.value),this.triggerChange();break;case r.default.AUTH_UPDATE_CHANGE_PWD_CONFIRM_FIELD:this.setChangePasswordConfirm(e.value),this.triggerChange();break;default:return}}}),d=new l;d.dispatchToken=o.default.dispatcher.register(d.dispatch.bind(d));var u=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._username="",this._password=""},getUsername:function(){return this._username},getPassword:function(){return this._password},setUsername:function(e){this._username=e},setPassword:function(e){this._password=e},dispatch:function(e){switch(e.type){case r.default.AUTH_CLEAR_CREATE_ADMIN_FIELDS:this.reset(),this.triggerChange();break;case r.default.AUTH_UPDATE_CREATE_ADMIN_USERNAME_FIELD:this.setUsername(e.value),this.triggerChange();break;case r.default.AUTH_UPDATE_CREATE_ADMIN_PWD_FIELD:this.setPassword(e.value),this.triggerChange();break;default:return}}}),c=new u;c.dispatchToken=o.default.dispatcher.register(c.dispatch.bind(c));var f=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._selectedPage="changePassword"},getSelectedPage:function(){return this._selectedPage},setSelectedPage:function(e){this._selectedPage=e},dispatch:function(e){switch(e.type){case r.default.AUTH_SELECT_PAGE:this.setSelectedPage(e.page),this.triggerChange();break;default:return}}}),p=new f;p.dispatchToken=o.default.dispatcher.register(p.dispatch.bind(p)),t.default={changePasswordStore:d,createAdminStore:c,createAdminSidebarStore:p}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(407),o=a(i);o.default.initialize=function(){},t.default=o.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(209),r=a(s),l=r.default.nodesStore,d=o.default.createClass({displayName:"DisabledConfigController",getStoreState:function(){return{nodes:l.getNodes()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){l.on("change",this.onChange,this)},componentWillUnmount:function(){l.off("change",this.onChange)},onChange:function(){this.setState(this.getStoreState())},render:function(){return o.default.createElement("div",{className:"config-warning-cluster-wrapper"},o.default.createElement("div",{className:"config-warning-cluster-container"},o.default.createElement("div",null,o.default.createElement("div",{className:"config-warning-icon-container pull-left"},o.default.createElement("i",{className:"fonticon-attention-circled"})),"It seems that you are running a cluster with ",this.state.nodes.length," nodes. For CouchDB 2.0 we recommend using a configuration management tools like Chef, Ansible, Puppet or Salt (in no particular order) to configure your nodes in a cluster.",o.default.createElement("br",null),o.default.createElement("br",null),o.default.createElement("div",{className:"config-warning-other-text"},"We highly recommend against configuring nodes in your cluster using the HTTP API and suggest using a configuration management tool for all configurations."))))}}),u={DisabledConfigController:d};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(210),d=a(l),u=n(406),c=a(u),f=n(128),p=a(f),h=n(29),m=r.default.RouteObject.extend({routes:{"cluster/disabled":"showDisabledFeatureScreen"},apiUrl:function(){return[this.memberships.url("apiurl"),this.memberships.documentation]},showDisabledFeatureScreen:function(){var e=new d.default.ClusterNodes;return p.default.fetchNodes(),o.default.createElement(h.OnePaneSimpleLayout,{component:o.default.createElement(c.default.DisabledConfigController,null),endpoint:e.url("apiurl"),docURL:e.documentation,crumbs:[{name:"Config disabled"}]})}});d.default.RouteObjects=[m],t.default=d.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(575),t.default={initialize:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Badge=t.BadgeList=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),t.BadgeList=o.default.createClass({displayName:"BadgeList",propTypes:{elements:o.default.PropTypes.array.isRequired,removeBadge:o.default.PropTypes.func.isRequired},getDefaultProps:function(){return{getLabel:function(e){return e},getId:function(e){return e}}},getBadges:function(){return this.props.elements.map(function(e,t){return o.default.createElement(r,{label:this.props.getLabel(e),key:t,id:e,remove:this.removeBadge})}.bind(this))},removeBadge:function(e,t){this.props.removeBadge(e,t)},render:function(){return o.default.createElement("ul",{className:"component-badgelist"},this.getBadges())}}),t.Badge=o.default.createClass({displayName:"Badge",propTypes:{label:o.default.PropTypes.string.isRequired,remove:o.default.PropTypes.func.isRequired},remove:function(e){e.preventDefault(),this.props.remove(this.props.label,this.props.id)},render:function(){return o.default.createElement("li",{className:"component-badge"},o.default.createElement("span",{className:"label label-info"},this.props.label),o.default.createElement("a",{href:"#",className:"label label-info remove-filter",onClick:this.remove,"data-bypass":"true"},"×"))}}))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BulkActionComponent=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(22));t.BulkActionComponent=o.default.createClass({displayName:"BulkActionComponent",propTypes:{hasSelectedItem:o.default.PropTypes.bool.isRequired,removeItem:o.default.PropTypes.func.isRequired,selectAll:o.default.PropTypes.func,toggleSelect:o.default.PropTypes.func.isRequired,isChecked:o.default.PropTypes.bool.isRequired,disabled:o.default.PropTypes.bool},getDefaultProps:function(){return{disabled:!1,title:"Select rows that can be...",bulkIcon:"fonticon-trash",buttonTitle:"Delete all selected",dropdownContentText:"Deleted",enableOverlay:!1}},render:function(){return o.default.createElement("div",{className:"bulk-action-component"},o.default.createElement("div",{className:"bulk-action-component-selector-group"},this.getMasterSelector(),this.getMultiSelectOptions()))},getMultiSelectOptions:function(){return this.props.hasSelectedItem?o.default.createElement("button",{onClick:this.props.removeItem,className:"fonticon "+this.props.bulkIcon,title:this.props.buttonTitle}):null},getPopupContent:function(){return o.default.createElement("ul",{className:"bulk-action-component-popover-actions"},o.default.createElement("li",{onClick:this.selectAll},o.default.createElement("i",{className:"icon fonticon-cancel"})," ",this.props.dropdownContentText))},selectAll:function(){this.refs.bulkActionPopover.hide(),this.props.selectAll()},getOverlay:function(){return o.default.createElement(r.OverlayTrigger,{ref:"bulkActionPopover",trigger:"click",placement:"bottom",rootClose:!0,overlay:o.default.createElement(r.Popover,{id:"bulk-action-component-popover",title:this.props.title},this.getPopupContent())},o.default.createElement("div",{className:"arrow-button"},o.default.createElement("i",{className:"fonticon fonticon-play"})))},getMasterSelector:function(){return o.default.createElement("div",{className:"bulk-action-component-panel"},o.default.createElement("input",{type:"checkbox",checked:this.props.isChecked,onChange:this.props.toggleSelect,disabled:this.props.disabled}),this.props.enableOverlay?o.default.createElement("div",{className:"separator"}):null,this.props.enableOverlay?this.getOverlay():null)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditorPanel=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(129)),l=n(213),d=n(219);t.CodeEditorPanel=o.default.createClass({displayName:"CodeEditorPanel",getDefaultProps:function(){return{id:"code-editor",className:"",defaultCode:"",title:"",docLink:"",allowZenMode:!0,blur:function(){}}},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{zenModeEnabled:!1,code:this.props.defaultCode}},componentWillReceiveProps:function(e){e.defaultCode!==this.props.defaultCode&&this.setState({code:e.defaultCode})},ignorableErrors:["Missing name in function declaration.","['{a}'] is better written in dot notation."],getZenModeIcon:function(){if(this.props.allowZenMode)return o.default.createElement("span",{className:"fonticon fonticon-resize-full zen-editor-icon",title:"Enter Zen mode",onClick:this.enterZenMode})},getDocIcon:function(){if(this.props.docLink)return o.default.createElement("a",{className:"help-link","data-bypass":"true",href:this.props.docLink,target:"_blank"},o.default.createElement("i",{className:"icon-question-sign"}))},getZenModeOverlay:function(){if(this.state.zenModeEnabled)return o.default.createElement(d.ZenModeOverlay,{defaultCode:this.state.code,mode:this.props.mode,ignorableErrors:this.ignorableErrors,onExit:this.exitZenMode})},enterZenMode:function(){this.setState({zenModeEnabled:!0,code:this.refs.codeEditor.getValue()})},exitZenMode:function(e){this.setState({zenModeEnabled:!1}),this.getEditor().setValue(e)},getEditor:function(){return this.refs.codeEditor},getValue:function(){return this.getEditor().getValue()},beautify:function(e){this.setState({code:e}),this.getEditor().setValue(e)},update:function(){this.getEditor().setValue(this.state.code)},render:function(){var e="control-group";return this.props.className&&(e+=" "+this.props.className),o.default.createElement("div",{className:e},o.default.createElement("label",null,o.default.createElement("span",null,this.props.title),this.getDocIcon(),this.getZenModeIcon()),o.default.createElement(r.CodeEditor,{id:this.props.id,ref:"codeEditor",mode:"javascript",defaultCode:this.state.code,showGutter:!0,ignorableErrors:this.ignorableErrors,setHeightToLineCount:!0,blur:this.props.blur}),o.default.createElement(l.Beautify,{code:this.state.code,beautifiedCode:this.beautify}),this.getZenModeOverlay())}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmButton=void 0;var i=n(0),o=a(i);a(n(10)),t.ConfirmButton=o.default.createClass({displayName:"ConfirmButton",propTypes:{showIcon:o.default.PropTypes.bool,id:o.default.PropTypes.string,customIcon:o.default.PropTypes.string,style:o.default.PropTypes.object,buttonType:o.default.PropTypes.string,"data-id":o.default.PropTypes.string,onClick:o.default.PropTypes.func,disabled:o.default.PropTypes.bool},getDefaultProps:function(){return{disabled:!1,showIcon:!0,customIcon:"fonticon-ok-circled",buttonType:"btn-success",style:{},"data-id":null,onClick:function(){}}},getIcon:function(){return this.props.showIcon?o.default.createElement("i",{className:"icon "+this.props.customIcon}):null},render:function(){var e=this.props,t=e.onClick,n=e.buttonType,a=e.id,i=e.style,s=e.text,r=e.disabled;return o.default.createElement("button",{onClick:t,type:"submit",disabled:r,"data-id":this.props["data-id"],className:"btn save "+n,id:a,style:i},this.getIcon(),s)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteDatabaseModal=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(22)),l=n(50),d=a(l);t.DeleteDatabaseModal=o.default.createClass({displayName:"DeleteDatabaseModal",getInitialState:function(){return{inputValue:"",disableSubmit:!0}},propTypes:{showHide:o.default.PropTypes.func.isRequired,modalProps:o.default.PropTypes.object},close:function(e){e&&e.preventDefault(),this.setState({inputValue:"",disableSubmit:!0}),this.props.showHide({showModal:!1})},open:function(){this.props.showHide({showModal:!0})},getDatabaseName:function(){return this.props.modalProps.dbId.trim()},onInputChange:function(e){var t=e.target.value.trim();this.setState({inputValue:t}),this.setState({disableSubmit:t!==this.getDatabaseName()})},onDeleteClick:function(e){e.preventDefault(),d.default.deleteDatabase(this.getDatabaseName())},onInputKeypress:function(e){13===e.keyCode&&!0!==this.state.disableSubmit&&d.default.deleteDatabase(this.getDatabaseName())},render:function(){var e=this.props.modalProps.isSystemDatabase,t=this.props.modalProps.showDeleteModal,n=this.props.modalProps.dbId,a=e?o.default.createElement("p",{style:{color:"#d14"},className:"warning"},o.default.createElement("b",null,"You are about to delete a system database, be careful!")):null;return o.default.createElement(r.Modal,{dialogClassName:"delete-db-modal",show:t,onHide:this.close},o.default.createElement(r.Modal.Header,{closeButton:!0},o.default.createElement(r.Modal.Title,null,"Confirm Deletion")),o.default.createElement(r.Modal.Body,null,a,o.default.createElement("p",null,"Warning: This action will permanently delete ",o.default.createElement("code",null,n),". To confirm the deletion of the database and all of the database's documents, you must enter the database's name."),o.default.createElement("input",{type:"text",className:"input-block-level",onKeyUp:this.onInputKeypress,onChange:this.onInputChange,autoFocus:!0})),o.default.createElement(r.Modal.Footer,null,o.default.createElement("a",{href:"#",onClick:this.close,"data-bypass":"true",className:"cancel-link"},"Cancel"),o.default.createElement("button",{disabled:this.state.disableSubmit,onClick:this.onDeleteClick,className:"btn btn-danger delete"},o.default.createElement("i",{className:"icon icon-trash"})," Delete Database")))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0;var i=n(0),o=a(i),s=n(10),r=(a(s),n(1)),l=a(r),d=n(59),u=a(d);t.Document=o.default.createClass({displayName:"Document",propTypes:{docIdentifier:o.default.PropTypes.string.isRequired,docChecked:o.default.PropTypes.func.isRequired,truncate:o.default.PropTypes.bool,maxRows:o.default.PropTypes.number},getDefaultProps:function(){return{truncate:!0,maxRows:500}},onChange:function(e){e.preventDefault(),this.props.docChecked(this.props.doc.id,this.props.doc._rev)},getUrlFragment:function(){return this.props.children?o.default.createElement("div",{className:"doc-edit-symbol pull-right",title:"Edit document"},this.props.children):""},getExtensionIcons:function(){var e=l.default.getExtensions("DocList:icons");return _.map(e,function(e,t){return o.default.createElement(e,{doc:this.props.doc,key:t})},this)},getCheckbox:function(){return this.props.isDeletable?o.default.createElement("div",{className:"checkbox inline"},o.default.createElement("input",{id:"checkbox-"+this.props.docIdentifier,checked:this.props.checked,"data-checked":this.props.checked,type:"checkbox",onChange:this.onChange,className:"js-row-select"}),o.default.createElement("label",{onClick:this.onChange,className:"label-checkbox-doclist",htmlFor:"checkbox-"+this.props.docIdentifier})):o.default.createElement("div",{className:"checkbox-dummy"})},onDoubleClick:function(e){this.props.onDoubleClick(this.props.docIdentifier,this.props.doc,e)},getDocContent:function(){if(_.isEmpty(this.props.docContent))return null;var e=this.props.docContent,t=!1;if(this.props.truncate){var n=u.default.truncateDoc(this.props.docContent,this.props.maxRows);t=n.isTruncated,e=n.content}return o.default.createElement("div",{className:"doc-data"},o.default.createElement("pre",{className:"prettyprint"},e),t?o.default.createElement("div",{className:"doc-content-truncated"},"(truncated)"):null)},render:function(){return o.default.createElement("div",{"data-id":this.props.docIdentifier,onDoubleClick:this.onDoubleClick,className:"doc-row"},o.default.createElement("div",{className:"custom-inputs"},this.getCheckbox()),o.default.createElement("div",{className:"doc-item"},o.default.createElement("header",null,o.default.createElement("span",{className:"header-keylabel"},this.props.keylabel),o.default.createElement("span",{className:"header-doc-id"},this.props.header?'"'+this.props.header+'"':null),this.getUrlFragment(),o.default.createElement("div",{className:"doc-item-extension-icons pull-right"},this.getExtensionIcons())),this.getDocContent()),o.default.createElement("div",{className:"clearfix"}))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuDropDown=void 0;var i=n(0),o=a(i);a(n(10)),t.MenuDropDown=o.default.createClass({displayName:"MenuDropDown",getDefaultProps:function(){return{icon:"fonticon-plus-circled"}},createSectionLinks:function(e){var t=this;return e?e.map(function(e,n){return t.createEntry(e,n)}):null},createEntry:function(e,t){return o.default.createElement("li",{key:t},o.default.createElement("a",{className:e.icon?"icon "+e.icon:"","data-bypass":e.external?"true":"",href:e.url,onClick:e.onClick,target:e.external?"_blank":""},e.title))},createSectionTitle:function(e){return e?o.default.createElement("li",{className:"header-label"},e):null},createSection:function(){var e=this;return this.props.links.map(function(t,n){return t.title&&t.links?[e.createSectionTitle(t.title),e.createSectionLinks(t.links)]:e.createEntry(t,"el"+n)})},render:function(){return o.default.createElement("div",{className:"dropdown"},o.default.createElement("a",{className:"dropdown-toggle icon "+this.props.icon,"data-toggle":"dropdown",href:"#","data-bypass":"true"}),o.default.createElement("ul",{className:"dropdown-menu arrow",role:"menu","aria-labelledby":"dLabel"},this.createSection()))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PaddedBorderedBox=void 0;var i=n(0),o=a(i);a(n(10)),t.PaddedBorderedBox=o.default.createClass({displayName:"PaddedBorderedBox",render:function(){return o.default.createElement("div",{className:"bordered-box"},o.default.createElement("div",{className:"padded-box"},this.props.children))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshBtn=t.Polling=t.resetPollCounter=t.clearPollCounter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(10),c=void a(u),f=t.clearPollCounter=function(){c&&window.clearInterval(c)},p=t.resetPollCounter=function(e,t){f(),c=window.setInterval(t,e)},h=function(e,t,n,a){var i=parseInt(e,10);if(0===i||i>n||i<a)return"off";if(i<60&&"minute"===t)return i+" seconds";var o=i;return"minute"===t&&(o=Math.floor(i/60)),o+" "+(1===o?t:t+"s")},m=t.Polling=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.startValue},n}return s(t,e),r(t,[{key:"componentDidMount",value:function(){this.setPollingCounter(this.state.value)}},{key:"componentWillUnmount",value:function(){f()}},{key:"setPollingCounter",value:function(e){var t=this.props,n=t.min,a=t.max,i=t.onPoll;if(this.setState({value:e}),0===e||e<n||e>a)return void f();p(1e3*e,function(){return i()})}},{key:"updatePollingFreq",value:function(e){this.setPollingCounter(parseInt(e.target.value,10))}},{key:"componentWillReceiveProps",value:function(e){this.props.startValue!==e.startValue&&this.setPollingCounter(e.startValue)}},{key:"render",value:function(){var e=this.props,t=e.stepSize,n=e.min,a=e.max,i=e.valueUnits,o=this.state.value,s=h(o,i,a,n),r="off"===s?"faux__polling-info-value--off":"faux__polling-info-value--active";return d.default.createElement("div",{className:"faux__polling"},d.default.createElement("div",{className:"faux__polling-info"},d.default.createElement("span",{className:"faux__polling-info-text"},"Polling Interval"),d.default.createElement("span",{className:"faux__polling-info-value faux__polling-info-value "+r},s)),d.default.createElement("input",{onChange:this.updatePollingFreq.bind(this),className:"faux__polling-info-slider",type:"range",value:o,min:n,max:a+t,step:t}))}}]),t}(d.default.Component);m.defaultProps={startValue:0,min:0,valueUnits:"minute"},m.propTypes={startValue:d.default.PropTypes.number,valueUnits:d.default.PropTypes.string,min:d.default.PropTypes.number,max:d.default.PropTypes.number.isRequired,stepSize:d.default.PropTypes.number.isRequired,onPoll:d.default.PropTypes.func.isRequired},(t.RefreshBtn=function(e){var t=e.refresh;return d.default.createElement("div",{className:"faux__refresh-btn"},d.default.createElement("a",{className:"faux__refresh-link",href:"#","data-bypass":"true",onClick:function(e){e.preventDefault(),t()}},d.default.createElement("i",{className:"faux__refresh-icon fonticon-arrows-cw"}),"Refresh"))}).propTypes={refresh:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSelect=void 0;var i=n(0),o=a(i);a(n(10)),t.StyledSelect=o.default.createClass({displayName:"StyledSelect",propTypes:{selectValue:o.default.PropTypes.string.isRequired,selectId:o.default.PropTypes.string.isRequired,selectChange:o.default.PropTypes.func.isRequired},render:function(){return o.default.createElement("div",{className:"styled-select"},o.default.createElement("label",{htmlFor:this.props.selectId},o.default.createElement("i",{className:"fonticon-down-dir styled-select-icon"}),o.default.createElement("i",{className:"fonticon-down-dir styled-select-hover-icon"}),o.default.createElement("select",{value:this.props.selectValue,id:this.props.selectId,className:this.props.selectValue,onChange:this.props.selectChange},this.props.selectContent)))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TabWindowWrapper=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),d=a(l),u=n(0),c=a(u),f=n(130);(t.TabWindowWrapper=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.selectedTab,n=e.tabs,a=n.map(function(e,n){return c.default.createElement(f.TabElement,{key:n,selected:e.name===t,text:e.name,onChange:function(){d.default.navigate(e.route,{redirect:!0})},iconClass:""})}),i=n.reduce(function(e,n){return n.name===t?n:e},{});return i.component?c.default.createElement("div",{className:"tab__wrapper"},c.default.createElement(f.TabElementWrapper,null,a),c.default.createElement("div",{className:"tab__container"},c.default.createElement(i.component,null))):null}}]),t}(c.default.Component)).propTypes={tabs:c.default.PropTypes.array.isRequired,selectedTab:c.default.PropTypes.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(423),r=a(s);n(576),r.default.initialize=function(){o.default.addHeaderLink({title:"Configuration",href:"#/_config",icon:"fonticon-cog",className:"config"})},t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(10),r=a(s),l=n(424),d=a(l),u=n(220),c=a(u),f=n(22),p=n(17),h=a(p),m=n(60),g=a(m),E=d.default.configStore,b=o.default.createClass({displayName:"ConfigTableController",getStoreState:function(){return{options:E.getOptions(),loading:E.isLoading()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){E.on("change",this.onChange,this)},componentWillUnmount:function(){E.off("change",this.onChange)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},saveOption:function(e){c.default.saveOption(this.props.node,e)},deleteOption:function(e){c.default.deleteOption(this.props.node,e)},editOption:function(e){c.default.editOption(e)},cancelEdit:function(){c.default.cancelEdit()},render:function(){return this.state.loading?o.default.createElement("div",{className:"view"},o.default.createElement(h.default.LoadLines,null)):o.default.createElement(v,{onDeleteOption:this.deleteOption,onSaveOption:this.saveOption,onEditOption:this.editOption,onCancelEdit:this.cancelEdit,options:this.state.options})}}),v=o.default.createClass({displayName:"ConfigTable",createOptions:function(){var e=this;return _.map(this.props.options,function(t){return o.default.createElement(y,{option:t,onDelete:e.props.onDeleteOption,onSave:e.props.onSaveOption,onEdit:e.props.onEditOption,onCancelEdit:e.props.onCancelEdit,key:t.sectionName+"/"+t.optionName})})},render:function(){var e=this.createOptions();return o.default.createElement("table",{className:"config table table-striped table-bordered"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{id:"config-section",width:"22%"},"Section"),o.default.createElement("th",{id:"config-option",width:"22%"},"Option"),o.default.createElement("th",{id:"config-value"},"Value"),o.default.createElement("th",{id:"config-trash"}))),o.default.createElement("tbody",null,e))}}),y=o.default.createClass({displayName:"ConfigOption",onSave:function(e){var t=this.props.option;t.value=e,this.props.onSave(t)},onDelete:function(){this.props.onDelete(this.props.option)},onEdit:function(){this.props.onEdit(this.props.option)},render:function(){return o.default.createElement("tr",{className:"config-item"},o.default.createElement("th",null,this.props.option.header&&this.props.option.sectionName),o.default.createElement("td",null,this.props.option.optionName),o.default.createElement(D,{value:this.props.option.value,editing:this.props.option.editing,onSave:this.onSave,onEdit:this.onEdit,onCancelEdit:this.props.onCancelEdit}),o.default.createElement(C,{optionName:this.props.option.optionName,sectionName:this.props.option.sectionName,onDelete:this.onDelete}))}}),D=o.default.createClass({displayName:"ConfigOptionValue",getInitialState:function(){return{value:this.props.value,editing:this.props.editing,saving:this.props.saving}},getDefaultProps:function(){return{value:"",editing:!1,saving:!1,onSave:function(){return null},onEdit:function(){return null},onCancelEdit:function(){return null}}},componentWillReceiveProps:function(e){this.props.value!==e.value&&this.setState({saving:!1})},onChange:function(e){this.setState({value:e.target.value})},onSave:function(){this.state.value!==this.props.value?(this.setState({saving:!0}),this.props.onSave(this.state.value)):this.props.onCancelEdit()},getButtons:function(){return this.state.saving?null:o.default.createElement("span",null,o.default.createElement("button",{className:"btn btn-success fonticon-ok-circled btn-small btn-config-save",onClick:this.onSave}),o.default.createElement("button",{className:"btn fonticon-cancel-circled btn-small btn-config-cancel",onClick:this.props.onCancelEdit}))},render:function(){return this.props.editing?o.default.createElement("td",null,o.default.createElement("div",{className:"config-value-form"},o.default.createElement("input",{onChange:this.onChange,defaultValue:this.props.value,disabled:this.state.saving,autoFocus:!0,type:"text",className:"config-value-input"}),this.getButtons())):o.default.createElement("td",{className:"config-show-value",onClick:this.props.onEdit},this.props.value)}}),C=o.default.createClass({displayName:"ConfigOptionTrash",getInitialState:function(){return{show:!1}},onDelete:function(){this.props.onDelete()},showModal:function(){this.setState({show:!0})},hideModal:function(){this.setState({hide:!1})},render:function(){return o.default.createElement("td",{className:"text-center config-item-trash config-delete-value",onClick:this.showModal},o.default.createElement("i",{className:"icon icon-trash"}),o.default.createElement(g.default.ConfirmationModal,{text:"Are you sure you want to delete "+this.props.sectionName+"/"+this.props.optionName+"?",onClose:this.hideModal,onSubmit:this.onDelete,visible:this.state.show}))}}),T=o.default.createClass({displayName:"AddOptionController",addOption:function(e){c.default.addOption(this.props.node,e)},render:function(){return o.default.createElement(N,{onAdd:this.addOption})}}),N=o.default.createClass({displayName:"AddOptionButton",getInitialState:function(){return{sectionName:"",optionName:"",value:"",show:!1}},isInputValid:function(){return""!==this.state.sectionName&&""!==this.state.optionName&&""!==this.state.value},updateSectionName:function(e){this.setState({sectionName:e.target.value})},updateOptionName:function(e){this.setState({optionName:e.target.value})},updateValue:function(e){this.setState({value:e.target.value})},reset:function(){this.setState(this.getInitialState())},onAdd:function(){if(this.isInputValid()){var e={sectionName:this.state.sectionName,optionName:this.state.optionName,value:this.state.value};this.setState({show:!1}),this.props.onAdd(e)}},togglePopover:function(){this.setState({show:!this.state.show})},hidePopover:function(){this.setState({show:!1})},getPopover:function(){return o.default.createElement(f.Popover,{className:"tray",id:"add-option-popover",title:"Add Option"},o.default.createElement("input",{className:"input-section-name",onChange:this.updateSectionName,type:"text",name:"section",placeholder:"Section",autocomplete:"off",autoFocus:!0}),o.default.createElement("input",{className:"input-option-name",onChange:this.updateOptionName,type:"text",name:"name",placeholder:"Name"}),o.default.createElement("input",{className:"input-value",onChange:this.updateValue,type:"text",name:"value",placeholder:"Value"}),o.default.createElement("a",{className:"btn btn-create",onClick:this.onAdd},"Create"))},render:function(){var e=this;return o.default.createElement("div",{id:"add-option-panel"},o.default.createElement(f.Button,{id:"add-option-button",onClick:this.togglePopover,ref:"target"},o.default.createElement("i",{className:"icon icon-plus header-icon"}),"Add Option"),o.default.createElement(f.Overlay,{show:this.state.show,onHide:this.hidePopover,placement:"bottom",rootClose:!0,target:function(){return r.default.findDOMNode(e.refs.target)}},this.getPopover()))}}),S=function(e){var t=e.active,n=e.link,a=e.title;return o.default.createElement("li",{className:t?"active":""},o.default.createElement("a",{href:"#"+n},a))};S.propTypes={active:o.default.PropTypes.bool.isRequired,link:o.default.PropTypes.string.isRequired,icon:o.default.PropTypes.string,title:o.default.PropTypes.string.isRequired};var I=function(e){var t=e.sidebarItems,n=e.selectedTab,a=t.map(function(e){return o.default.createElement(S,{key:e.title,active:n===e.title,title:e.title,link:e.link})});return o.default.createElement("nav",{className:"sidenav"},o.default.createElement("ul",{className:"nav nav-list"},a))};t.default={Tabs:I,ConfigTableController:b,ConfigTable:v,ConfigOption:y,ConfigOptionValue:D,ConfigOptionTrash:C,AddOptionController:T,AddOptionButton:N}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigLayout=t.ConfigHeader=void 0;var i=n(0),o=a(i),s=n(421),r=a(s),l=n(426),d=a(l),u=n(95),c=n(78),f=n(29),p=t.ConfigHeader=function(e){var t=e.node,n=e.crumbs,a=e.docURL,i=e.endpoint;return o.default.createElement("header",{className:"two-panel-header"},o.default.createElement("div",{className:"flex-layout flex-row"},o.default.createElement("div",{id:"breadcrumbs",className:"faux__config-breadcrumbs"},o.default.createElement(u.Breadcrumbs,{crumbs:n})),o.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},o.default.createElement("div",{id:"react-headerbar",className:"flex-body"}," "),o.default.createElement("div",{id:"right-header",className:"flex-fill"},o.default.createElement(r.default.AddOptionController,{node:t})),o.default.createElement(f.ApiBarWrapper,{docURL:a,endpoint:i}),o.default.createElement("div",{id:"notification-center-btn",className:"flex-fill"},o.default.createElement(c.NotificationCenterButton,null)))))},h=t.ConfigLayout=function(e){var t=e.showCors,n=e.docURL,a=e.node,i=e.endpoint,s=e.crumbs,l=[{title:"Main config",link:"_config/"+a},{title:"CORS",link:"_config/"+a+"/cors"}],u=t?"CORS":"Main config",c=t?o.default.createElement(d.default.CORSController,null):o.default.createElement(r.default.ConfigTableController,{node:a});return o.default.createElement("div",{id:"dashboard",className:"with-sidebar"},o.default.createElement(p,{docURL:n,endpoint:i,node:a,crumbs:s}),o.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},o.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},o.default.createElement(r.default.Tabs,{sidebarItems:l,selectedTab:u})),o.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},o.default.createElement("div",{id:"dashboard-upper-content"}),o.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},c),o.default.createElement("div",{id:"footer"}))))};t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(222),d=a(l),u=n(223),c=a(u),f=n(128),p=a(f),h=n(220),m=a(h),g=n(422),_=a(g),E=r.default.RouteObject.extend({routes:{_config:"checkNodes"},crumbs:[{name:"Config disabled"}],checkNodes:function(){p.default.navigateToNodeBasedOnNodeCount("/_config/")}}),b=r.default.RouteObject.extend({roles:["_admin"],selectedHeader:"Configuration",apiUrl:function(){return[this.configs.url(),this.configs.documentation]},routes:{"_config/:node":"configForNode","_config/:node/cors":"configCorsForNode"},initialize:function(e,t){var n=t[0];this.configs=new d.default.ConfigModel({node:n})},configForNode:function(e){return m.default.fetchAndEditConfig(e),o.default.createElement(_.default,{node:e,docURL:this.configs.documentation,endpoint:this.configs.url(),crumbs:[{name:"Config"}],showCors:!1})},configCorsForNode:function(e){return c.default.fetchAndEditCors(e),o.default.createElement(_.default,{node:e,docURL:this.configs.documentation,endpoint:this.configs.url(),crumbs:[{name:"Config"}],showCors:!0})}});d.default.RouteObjects=[b,E],t.default=d.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(221),r=a(s),l=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._sections={},this._loading=!0,this._editSectionName=null,this._editOptionName=null},editConfig:function(e){this._sections=e,this._loading=!1,this._editSectionName=null,this._editOptionName=null},getOptions:function(){var e=_.sortBy(_.map(this._sections,function(e,t){return{sectionName:t,options:this.mapSection(e,t)}}.bind(this)),function(e){return e.sectionName});return _.flatten(_.map(e,function(e){return e.options}))},mapSection:function(e,t){var n=this,a=_.sortBy(_.map(e,function(e,a){return{editing:n.isEditing(t,a),sectionName:t,optionName:a,value:e}}),function(e){return e.optionName});return a[0].header=!0,a},editOption:function(e,t){this._editSectionName=e,this._editOptionName=t},isEditing:function(e,t){return e==this._editSectionName&&t==this._editOptionName},stopEditing:function(){this._editOptionName=null,this._editSectionName=null},setLoading:function(){this._loading=!0},isLoading:function(){return this._loading},saveOption:function(e,t,n){this._sections[e]||(this._sections[e]={}),this._sections[e][t]=n||!0},deleteOption:function(e,t){this._sections[e]&&(delete this._sections[e][t],0==Object.keys(this._sections[e]).length&&delete this._sections[e])},dispatch:function(e){if(e.options)var t=e.options.sectionName,n=e.options.optionName,a=e.options.value;switch(e.type){case r.default.EDIT_CONFIG:this.editConfig(e.options.sections,e.options.node);break;case r.default.LOADING_CONFIG:this.setLoading();break;case r.default.EDIT_OPTION:this.editOption(t,n);break;case r.default.CANCEL_EDIT:this.stopEditing();break;case r.default.OPTION_SAVE_SUCCESS:this.saveOption(t,n,a),this.stopEditing();break;case r.default.OPTION_ADD_SUCCESS:this.saveOption(t,n,a);break;case r.default.OPTION_DELETE_SUCCESS:this.deleteOption(t,n)}this.triggerChange()}}),d=new l;d.dispatchToken=o.default.dispatcher.register(d.dispatch.bind(d)),t.default={configStore:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i);n(577);var s=o.default.addon();s.initialize=function(){},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(427),c=a(u),f=n(225),p=a(f),h=n(223),m=a(h),g=n(17),E=a(g),b=n(60),v=a(b),y=E.default.LoadLines,D=v.default.ConfirmationModal,C=c.default.corsStore,T=function(e){return!!p.default.validateCORSDomain(e)||(r.default.addNotification({msg:"Please enter a valid domain, starting with http/https.",type:"error",clear:!0}),!1)},N=d.default.createClass({displayName:"OriginRow",getInitialState:function(){return{edit:!1,updatedOrigin:this.props.origin}},editOrigin:function(e){e.preventDefault(),this.setState({edit:!this.state.edit})},updateOrigin:function(e){e.preventDefault(),T(this.state.updatedOrigin)&&(this.props.updateOrigin(this.state.updatedOrigin,this.props.origin),this.setState({edit:!1}))},deleteOrigin:function(e){e.preventDefault(),m.default.showDeleteDomainModal(this.props.origin)},onInputChange:function(e){this.setState({updatedOrigin:e.target.value})},onKeyUp:function(e){if(13===e.keyCode)return this.updateOrigin(e)},createOriginDisplay:function(){return this.state.edit?d.default.createElement("div",{className:"input-append edit-domain-section"},d.default.createElement("input",{type:"text",name:"update_origin_domain",onChange:this.onInputChange,onKeyUp:this.onKeyUp,value:this.state.updatedOrigin}),d.default.createElement("button",{onClick:this.updateOrigin,className:"btn btn-primary update-origin"}," Update ")):d.default.createElement("div",{className:"js-url url-display"},this.props.origin)},render:function(){var e=this.createOriginDisplay();return d.default.createElement("tr",null,d.default.createElement("td",null,e),d.default.createElement("td",{width:"30"},d.default.createElement("span",null,d.default.createElement("a",{className:"fonticon-pencil",onClick:this.editOrigin,title:"Click to edit"}))),d.default.createElement("td",{width:"30"},d.default.createElement("span",null,d.default.createElement("a",{href:"#","data-bypass":"true",className:"fonticon-trash",onClick:this.deleteOrigin,title:"Click to delete"}))))}}),S=d.default.createClass({displayName:"OriginTable",createRows:function(){return _.map(this.props.origins,function(e,t){return d.default.createElement(N,{updateOrigin:this.props.updateOrigin,key:t,origin:e})},this)},render:function(){if(!this.props.origins)return null;if(!this.props.isVisible||0===this.props.origins.length)return null;var e=this.createRows();return d.default.createElement("table",{id:"origin-domain-table",className:"table table-striped"},d.default.createElement("tbody",null,e))}}),I=d.default.createClass({displayName:"OriginInput",getInitialState:function(){return{origin:""}},onInputChange:function(e){this.setState({origin:e.target.value})},addOrigin:function(e){if(e.preventDefault(),T(this.state.origin)){var t=p.default.normalizeUrls(this.state.origin);this.props.addOrigin(t),this.setState({origin:""})}},onKeyUp:function(e){if(13==e.keyCode)return this.addOrigin(e)},render:function(){return this.props.isVisible?d.default.createElement("div",{id:"origin-domains-container"},d.default.createElement("div",{className:"origin-domains"},d.default.createElement("div",{className:"input-append"},d.default.createElement("input",{type:"text",name:"new_origin_domain",onChange:this.onInputChange,onKeyUp:this.onKeyUp,value:this.state.origin,placeholder:"https://example.com"}),d.default.createElement("button",{onClick:this.addOrigin,className:"btn btn-secondary add-domain"},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," Add Domain")))):null}}),w=d.default.createClass({displayName:"Origins",onOriginChange:function(e){"all"===e.target.value&&this.props.isAllOrigins||("selected"!==e.target.value||this.props.isAllOrigins)&&this.props.originChange("all"===e.target.value)},render:function(){return this.props.corsEnabled?d.default.createElement("div",null,d.default.createElement("p",null,d.default.createElement("strong",null," Origin Domains ")," "),d.default.createElement("p",null,"Databases will accept requests from these domains: "),d.default.createElement("label",{className:"radio"},d.default.createElement("input",{type:"radio",checked:this.props.isAllOrigins,value:"all",onChange:this.onOriginChange,name:"all-domains"})," All domains ( * )"),d.default.createElement("label",{className:"radio"},d.default.createElement("input",{type:"radio",checked:!this.props.isAllOrigins,value:"selected",onChange:this.onOriginChange,name:"selected-domains"})," Restrict to specific domains")):null}}),O=d.default.createClass({displayName:"CORSController",getStoreState:function(){return{corsEnabled:C.isEnabled(),origins:C.getOrigins(),isAllOrigins:C.isAllOrigins(),configChanged:C.hasConfigChanged(),shouldSaveChange:C.shouldSaveChange(),node:C.getNode(),isLoading:C.getIsLoading(),deleteDomainModalVisible:C.isDeleteDomainModalVisible(),domainToDelete:C.getDomainToDelete()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){C.on("change",this.onChange,this)},componentWillUnmount:function(){C.off("change",this.onChange)},componentDidUpdate:function(){this.state.shouldSaveChange&&this.save()},onChange:function(){this.setState(this.getStoreState())},enableCorsChange:function(){(!this.state.corsEnabled||_.isEmpty(this.state.origins)||window.confirm(o.default.i18n.en_US["cors-disable-cors-prompt"]))&&m.default.toggleEnableCors()},save:function(){m.default.saveCors({enableCors:this.state.corsEnabled,origins:this.state.origins,node:this.state.node})},originChange:function(e){(!e||_.isEmpty(this.state.origins)||window.confirm("Are you sure? Switching to all origin domains will overwrite your specific origin domains."))&&m.default.originChange(e)},addOrigin:function(e){m.default.addOrigin(e)},updateOrigin:function(e,t){m.default.updateOrigin(e,t)},methodChange:function(e){m.default.methodChange(e)},deleteOrigin:function(){m.default.deleteOrigin(this.state.domainToDelete)},render:function(){var e=_.all([this.state.corsEnabled,!this.state.isAllOrigins]),t=d.default.createElement("div",{id:this.state.corsEnabled?"collapsing-container":""},d.default.createElement(w,{corsEnabled:this.state.corsEnabled,originChange:this.originChange,isAllOrigins:this.state.isAllOrigins}),d.default.createElement(S,{updateOrigin:this.updateOrigin,isVisible:e,origins:this.state.origins}),d.default.createElement(I,{addOrigin:this.addOrigin,isVisible:e}));this.state.isLoading&&(t=d.default.createElement(y,null));var n=d.default.createElement("span",null,"Are you sure you want to delete ",d.default.createElement("code",null,_.escape(this.state.domainToDelete)),"?");return d.default.createElement("div",{className:"cors-page flex-body"},d.default.createElement("header",{id:"cors-header"},d.default.createElement("p",null,o.default.i18n.en_US["cors-notice"])),d.default.createElement("form",{id:"corsForm",onSubmit:this.save},d.default.createElement("div",{className:"cors-enable"},this.state.corsEnabled?"Cors is currently enabled.":"Cors is currently disabled.",d.default.createElement("br",null),d.default.createElement("button",{type:"button",className:"enable-disable btn btn-secondary",onClick:this.enableCorsChange,disabled:this.state.isLoading?"disabled":null},this.state.corsEnabled?"Disable CORS":"Enable CORS")),t),d.default.createElement(D,{title:"Confirm Deletion",visible:this.state.deleteDomainModalVisible,text:n,buttonClass:"btn-danger",onClose:m.default.hideDeleteDomainModal,onSubmit:this.deleteOrigin,successButtonLabel:"Delete Domain"}))}});t.default={CORSController:O,OriginInput:I,Origins:w,OriginTable:S,OriginRow:N}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(224),r=a(s),l=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._deleteDomainModalVisible=!1,this._domainToDelete=""},editCors:function(e){this._isEnabled=e.isEnabled,this._origins=e.origins,this._configChanged=!1,this._shouldSaveChange=!1,this._node=e.node,this._isLoading=!1},shouldSaveChange:function(){return this._shouldSaveChange},hasConfigChanged:function(){return this._configChanged},setConfigChanged:function(){this._configChanged=!0},setConfigSaved:function(){this._configChanged=!1},setIsLoading:function(e){this._isLoading=e,this._shouldSaveChange=!1},getIsLoading:function(){return this._isLoading},isEnabled:function(){return this._isEnabled},addOrigin:function(e){this._origins.push(e)},deleteOrigin:function(e){var t=_.indexOf(this._origins,e);-1!==t&&this._origins.splice(t,1)},originChange:function(e){if(e)return void(this._origins=["*"]);this._origins=[]},getOrigins:function(){return this._origins},getNode:function(){return this._node},isAllOrigins:function(){var e=this.getOrigins();return _.include(e,"*")},toggleEnableCors:function(){this._isEnabled=!this._isEnabled},updateOrigin:function(e,t){this.deleteOrigin(t),this.addOrigin(e)},showDeleteDomainModal:function(e){this._domainToDelete=e,this._deleteDomainModalVisible=!0,this._shouldSaveChange=!1},hideDeleteDomainModal:function(){this._deleteDomainModalVisible=!1,this._shouldSaveChange=!1},isDeleteDomainModalVisible:function(){return this._deleteDomainModalVisible},getDomainToDelete:function(){return this._domainToDelete},dispatch:function(e){switch(this._shouldSaveChange=!0,e.type){case r.default.EDIT_CORS:this.editCors(e.options);break;case r.default.TOGGLE_ENABLE_CORS:this.toggleEnableCors(),this.setConfigChanged();break;case r.default.CORS_ADD_ORIGIN:this.addOrigin(e.origin),this.setConfigChanged();break;case r.default.CORS_IS_ALL_ORIGINS:this.originChange(e.isAllOrigins),this.setConfigChanged();break;case r.default.CORS_DELETE_ORIGIN:this.deleteOrigin(e.origin),this.setConfigChanged();break;case r.default.CORS_UPDATE_ORIGIN:this.updateOrigin(e.updatedOrigin,e.originalOrigin),this.setConfigChanged();break;case r.default.CORS_SET_IS_LOADING:this.setIsLoading(e.isLoading);break;case r.default.CORS_SHOW_DELETE_DOMAIN_MODAL:this.showDeleteDomainModal(e.options.domain);break;case r.default.CORS_HIDE_DELETE_DOMAIN_MODAL:this.hideDeleteDomainModal();break;default:return}this.triggerChange()}}),d=new l;d.dispatchToken=o.default.dispatcher.register(d.dispatch.bind(d)),t.default={corsStore:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(0),r=a(s),l=n(10),d=a(l),u=n(17),c=a(u),f=n(131),p=a(f),h=n(50),m=a(h),g=n(60),E=a(g),b=n(228),v=a(b),y=n(226),D=a(y),C=n(41),T=a(C),N=n(22),S=v.default.databasesStore,I=p.default.deleteDbModalStore,w=c.default.DeleteDatabaseModal,O=c.default.ToggleHeaderButton,A=c.default.TrayContents,R=r.default.createClass({displayName:"DatabasesController",getStoreState:function(){return{dbList:S.getDbList(),loading:S.isLoading(),showDeleteDatabaseModal:I.getShowDeleteDatabaseModal()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){S.on("change",this.onChange,this),I.on("change",this.onChange,this)},componentWillUnmount:function(){S.off("change",this.onChange,this),I.off("change",this.onChange,this)},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},render:function(){var e=this.state,t=e.loading,n=e.dbList;return r.default.createElement(P,{showDeleteDatabaseModal:this.state.showDeleteDatabaseModal,dbList:n,loading:t})}}),P=r.default.createClass({displayName:"DatabaseTable",propTypes:{dbList:r.default.PropTypes.array.isRequired,showDeleteDatabaseModal:r.default.PropTypes.object.isRequired,loading:r.default.PropTypes.bool.isRequired},createRows:function(e){return e.map(function(e,t){return r.default.createElement(L,{item:e,key:t})})},getExtensionColumns:function(){var e=o.default.getExtensions("DatabaseTable:head");return _.map(e,function(e,t){return r.default.createElement(e,{key:t})})},showDeleteDatabaseModal:function(){m.default.showDeleteDatabaseModal({showDeleteModal:!this.props.showDeleteDatabaseModal.showDeleteModal})},render:function(){if(this.props.loading)return r.default.createElement("div",{className:"view"},r.default.createElement(c.default.LoadLines,null));var e=this.createRows(this.props.dbList);return r.default.createElement("div",{className:"view"},r.default.createElement(w,{showHide:this.showDeleteDatabaseModal,modalProps:this.props.showDeleteDatabaseModal}),r.default.createElement("table",{className:"table table-striped fauxton-table-list databases"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",null,"Name"),r.default.createElement("th",null,"Size"),r.default.createElement("th",null,"# of Docs"),this.getExtensionColumns(),r.default.createElement("th",null,"Actions"))),r.default.createElement("tbody",null,e)))}}),L=r.default.createClass({displayName:"DatabaseRow",propTypes:{row:r.default.PropTypes.object},getExtensionColumns:function(e){var t=o.default.getExtensions("DatabaseTable:databaseRow");return _.map(t,function(t,n){return r.default.createElement(t,{row:e,key:n})})},showDeleteDatabaseModal:function(e){m.default.showDeleteDatabaseModal({showDeleteModal:!0,dbId:e})},render:function(){var e=this.props.item,t=e.encodedId,n=e.id,a=e.url,i=e.dataSize,o=e.docCount,s=e.docDelCount,l=e.showTombstoneWarning,d=e.failed,u=l?r.default.createElement(M,{docCount:o,docDelCount:s}):null;return d?r.default.createElement("tr",null,r.default.createElement("td",{"data-name":"database-load-fail-name"},n),r.default.createElement("td",{colSpan:"4",className:"database-load-fail"},"This database failed to load.")):r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("a",{href:a},n)),r.default.createElement("td",null,i),r.default.createElement("td",null,o," ",u),this.getExtensionColumns(e),r.default.createElement("td",{className:"database-actions"},r.default.createElement("a",{className:"db-actions btn fonticon-replicate set-replication-start",title:"Replicate "+name,href:"#/replication/_create/"+t}),r.default.createElement("a",{className:"db-actions btn icon-lock set-permissions",title:"Set permissions for "+name,href:"#/database/"+t+"/permissions"}),r.default.createElement("a",{className:"db-actions btn icon-trash",onClick:this.showDeleteDatabaseModal.bind(this,n,t),title:"Delete "+n,"data-bypass":"true"})))}}),M=function(e){var t=e.docCount,n=e.docDelCount,a="This database has just "+t+" docs and "+n+" deleted docs",i=r.default.createElement(N.Tooltip,{id:"graveyard-tooltip"},a);return r.default.createElement(N.OverlayTrigger,{placement:"top",overlay:i},r.default.createElement("i",{className:"js-db-graveyard icon icon-exclamation-sign",title:a}))},k=function(){return r.default.createElement("div",{className:"header-right right-db-header flex-layout flex-row"},r.default.createElement(U,{loadOptions:D.default.fetchAllDbsWithKey}),r.default.createElement(x,null))},x=r.default.createClass({displayName:"AddDatabaseWidget",onTrayToggle:function(){this.setState({isPromptVisible:!this.state.isPromptVisible})},closeTray:function(){this.setState({isPromptVisible:!1})},focusInput:function(){d.default.findDOMNode(this.refs.newDbName).focus()},onKeyUpInInput:function(e){13===e.which&&this.onAddDatabase()},getInitialState:function(){return{isPromptVisible:!1,databaseName:""}},onChange:function(e){this.setState({databaseName:e.target.value})},onAddDatabase:function(){D.default.createNewDatabase(this.state.databaseName)},render:function(){return r.default.createElement("div",null,r.default.createElement(O,{selected:this.state.isPromptVisible,toggleCallback:this.onTrayToggle,containerClasses:"header-control-box add-new-database-btn",title:"Create Database",fonticon:"fonticon-new-database",text:"Create Database"}),r.default.createElement(A,{className:"new-database-tray",contentVisible:this.state.isPromptVisible,closeTray:this.closeTray,onEnter:this.focusInput},r.default.createElement("span",{className:"add-on"},"Create Database"),r.default.createElement("input",{id:"js-new-database-name",ref:"newDbName",type:"text",value:this.state.databaseName,onChange:this.onChange,onKeyUp:this.onKeyUpInInput,className:"input-xxlarge",placeholder:"Name of database"}),r.default.createElement("a",{className:"btn",id:"js-create-database",onClick:this.onAddDatabase},"Create")))}}),U=function(e){var t=e.loadOptions;return r.default.createElement("div",{"data-name":"jump-to-db",className:"faux-header__searchboxwrapper"},r.default.createElement("div",{className:"faux-header__searchboxcontainer"},r.default.createElement(T.default.Async,{placeholder:"Database name",loadOptions:t,clearable:!1,onChange:function(e){var t=e.value;D.default.jumpToDatabase(t)}})))};U.propTypes={loadOptions:r.default.PropTypes.func.isRequired};var B=r.default.createClass({displayName:"DatabasePagination",getDefaultProps:function(){return{linkPath:"_all_dbs",store:S}},getStoreState:function(){var e=this.props.store;return{totalAmountOfDatabases:e.getTotalAmountOfDatabases(),page:e.getPage()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){this.props.store.on("change",this.onChange,this)},componentWillUnmount:function(){this.props.store.off("change",this.onChange,this)},onChange:function(){this.setState(this.getStoreState())},render:function(){var e=this.state,t=e.page,n=e.totalAmountOfDatabases,a="#/"+this.props.linkPath+"?page=",i=1+(t-1)*o.default.constants.MISC.DEFAULT_PAGE_SIZE,s=Math.min(n,t*o.default.constants.MISC.DEFAULT_PAGE_SIZE);return r.default.createElement("footer",{className:"all-db-footer pagination-footer"},r.default.createElement("div",{id:"database-pagination"},r.default.createElement(E.default.Pagination,{page:t,total:n,urlPrefix:a})),r.default.createElement("div",{className:"current-databases"},"Showing ",r.default.createElement("span",{className:"all-db-footer__range"},i,"–",s)," of ",r.default.createElement("span",{className:"all-db-footer__total-db-count"},n)," databases."))}});t.default={DatabasesController:R,DatabaseTable:P,DatabaseRow:L,RightDatabasesHeader:k,GraveyardInfo:M,AddDatabaseWidget:x,JumpToDatabaseWidget:U,DatabasePagination:B}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var i=n(0),o=a(i),s=n(1),r=a(s),l=n(29),d=n(428),u=a(d),c=u.default.RightDatabasesHeader,f=u.default.DatabasesController,p=u.default.DatabasePagination,h=t.Layout=function(){return o.default.createElement(l.OnePane,null,o.default.createElement(l.OnePaneHeader,{crumbs:[{name:"Databases"}],endpoint:r.default.urls("allDBs","apiurl"),docUrl:r.default.constants.DOC_URLS.ALL_DBS},o.default.createElement(c,null)),o.default.createElement(l.OnePaneContent,null,o.default.createElement(f,null)),o.default.createElement(l.OnePaneFooter,null,o.default.createElement(p,null)))};t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(226),d=a(l),u=n(77),c=a(u),f=n(429),p=a(f),h=r.default.RouteObject.extend({hideApiBar:!0,hideNotificationCenter:!0,routes:{"":"allDatabases","index.html":"allDatabases","_all_dbs(:params)":"allDatabases"},roles:["fx_loggedIn"],selectedHeader:"Databases",allDatabases:function(){return d.default.init(),o.default.createElement(p.default,null)}});c.default.RouteObjects=[h],t.default=c.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(433),r=a(s);n(579),r.default.initialize=function(){o.default.addHeaderLink({id:"Documentation",title:"Documentation",icon:"fonticon-bookmark",href:"#/documentation",bottomNav:!0,top:!0})},t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=[{title:"CouchDB Official Documentation — Online",link:"http://docs.couchdb.org/en/latest/",iconClassName:"couchdb-icon"},{title:"CouchDB Official Documentation — Offline",link:"/_utils/docs/contents.html",iconClassName:"couchdb-icon"},{title:"CouchDB Weekly News",link:"http://blog.couchdb.org/",iconClassName:"couchdb-icon"},{title:"CouchDB Homepage",link:"https://couchdb.apache.org/",iconClassName:"couchdb-icon"},{title:"CouchDB on GitHub",link:"https://github.com/apache/couchdb",iconClassName:"github-icon"},{title:"Fauxton on GitHub",link:"https://github.com/apache/couchdb-fauxton",iconClassName:"github-icon"},{title:"Fauxton Visual Guide",link:"https://couchdb.apache.org/fauxton-visual-guide/index.html",iconClassName:"couchdb-icon"},{title:"The Apache Software Foundation",link:"http://www.apache.org/",iconClassName:"asf-feather-icon"},{title:"Follow CouchDB on Twitter",link:"https://twitter.com/couchdb",iconClassName:"twitter-icon"},{title:"Follow CouchDB on Google Plus",link:"https://plus.google.com/+CouchDB",iconClassName:"google-plus-icon"},{title:"Follow CouchDB on LinkedIn",link:"https://www.linkedin.com/company/apache-couchdb",iconClassName:"linkedin-icon"}],r=function(e){function t(e){return e.map(function(e){return o.default.createElement("tr",{key:e.title},o.default.createElement("td",{className:"icons-container"},o.default.createElement("div",{className:"icon "+e.iconClassName}," ")),o.default.createElement("td",null,o.default.createElement("a",{href:e.link,target:"_blank","data-bypass":"true"},e.title)))})}var n=e.links,a=void 0===n?s:n;return o.default.createElement("div",{id:"documentation-page",className:"scrollable"},o.default.createElement("div",{className:"links"},o.default.createElement("table",null,o.default.createElement("tbody",null,t(a)))))};t.default={DocumentationPage:r}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(432),d=a(l),u=n(29),c=r.default.RouteObject.extend({selectedHeader:"Documentation",hideApiBar:!0,hideNotificationCenter:!0,routes:{documentation:"documentation"},roles:["fx_loggedIn"],documentation:function(){return o.default.createElement(u.OnePaneSimpleLayout,{component:o.default.createElement(d.default.DocumentationPage,null),crumbs:[{name:"Documentation"}]})}});c.RouteObjects=[c],t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return e||(e=""),e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),s=a(o),r=n(1),l=a(r),d=n(455),u=a(d);n(580),l.default.registerUrls("allDocs",{server:function(e,t){return s.default.host+"/"+e+"/_all_docs"+i(t)},app:function(e,t){return"database/"+e+"/_all_docs"+i(t)},apiurl:function(e,t){return window.location.origin+"/"+e+"/_all_docs"+i(t)}}),l.default.registerUrls("allDocsSanitized",{server:function(e,t){return e=encodeURIComponent(e),s.default.host+"/"+e+"/_all_docs"+i(t)},app:function(e,t){return"database/"+(e=encodeURIComponent(e))+"/_all_docs"+i(t)},apiurl:function(e,t){return e=encodeURIComponent(e),window.location.origin+"/"+e+"/_all_docs"+i(t)}}),l.default.registerUrls("bulk_docs",{server:function(e,t){return s.default.host+"/"+e+"/_bulk_docs"+i(t)},app:function(e,t){return"database/"+e+"/_bulk_docs"+i(t)},apiurl:function(e,t){return window.location.origin+"/"+e+"/_bulk_docs"+i(t)}}),l.default.registerUrls("revision-browser",{app:function(e,t){return"database/"+e+"/"+t+"/conflicts"}}),l.default.registerUrls("designDocs",{server:function(e,t){return s.default.host+"/"+e+"/"+t+"/_info"},app:function(e,t){return"database/"+e+"/_design/"+s.default.utils.safeURLName(t)+"/_info"},apiurl:function(e,t){return window.location.origin+"/"+e+"/"+t+"/_info"}}),l.default.registerUrls("view",{server:function(e,t,n){return s.default.host+"/"+e+"/_design/"+t+"/_view/"+n},app:function(e,t){return"database/"+e+"/_design/"+t+"/_view/"},apiurl:function(e,t,n){return window.location.origin+"/"+e+"/_design/"+t+"/_view/"+n},edit:function(e,t,n){return"database/"+e+"/_design/"+t+"/_view/"+n+"/edit"},showView:function(e,t,n){return"/database/"+e+"/"+t+"/_view/"+n},fragment:function(e,t,n){return"database/"+e+t+"/_view/"+n}}),l.default.registerUrls("document",{server:function(e,t,n){return _.isUndefined(n)&&(n=""),s.default.host+"/"+e+"/"+t+n},attachment:function(e,t,n,a){return _.isUndefined(a)&&(a=""),s.default.host+"/"+e+"/"+t+"/"+n+a},app:function(e,t){return"/database/"+e+"/"+t},apiurl:function(e,t){return t?window.location.origin+"/"+e+"/"+t:window.location.origin+"/"+e},"web-index":function(e,t){return"/database/"+e+"/"+t}}),l.default.registerUrls("new",{newDocument:function(e){return"/database/"+e+"/new"},newView:function(e){return"/database/"+e+"/new_view"},addView:function(e,t){return"/database/"+e+"/new_view/"+t}}),l.default.registerUrls("base",{server:function(e){return s.default.host+"/"+e+"/"},app:function(e){return"/database/"+e+"/"}}),l.default.registerUrls("mango",{"index-server":function(e,t){return t||(t=""),s.default.host+"/"+e+"/_index"+t},"index-apiurl":function(e,t){return t||(t=""),window.location.origin+"/"+e+"/_index"+t},"index-app":function(e,t){return t||(t=""),"database/"+e+"/_index"+t},"query-server":function(e,t){return t||(t=""),s.default.host+"/"+e+"/_find"+t},"query-apiurl":function(e,t){return t||(t=""),window.location.origin+"/"+e+"/_find"+t},"query-app":function(e,t){return t||(t=""),"database/"+e+"/_find"+t}}),t.default=u.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),d=a(l),u=n(0),c=a(u),f=n(10),p=a(f),h=n(229),m=a(h),g=n(231),E=a(g),b=n(60),v=a(b),y=n(17),D=a(y),C=n(322),T=a(C);n(100);var N=n(94),S=a(N),I=E.default.changesStore,w=D.default.BadgeList,O=D.default.Copy,A=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return s(t,e),r(t,[{key:"getStoreState",value:function(){return{changes:I.getChanges(),loaded:I.isLoaded(),databaseName:I.getDatabaseName(),isShowingSubset:I.isShowingSubset()}}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"componentDidMount",value:function(){I.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){I.off("change",this.onChange)}},{key:"showingSubsetMsg",value:function(){var e=this.state,t=e.isShowingSubset,n=e.changes,a="";if(t){var i=n.length;a=c.default.createElement("p",{className:"changes-result-limit"},"Limiting results to latest ",c.default.createElement("b",null,i)," changes.")}return a}},{key:"getRows",value:function(){var e=this.state,t=e.changes,n=e.loaded,a=e.databaseName;return!t.length&&n?c.default.createElement("p",{className:"no-doc-changes"},"There are no document changes to display."):t.map(function(e,t){return c.default.createElement(M,{change:e,key:t,databaseName:a})})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("div",{className:"js-changes-view"},this.showingSubsetMsg(),this.getRows()))}}]),t}(c.default.Component),R=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return s(t,e),r(t,[{key:"getStoreState",value:function(){return{filters:I.getFilters()}}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"componentDidMount",value:function(){I.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){I.off("change",this.onChange)}},{key:"addFilter",value:function(e){_.isEmpty(e)||m.default.addFilter(e)}},{key:"hasFilter",value:function(e){return I.hasFilter(e)}},{key:"render",value:function(){return c.default.createElement("div",{className:"changes-header"},c.default.createElement(P,{tooltip:this.props.tooltip,filter:function(e){return m.default.removeFilter(e)},addFilter:this.addFilter,hasFilter:this.hasFilter}),c.default.createElement(w,{elements:this.state.filters,removeBadge:function(e){return m.default.removeFilter(e)}}))}}]),t}(c.default.Component),P=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filter:"",error:!1},n.submitForm=n.submitForm.bind(n),n}return s(t,e),r(t,[{key:"submitForm",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.props.hasFilter(this.state.filter)){this.setState({error:!0});var t=this;setTimeout(function(){t.setState({error:!1})},1e3)}else this.props.addFilter(this.state.filter),this.setState({filter:"",error:!1})}},{key:"componentDidMount",value:function(){this.focusFilterField()}},{key:"componentDidUpdate",value:function(){this.focusFilterField()}},{key:"focusFilterField",value:function(){p.default.findDOMNode(this.refs.addItem).focus()}},{key:"inputClassNames",value:function(){var e="js-changes-filter-field";return this.state.error&&(e+=" errorHighlight"),e}},{key:"render",value:function(){var e=this;return c.default.createElement("form",{className:"form-inline js-filter-form",onSubmit:this.submitForm},c.default.createElement("fieldset",null,c.default.createElement("i",{className:"fonticon-filter"}),c.default.createElement("input",{type:"text",ref:"addItem",className:this.inputClassNames(),placeholder:"Sequence or ID",onChange:function(t){return e.setState({filter:t.target.value})},value:this.state.filter}),c.default.createElement("button",{type:"submit",className:"btn btn-info"},"Filter"),c.default.createElement("div",{className:"help-block"},c.default.createElement(L,{tooltip:this.props.tooltip}))))}}]),t}(c.default.Component);P.PropTypes={addFilter:c.default.PropTypes.func.isRequired,hasFilter:c.default.PropTypes.func.isRequired,tooltips:c.default.PropTypes.string},P.defaultProps={tooltip:""};var L=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.tooltip&&$(p.default.findDOMNode(this.refs.tooltip)).tooltip()}},{key:"render",value:function(){return this.props.tooltip?c.default.createElement("i",{ref:"tooltip",className:"icon icon-question-sign js-filter-tooltip","data-toggle":"tooltip","data-original-title":this.props.tooltip}):null}}]),t}(c.default.Component),M=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={codeVisible:!1},n}return s(t,e),r(t,[{key:"toggleJSON",value:function(e){e.preventDefault(),this.setState({codeVisible:!this.state.codeVisible})}},{key:"getChangesCode",value:function(){return this.state.codeVisible?c.default.createElement(v.default.CodeFormat,{key:"changesCodeSection",code:this.getChangeCode()}):null}},{key:"getChangeCode",value:function(){return{changes:this.props.change.changes,doc:this.props.change.doc}}},{key:"showCopiedMessage",value:function(e){var t="The document ID has been copied to your clipboard.";"seq"===e&&(t="The document seq number has been copied to your clipboard."),d.default.addNotification({msg:t,type:"info",clear:!0})}},{key:"render",value:function(){var e=this,t=this.state.codeVisible,n=this.props,a=n.change,i=n.databaseName,o="btn btn-small"+(t?" btn-secondary":" btn-info"),s="change-wrapper"+(a.isNew?" new-change-row":"");return c.default.createElement("div",{className:s},c.default.createElement("div",{className:"change-box","data-id":a.id},c.default.createElement("div",{className:"row-fluid"},c.default.createElement("div",{className:"span2"},"seq"),c.default.createElement("div",{className:"span8 change-sequence"},a.seq),c.default.createElement("div",{className:"span2 text-right"},c.default.createElement(O,{uniqueKey:S.default.v4(),text:a.seq.toString(),onClipboardClick:function(){return e.showCopiedMessage("seq")}}))),c.default.createElement("div",{className:"row-fluid"},c.default.createElement("div",{className:"span2"},"id"),c.default.createElement("div",{className:"span8"},c.default.createElement(k,{id:a.id,deleted:a.deleted,databaseName:i})),c.default.createElement("div",{className:"span2 text-right"},c.default.createElement(O,{uniqueKey:S.default.v4(),text:a.id,onClipboardClick:function(){return e.showCopiedMessage("id")}}))),c.default.createElement("div",{className:"row-fluid"},c.default.createElement("div",{className:"span2"},"changes"),c.default.createElement("div",{className:"span10"},c.default.createElement("button",{type:"button",className:o,onClick:this.toggleJSON.bind(this)},t?"Close JSON":"View JSON"))),c.default.createElement(T.default,{transitionName:"toggle-changes-code",component:"div",className:"changesCodeSectionWrapper",transitionEnterTimeout:500,transitionLeaveTimeout:300},this.getChangesCode()),c.default.createElement("div",{className:"row-fluid"},c.default.createElement("div",{className:"span2"},"deleted"),c.default.createElement("div",{className:"span10"},a.deleted?"True":"False"))))}}]),t}(c.default.Component);M.PropTypes={change:c.default.PropTypes.object,databaseName:c.default.PropTypes.string.isRequired};var k=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.deleted,n=e.id,a=e.databaseName;if(t)return c.default.createElement("span",{className:"js-doc-id"},n);var i="#"+d.default.urls("document","app",a,n);return c.default.createElement("a",{href:i,className:"js-doc-link"},n)}}]),t}(c.default.Component);t.default={ChangesController:A,ChangesTabContent:R,ChangeRow:M,ChangeID:k}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),o=a(i),s=n(1),r=a(s);t.default={fetchAllDocsWithKey:function(e){return function(t,n){var a="?"+o.default.param({startkey:JSON.stringify(t),endkey:JSON.stringify(t+"香"),limit:30}),i=r.default.urls("allDocs","server",e.safeID(),a);o.default.ajax({cache:!1,url:i,dataType:"json"}).then(function(e){var t=e.rows,a=t.map(function(e){return{value:e.id,label:e.id}});n(null,{options:a})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return c.default.getModifyDatabaseLinks(e)}function o(e){var t=c.default.getNewButtonLinks(e);return i(e).concat(t)}function s(e){return e.map(function(e,t){if(e.title&&e.links){var n=e.links.map(function(e){return l.default.createElement(m,{onClick:e.onClick,icon:e.icon,url:e.url},e.title)});return[l.default.createElement("li",{className:"header-label"},e.title),n]}return l.default.createElement(m,{icon:e.icon,url:e.url,onClick:e.onClick,key:t},e.title)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),l=a(r),d=n(10),u=(a(d),n(59)),c=a(u),f=n(1),p=a(f),h=n(22),m=function(e){var t=e.url,n=e.icon,a=e.onClick,i=e.children;return l.default.createElement("li",{role:"presentation"},l.default.createElement("a",{className:"faux-header__doc-header-dropdown-item",onClick:a,href:t},l.default.createElement("i",{className:n})," ",i))},g=function(e){var t=e.dbName,n=o(t),a=s(n);return l.default.createElement("div",{className:"faux-header__doc-header-left"},l.default.createElement("button",{type:"button",className:"faux-header__doc-header-backlink",onClick:function(){p.default.navigate("#/_all_dbs")}},l.default.createElement("i",{className:"faux-header__doc-header-backlink__icon fonticon fonticon-left-open"})),l.default.createElement("div",{className:"faux-header__doc-header-title flex-fill",title:t},t),l.default.createElement(h.Dropdown,{id:"faux-header__doc-header-left-1"},l.default.createElement(h.Dropdown.Toggle,{noCaret:!0,className:"faux-header__doc-header-dropdown-toggle"},l.default.createElement("i",{className:"faux-header__doc-header-dropdown-toggle-icon fonticon-vertical-ellipsis"})),l.default.createElement(h.Dropdown.Menu,{className:"faux-header__doc-header-dropdown-itemwrapper"},a)))};t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(448),r=a(s),l=n(439),d=a(l),u=n(436),c=a(u),f=r.default.QueryOptionsController,p=function(e){var t=e.database,n=e.hideQueryOptions;return o.default.createElement("div",{className:"header-right right-db-header flex-layout flex-row"},o.default.createElement("div",{className:"faux-header__searchboxwrapper"},o.default.createElement("div",{className:"faux-header__searchboxcontainer"},o.default.createElement(d.default,{cache:!1,loadOptions:c.default.fetchAllDocsWithKey(t),database:t}))),n?"":o.default.createElement(f,null))};p.propTypes={database:o.default.PropTypes.object.isRequired},p.defaultProps={hideQueryOptions:!1},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(10),c=(a(u),n(41)),f=a(c),p=function(e){var t=e.database,n=e.loadOptions;return d.default.createElement("div",null,d.default.createElement(f.default.Async,{className:"jump-to-doc",name:"jump-to-doc",placeholder:"Document ID",loadOptions:n,clearable:!1,ignoreCase:!1,cache:!1,onChange:function(e){var n=e.value,a=r.default.urls("document","app",o.default.utils.safeURLName(t.id),o.default.utils.safeURLName(n));setTimeout(function(){return r.default.navigate(a,{trigger:!0})})}}))};p.propTypes={database:d.default.PropTypes.object.isRequired,loadOptions:d.default.PropTypes.func.isRequired},t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(0),r=a(s),l=n(234),d=a(l),u=n(232),c=a(u),f=n(17),p=a(f),h=n(94),m=a(h),g=d.default.designDocInfoStore,_=p.default.LoadLines,E=p.default.Copy,b=r.default.createClass({displayName:"DesignDocInfo",getStoreState:function(){return{viewIndex:g.getViewIndex(),isLoading:g.isLoading(),ddocName:g.getDdocName()}},getInitialState:function(){return this.getStoreState()},componentDidMount:function(){g.on("change",this.onChange,this)},componentWillUnmount:function(){g.off("change",this.onChange),c.default.stopRefresh()},onChange:function(){this.setState(this.getStoreState())},showCopiedMessage:function(){o.default.addNotification({type:"success",msg:"The MD5 sha has been copied to your clipboard.",clear:!0})},render:function(){var e=this.state.viewIndex;if(this.state.isLoading)return r.default.createElement(_,null);var t=e.data_size?e.data_size.toLocaleString("en"):0,n=e.disk_size?e.disk_size.toLocaleString("en"):0;return r.default.createElement("div",{className:"metadata-page"},r.default.createElement("header",null,r.default.createElement("h2",null,"_design/",this.state.ddocName," Metadata")),r.default.createElement("section",{className:"container"},r.default.createElement("h3",null,"Index Information"),r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Language:"),r.default.createElement("span",{className:"capitalize"},e.language)),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Currently being updated?"),e.updater_running?"Yes":"No"),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Currently running compaction?"),e.compact_running?"Yes":"No"),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Waiting for a commit?"),e.waiting_commit?"Yes":"No")),r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Clients waiting for the index:"),e.waiting_clients),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Update sequence on DB:"),e.update_seq),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Processed purge sequence:"),e.purge_seq),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Actual data size (bytes):"),t),r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"Data size on disk (bytes):"),n)),r.default.createElement("ul",null,r.default.createElement("li",null,r.default.createElement("span",{className:"item-title"},"MD5 Signature:"),r.default.createElement(E,{uniqueKey:m.default.v4(),text:e.signature,onClipboardClick:this.showCopiedMessage})))))}});t.default={DesignDocInfo:b}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(11),r=a(s),l=n(0),d=a(l),u=n(10),c=a(u),f=n(235),p=a(f),h=n(442),m=a(h),g=n(60),E=a(g),b=n(17),v=a(b),y=n(22),D=n(140),C=a(D),T=n(30),N=a(T),S=m.default.docEditorStore,I=d.default.createClass({displayName:"DocEditorController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{isLoading:S.isLoading(),doc:S.getDoc(),cloneDocModalVisible:S.isCloneDocModalVisible(),uploadModalVisible:S.isUploadModalVisible(),deleteDocModalVisible:S.isDeleteDocModalVisible(),numFilesUploaded:S.getNumFilesUploaded(),conflictCount:S.getDocConflictCount()}},getDefaultProps:function(){return{database:{},isNewDoc:!1}},getCodeEditor:function(){if(this.state.isLoading)return d.default.createElement(v.default.LoadLines,null);var e=JSON.stringify(this.state.doc.attributes,null,"  "),t=[{name:"save",bindKey:{win:"Ctrl-S",mac:"Ctrl-S"},exec:this.saveDoc}];return d.default.createElement(v.default.CodeEditor,{id:"doc-editor",ref:"docEditor",defaultCode:e,mode:"json",autoFocus:!0,editorCommands:t,notifyUnsavedChanges:!0,stringEditModalEnabled:!0})},componentDidMount:function(){S.on("change",this.onChange,this)},componentWillUnmount:function(){S.off("change",this.onChange)},componentWillUpdate:function(e,t){(this.state.numFilesUploaded!==t.numFilesUploaded||this.state.doc&&this.state.doc.hasChanged())&&(this.getEditor().setValue(JSON.stringify(t.doc.attributes,null,"  ")),this.onSaveComplete())},onChange:function(){this.isMounted()&&this.setState(this.getStoreState())},saveDoc:function(){p.default.saveDoc(this.state.doc,this.checkDocIsValid(),this.onSaveComplete)},onSaveComplete:function(){this.getEditor().clearChanges()},hideDeleteDocModal:function(){p.default.hideDeleteDocModal()},deleteDoc:function(){p.default.hideDeleteDocModal(),p.default.deleteDoc(this.state.doc)},getEditor:function(){return this.refs.docEditor?this.refs.docEditor.getEditor():null},checkDocIsValid:function(){if(this.getEditor().hasErrors())return!1;var e=JSON.parse(this.getEditor().getValue());return this.state.doc.clear().set(e,{validate:!0}),!this.state.doc.validationError},clearChanges:function(){this.refs.docEditor.clearChanges()},getExtensionIcons:function(){var e=o.default.getExtensions("DocEditor:icons");return _.map(e,function(e,t){return d.default.createElement(e,{doc:this.state.doc,key:t,database:this.props.database})},this)},getButtonRow:function(){var e=this;return!this.props.isNewDoc&&d.default.createElement("div",null,d.default.createElement(w,{doc:this.state.doc,isLoading:this.state.isLoading}),d.default.createElement("div",{className:"doc-editor-extension-icons"},this.getExtensionIcons()),this.state.conflictCount?d.default.createElement(O,{title:"Conflicts ("+this.state.conflictCount+")",iconClass:"icon-columns",className:"conflicts",onClick:function(){o.default.navigate(o.default.urls("revision-browser","app",e.props.database.safeID(),e.state.doc.id))}}):null,d.default.createElement(O,{className:"upload",title:"Upload Attachment",iconClass:"icon-circle-arrow-up",onClick:p.default.showUploadModal}),d.default.createElement(O,{title:"Clone Document",iconClass:"icon-repeat",onClick:p.default.showCloneDocModal}),d.default.createElement(O,{title:"Delete",iconClass:"icon-trash",onClick:p.default.showDeleteDocModal}))},render:function(){var e=this.props.isNewDoc?"Create Document":"Save Changes",t=o.default.urls("allDocs","app",o.default.url.encode(this.props.database.id));return d.default.createElement("div",null,d.default.createElement("div",{id:"doc-editor-actions-panel"},d.default.createElement("div",{className:"doc-actions-left"},d.default.createElement("button",{className:"save-doc btn btn-primary save",type:"button",onClick:this.saveDoc},d.default.createElement("i",{className:"icon fonticon-ok-circled"})," ",e),d.default.createElement("div",null,d.default.createElement("a",{href:"#/"+t,className:"js-back cancel-button"},"Cancel"))),d.default.createElement("div",{className:"alignRight"},this.getButtonRow())),d.default.createElement("div",{className:"code-region"},d.default.createElement("div",{className:"bgEditorGutter"}),d.default.createElement("div",{id:"editor-container",className:"doc-code"},this.getCodeEditor())),d.default.createElement(A,{ref:"uploadModal",visible:this.state.uploadModalVisible,doc:this.state.doc}),d.default.createElement(R,{doc:this.state.doc,database:this.props.database,visible:this.state.cloneDocModalVisible,onSubmit:this.clearChanges}),d.default.createElement(E.default.ConfirmationModal,{title:"Confirm Deletion",visible:this.state.deleteDocModalVisible,text:"Are you sure you want to delete this document?",onClose:this.hideDeleteDocModal,onSubmit:this.deleteDoc,successButtonLabel:"Delete Document"}))}}),w=d.default.createClass({displayName:"AttachmentsPanelButton",propTypes:{isLoading:d.default.PropTypes.bool.isRequired,doc:d.default.PropTypes.object},getDefaultProps:function(){return{isLoading:!0,doc:{}}},getAttachmentList:function(){var e=this.props.doc.database.get("id"),t=this.props.doc.get("_id");return _.map(this.props.doc.get("_attachments"),function(n,a){var i=o.default.urls("document","attachment",e,t,r.default.utils.safeURLName(a));return d.default.createElement("li",{key:a},d.default.createElement("a",{href:i,target:"_blank","data-bypass":"true"}," ",d.default.createElement("strong",null,a),d.default.createElement("span",{className:"attachment-delimiter"},"-"),d.default.createElement("span",null,n.content_type,", ",C.default.formatSize(n.length))))})},render:function(){return!(this.props.isLoading||!this.props.doc.get("_attachments"))&&d.default.createElement("div",{className:"panel-section view-attachments-section btn-group"},d.default.createElement("button",{className:"panel-button dropdown-toggle btn","data-bypass":"true","data-toggle":"dropdown",title:"View Attachments",id:"view-attachments-menu"},d.default.createElement("i",{className:"icon icon-paper-clip"}),d.default.createElement("span",{className:"button-text"},"View Attachments"),d.default.createElement("span",{className:"caret"})),d.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"view-attachments-menu"},this.getAttachmentList()))}}),O=d.default.createClass({displayName:"PanelButton",propTypes:{title:d.default.PropTypes.string.isRequired,onClick:d.default.PropTypes.func.isRequired,className:d.default.PropTypes.string},getDefaultProps:function(){return{title:"",iconClass:"",onClick:function(){},className:""}},render:function(){var e="icon "+this.props.iconClass;return d.default.createElement("div",{className:"panel-section"},d.default.createElement("button",{className:"panel-button "+this.props.className,title:this.props.title,onClick:this.props.onClick},d.default.createElement("i",{className:e}),d.default.createElement("span",null,this.props.title)))}}),A=d.default.createClass({displayName:"UploadModal",propTypes:{visible:d.default.PropTypes.bool.isRequired,doc:d.default.PropTypes.object},getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{inProgress:S.isUploadInProgress(),loadPercentage:S.getUploadLoadPercentage(),errorMessage:S.getFileUploadErrorMsg()}},closeModal:function(e){e&&e.preventDefault(),this.state.inProgress&&p.default.cancelUpload(),p.default.hideUploadModal(),p.default.resetUploadModal()},upload:function(){p.default.uploadAttachment({doc:this.props.doc,rev:this.props.doc.get("_rev"),files:$(c.default.findDOMNode(this.refs.attachments))[0].files})},render:function(){var e="alert alert-error";""===this.state.errorMessage&&(e+=" hide");var t="progress progress-info";return this.state.inProgress||(t+=" hide"),d.default.createElement(y.Modal,{dialogClassName:"upload-file-modal",show:this.props.visible,onHide:this.closeModal},d.default.createElement(y.Modal.Header,{closeButton:!0},d.default.createElement(y.Modal.Title,null,"Upload Attachment")),d.default.createElement(y.Modal.Body,null,d.default.createElement("div",{className:e},this.state.errorMessage),d.default.createElement("div",null,d.default.createElement("form",{ref:"uploadForm",className:"form"},d.default.createElement("p",null,"Select a file to upload as an attachment to this document. Uploading a file saves the document as a new revision."),d.default.createElement("input",{ref:"attachments",type:"file",name:"_attachments"}),d.default.createElement("br",null)),d.default.createElement("div",{className:t},d.default.createElement("div",{className:"bar",style:{width:this.state.loadPercentage+"%"}})))),d.default.createElement(y.Modal.Footer,null,d.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.closeModal},"Cancel"),d.default.createElement("button",{href:"#",id:"upload-btn","data-bypass":"true",className:"btn btn-primary save",onClick:this.upload},d.default.createElement("i",{className:"icon icon-upload"})," Upload Attachment")))}}),R=d.default.createClass({displayName:"CloneDocModal",propTypes:{visible:d.default.PropTypes.bool.isRequired,doc:d.default.PropTypes.object,database:d.default.PropTypes.object.isRequired,onSubmit:d.default.PropTypes.func.isRequired},getInitialState:function(){return{uuid:null}},cloneDoc:function(){this.props.onSubmit&&this.props.onSubmit(),p.default.cloneDoc(this.props.database,this.props.doc,this.state.uuid)},componentDidUpdate:function(){if(null===this.state.uuid){var e=new N.default.UUID;e.fetch().then(function(){this.setState({uuid:e.next()})}.bind(this))}},closeModal:function(e){e&&e.preventDefault(),p.default.hideCloneDocModal()},docIDChange:function(e){this.setState({uuid:e.target.value})},render:function(){var e=this;return null!==this.state.uuid&&d.default.createElement(y.Modal,{dialogClassName:"clone-doc-modal",show:this.props.visible,onHide:this.closeModal},d.default.createElement(y.Modal.Header,{closeButton:!0},d.default.createElement(y.Modal.Title,null,"Clone Document")),d.default.createElement(y.Modal.Body,null,d.default.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.cloneDoc()}},d.default.createElement("p",null,"Document cloning copies the saved version of the document. Unsaved document changes will be discarded."),d.default.createElement("p",null,"You can modify the following generated ID for your new document."),d.default.createElement("input",{ref:"newDocId",type:"text",autoFocus:!0,className:"input-block-level",onChange:this.docIDChange,value:this.state.uuid}))),d.default.createElement(y.Modal.Footer,null,d.default.createElement("a",{href:"#","data-bypass":"true",className:"cancel-link",onClick:this.closeModal},"Cancel"),d.default.createElement("button",{className:"btn btn-primary save",onClick:this.cloneDoc},d.default.createElement("i",{className:"icon-repeat"})," Clone Document")))}});t.default={DocEditorController:I,AttachmentsPanelButton:w,UploadModal:A,CloneDocModal:R}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(236),r=a(s),l={};l.DocEditorStore=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._doc=null,this._isLoading=!0,this._cloneDocModalVisible=!1,this._deleteDocModalVisible=!1,this._uploadModalVisible=!1,this._numFilesUploaded=0,this._fileUploadErrorMsg="",this._uploadInProgress=!1,this._fileUploadLoadPercentage=0,this._docConflictCount=null},isLoading:function(){return this._isLoading},getDocConflictCount:function(){return this._docConflictCount},docLoaded:function(e){this._isLoading=!1,this._docConflictCount=e.doc.get("_conflicts")?e.doc.get("_conflicts").length:0,e.doc.unset("_conflicts"),this._doc=e.doc},getDoc:function(){return this._doc},isCloneDocModalVisible:function(){return this._cloneDocModalVisible},showCloneDocModal:function(){this._cloneDocModalVisible=!0},hideCloneDocModal:function(){this._cloneDocModalVisible=!1},isDeleteDocModalVisible:function(){return this._deleteDocModalVisible},showDeleteDocModal:function(){this._deleteDocModalVisible=!0},hideDeleteDocModal:function(){this._deleteDocModalVisible=!1},isUploadModalVisible:function(){return this._uploadModalVisible},showUploadModal:function(){this._uploadModalVisible=!0},hideUploadModal:function(){this._uploadModalVisible=!1},getNumFilesUploaded:function(){return this._numFilesUploaded},getFileUploadErrorMsg:function(){return this._fileUploadErrorMsg},setFileUploadErrorMsg:function(e){this._uploadInProgress=!1,this._fileUploadLoadPercentage=0,this._fileUploadErrorMsg=e},isUploadInProgress:function(){return this._uploadInProgress},getUploadLoadPercentage:function(){return this._fileUploadLoadPercentage},resetUploadModal:function(){this._uploadInProgress=!1,this._fileUploadLoadPercentage=0,this._fileUploadErrorMsg=""},startFileUpload:function(){this._uploadInProgress=!0,this._fileUploadLoadPercentage=0,this._fileUploadErrorMsg=""},dispatch:function(e){switch(e.type){case r.default.RESET_DOC:this.reset();break;case r.default.DOC_LOADED:this.docLoaded(e.options),this.triggerChange();break;case r.default.SHOW_CLONE_DOC_MODAL:this.showCloneDocModal(),this.triggerChange();break;case r.default.HIDE_CLONE_DOC_MODAL:this.hideCloneDocModal(),this.triggerChange();break;case r.default.SHOW_DELETE_DOC_CONFIRMATION_MODAL:this.showDeleteDocModal(),this.triggerChange();break;case r.default.HIDE_DELETE_DOC_CONFIRMATION_MODAL:this.hideDeleteDocModal(),this.triggerChange();break;case r.default.SHOW_UPLOAD_MODAL:this.showUploadModal(),this.triggerChange();break;case r.default.HIDE_UPLOAD_MODAL:this.hideUploadModal(),this.triggerChange();break;case r.default.FILE_UPLOAD_SUCCESS:this._numFilesUploaded++,this.triggerChange();break;case r.default.FILE_UPLOAD_ERROR:this.setFileUploadErrorMsg(e.options.error),this.triggerChange();break;case r.default.RESET_UPLOAD_MODAL:this.resetUploadModal(),this.triggerChange();break;case r.default.START_FILE_UPLOAD:this.startFileUpload(),this.triggerChange();break;case r.default.SET_FILE_UPLOAD_PERCENTAGE:this._fileUploadLoadPercentage=e.options.percent,this.triggerChange();break;default:return}}}),l.docEditorStore=new l.DocEditorStore,l.docEditorStore.dispatchToken=o.default.dispatcher.register(l.docEditorStore.dispatch),t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(237),d=a(l),u=n(96),c=a(u);t.default={toggleIncludeDocs:function(e,t){var n=o.default.getParams();e?(delete n.include_docs,delete n.conflicts):(n.include_docs=!0,n.conflicts=!0),o.default.utils.localStorageSet("include_docs_bulkdocs",t.toJSON()),c.default.runQuery(n)},toggleTableView:function(e){r.default.dispatch({type:d.default.TOGGLE_TABLEVIEW,options:{enable:e}})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(239),r=a(s),l=n(30),d=a(l),u={};u.IndexEditorStore=o.default.Store.extend({defaultMap:"function (doc) {\n  emit(doc._id, 1);\n}",defaultReduce:"function (keys, values, rereduce) {\n  if (rereduce) {\n    return sum(values);\n  } else {\n    return values.length;\n  }\n}",initialize:function(){this.reset()},reset:function(){this._designDocs=[],this._isLoading=!0,this._view={reduce:"",map:this.defaultMap},this._database={id:"0"}},editIndex:function(e){this._database=e.database,this._newView=e.newView,this._viewName=e.viewName||"viewName",this._newDesignDoc=e.newDesignDoc||!1,this._newDesignDocName="",this._designDocs=e.designDocs,this._designDocId=e.designDocId,this._originalViewName=this._viewName,this._originalDesignDocName=e.designDocId,this.setView(),this._isLoading=!1},isLoading:function(){return this._isLoading},setView:function(){this._newView||this._newDesignDoc?this._view={reduce:"",map:this.defaultMap}:this._view=this.getDesignDoc().get("views")[this._viewName]},getDatabase:function(){return this._database},getMap:function(){return this._view.map},setMap:function(e){this._view.map=e},getReduce:function(){return this._view.reduce},setReduce:function(e){this._view.reduce=e},getDesignDoc:function(){return this._designDocs.find(function(e){return this._designDocId==e.id},this).dDocModel()},getDesignDocs:function(){return this._designDocs},getAvailableDesignDocs:function(){var e=this.getDesignDocs().filter(function(e){return!e.isMangoDoc()});return _.map(e,function(e){return e.id})},getDesignDocId:function(){return this._designDocId},setDesignDocId:function(e){this._designDocId=e},isNewDesignDoc:function(){return this._newDesignDoc},isNewView:function(){return this._newView},getViewName:function(){return this._viewName},setViewName:function(e){this._viewName=e},hasCustomReduce:function(){return!!this.hasReduce()&&!_.includes(this.builtInReduces(),this.getReduce())},hasReduce:function(){return!!this.getReduce()},getOriginalViewName:function(){return this._originalViewName},getOriginalDesignDocName:function(){return this._originalDesignDocName},builtInReduces:function(){return["_sum","_count","_stats"]},reduceSelectedOption:function(){return this.hasReduce()?this.hasCustomReduce()?"CUSTOM":this.getReduce():"NONE"},reduceOptions:function(){return this.builtInReduces().concat(["CUSTOM","NONE"])},updateReduceFromSelect:function(e){return"NONE"===e?void this.setReduce(null):"CUSTOM"===e?void this.setReduce(this.defaultReduce):void this.setReduce(e)},addDesignDoc:function(e){this._designDocs.add(e,{merge:!0}),this._designDocId=e._id},getNewDesignDocName:function(){return this._newDesignDocName},getSaveDesignDoc:function(){if("new-doc"===this._designDocId){var e={_id:"_design/"+this._newDesignDocName,views:{},language:"javascript"};return new d.default.Doc(e,{database:this._database})}var t=this._designDocs.find(function(e){return e.id===this._designDocId}.bind(this));return t?t.dDocModel():null},dispatch:function(e){switch(e.type){case r.default.CLEAR_INDEX:this.reset();break;case r.default.EDIT_INDEX:this.editIndex(e.options);break;case r.default.VIEW_NAME_CHANGE:this.setViewName(e.name);break;case r.default.EDIT_NEW_INDEX:this.editIndex(e.options);break;case r.default.SELECT_REDUCE_CHANGE:this.updateReduceFromSelect(e.reduceSelectedOption);break;case r.default.DESIGN_DOC_CHANGE:this.setDesignDocId(e.options.value);break;case r.default.VIEW_SAVED:case r.default.VIEW_CREATED:break;case r.default.VIEW_ADD_DESIGN_DOC:this.addDesignDoc(e.designDoc),this.setView();break;case r.default.VIEW_UPDATE_MAP_CODE:this.setMap(e.code);break;case r.default.VIEW_UPDATE_REDUCE_CODE:this.setReduce(e.code);break;case r.default.DESIGN_DOC_NEW_NAME_UPDATED:this._newDesignDocName=e.options.value;break;default:return}this.triggerChange()}}),u.indexEditorStore=new u.IndexEditorStore,u.indexEditorStore.dispatchToken=o.default.dispatcher.register(u.indexEditorStore.dispatch),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(0),d=a(l),u=n(446),c=a(u),f=n(243),p=a(f),h=n(17),m=a(h),g=n(51),_=a(g),E=n(245),b=a(E);n(100);var v=c.default.mangoStore,y=o.default.helpers.getDocUrl,D=m.default.PaddedBorderedBox,C=m.default.CodeEditorPanel,T=m.default.ConfirmButton,N=d.default.createClass({displayName:"MangoQueryEditorController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{queryCode:v.getQueryFindCode(),database:v.getDatabase(),changedQuery:v.getQueryFindCodeChanged(),availableIndexes:v.getAvailableQueryIndexes(),additionalIndexes:v.getAvailableAdditionalIndexes(),isLoading:v.getLoadingIndexes()}},onChange:function(){this.setState(this.getStoreState())},componentDidUpdate:function(){prettyPrint()},componentDidMount:function(){prettyPrint(),v.on("change",this.onChange,this)},componentWillUnmount:function(){v.off("change",this.onChange)},getMangoEditor:function(){return this.refs.mangoEditor},render:function(){return this.state.isLoading?d.default.createElement("div",{className:"mango-editor-wrapper"},d.default.createElement(m.default.LoadLines,null)):d.default.createElement(S,{ref:"mangoEditor",description:this.props.description,dbName:this.state.database.id,onSubmit:this.runQuery,title:this.props.editorTitle,additionalIndexesText:this.props.additionalIndexesText,docs:y("MANGO_SEARCH"),exampleCode:this.state.queryCode,changedQuery:this.state.changedQuery,availableIndexes:this.state.availableIndexes,additionalIndexes:this.state.additionalIndexes,confirmbuttonText:"Run Query"})},runQuery:function(e){if(e.preventDefault(),this.getMangoEditor().hasErrors())return void r.default.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0});_.default.runMangoFindQuery({database:this.state.database,queryCode:this.getMangoEditor().getEditorValue()})}}),S=d.default.createClass({displayName:"MangoEditor",getDefaultProps:function(){return{changedQuery:null,availableIndexes:null,additionalIndexes:null}},render:function(){var e="#/"+r.default.urls("allDocs","app",r.default.url.encode(this.props.dbName),"");return d.default.createElement("div",{className:"mango-editor-wrapper"},d.default.createElement(D,null,d.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.description},className:"editor-description"})),d.default.createElement(D,null,d.default.createElement("strong",null,"Database"),d.default.createElement("div",{className:"db-title"},d.default.createElement("a",{href:e},this.props.dbName))),d.default.createElement("form",{className:"form-horizontal",onSubmit:this.props.onSubmit},d.default.createElement(D,null,d.default.createElement(C,{id:"query-field",ref:"field",title:this.props.title,docLink:this.props.docs,defaultCode:this.props.exampleCode}),this.getChangedQueryText()),this.getIndexBox(),d.default.createElement("div",{className:"padded-box"},d.default.createElement("div",{className:"control-group"},d.default.createElement(T,{text:this.props.confirmbuttonText,id:"create-index-btn",showIcon:!1})))))},getChangedQueryText:function(){return this.props.changedQuery?d.default.createElement("div",{className:"info-changed-query"},d.default.createElement("strong",null,"Info:"),d.default.createElement("div",null,"We changed the default query based on the last Index you created.")):null},getIndexBox:function(){return this.props.availableIndexes?d.default.createElement(D,null,d.default.createElement("strong",null,"Your available Indexes:"),d.default.createElement("a",{className:"edit-link",href:"#"+r.default.urls("mango","index-app",encodeURIComponent(this.props.dbName))},"edit"),d.default.createElement("pre",{className:"mango-available-indexes"},this.getIndexes("index",this.props.availableIndexes),this.getIndexes("additonal",this.props.additionalIndexes))):null},getIndexes:function(e,t){if(t)return t.map(function(t,n){var a=b.default.getIndexName(t);return d.default.createElement("div",{key:e+n},a)})},getEditorValue:function(){return this.refs.field.getValue()},getEditor:function(){return this.refs.field.getEditor()},hasErrors:function(){return this.getEditor().hasErrors()}}),I=d.default.createClass({displayName:"MangoIndexEditorController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{queryIndexCode:v.getQueryIndexCode(),database:v.getDatabase()}},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){v.on("change",this.onChange,this)},componentWillUnmount:function(){v.off("change",this.onChange)},getMangoEditor:function(){return this.refs.mangoEditor},render:function(){return d.default.createElement(S,{ref:"mangoEditor",description:this.props.description,dbName:this.state.database.id,onSubmit:this.saveQuery,title:"Index",docs:y("MANGO_INDEX"),exampleCode:this.state.queryIndexCode,confirmbuttonText:"Create Index"})},saveQuery:function(e){if(e.preventDefault(),this.getMangoEditor().hasErrors())return void r.default.addNotification({msg:"Please fix the Javascript errors and try again.",type:"error",clear:!0});p.default.saveQuery({database:this.state.database,queryCode:this.getMangoEditor().getEditorValue()})}}),w={MangoIndexEditorController:I,MangoQueryEditorController:N};t.default=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(244),r=a(s),l={index:{fields:["_id"]},type:"json"},d={selector:{_id:{$gt:null}}},u={};u.MangoStore=o.default.Store.extend({initialize:function(){this._queryFindCode=d,this._queryIndexCode=l,this._queryFindCodeChanged=!1,this._availableIndexes=[],this._getLoadingIndexes=!0},getQueryIndexCode:function(){return this.formatCode(this._queryIndexCode)},setQueryIndexCode:function(e){this._queryIndexCode=e.code},getQueryFindCode:function(){return this.formatCode(this._queryFindCode)},setQueryFindCode:function(e){this._queryFindCode=e.code},getLoadingIndexes:function(){return this._getLoadingIndexes},setLoadingIndexes:function(e){this._getLoadingIndexes=e.isLoading},formatCode:function(e){return JSON.stringify(e,null,"  ")},newQueryFindCodeFromFields:function(e){var t,n=e.fields,a=JSON.parse(JSON.stringify(this._queryFindCode));n&&(t=n.reduce(function(e,t){return e[t]={$gt:null},e},{}),a.selector=t,this._queryFindCode=a,this._queryFindCodeChanged=!0)},getQueryFindCodeChanged:function(){return this._queryFindCodeChanged},setDatabase:function(e){this._database=e.database},getDatabase:function(){return this._database},setAvailableIndexes:function(e){this._availableIndexes=e.indexList},getAvailableQueryIndexes:function(){return this._availableIndexes.filter(function(e){return-1!==["json","special"].indexOf(e.get("type"))})},getAvailableAdditionalIndexes:function(){var e=o.default.getExtensions("mango:additionalIndexes")[0];if(e)return this._availableIndexes.filter(function(t){return-1!==t.get("type").indexOf(e.type)})},dispatch:function(e){switch(e.type){case r.default.MANGO_SET_DB:this.setDatabase(e.options);break;case r.default.MANGO_NEW_QUERY_CREATE_INDEX_CODE:this.setQueryIndexCode(e.options);break;case r.default.MANGO_NEW_QUERY_FIND_CODE_FROM_FIELDS:this.newQueryFindCodeFromFields(e.options);break;case r.default.MANGO_NEW_QUERY_FIND_CODE:this.setQueryFindCode(e.options);break;case r.default.MANGO_NEW_AVAILABLE_INDEXES:this.setAvailableIndexes(e.options);break;case r.default.MANGO_RESET:this.setLoadingIndexes(e.options)}this.triggerChange()}}),u.mangoStore=new u.MangoStore,u.mangoStore.dispatchToken=o.default.dispatcher.register(u.mangoStore.dispatch),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MangoLayout=t.MangoHeader=t.MangoFooter=t.RightHeader=void 0;var i=n(0),o=a(i),s=n(11),r=a(s),l=n(248),d=a(l),u=n(238),c=a(u),f=n(95),p=n(78),h=n(29),m=n(445),g=a(m),_=n(242),E=a(_),b=t.RightHeader=function(e){var t=e.showIncludeAllDocs,n=e.docURL,a=e.endpoint;return o.default.createElement("div",{className:"right-header-wrapper flex-layout flex-row flex-body"},o.default.createElement("div",{id:"react-headerbar",className:"flex-body"},o.default.createElement(c.default.BulkDocumentHeaderController,{showIncludeAllDocs:t})),o.default.createElement("div",{id:"right-header",className:"flex-body"}),o.default.createElement(h.ApiBarWrapper,{docURL:n,endpoint:a}),o.default.createElement("div",{id:"notification-center-btn"},o.default.createElement(p.NotificationCenterButton,null)))},v=t.MangoFooter=function(){return o.default.createElement("div",{id:"footer"},o.default.createElement(d.default.Footer,null))},y=t.MangoHeader=function(e){var t=e.showIncludeAllDocs,n=e.crumbs,a=e.docURL,i=e.endpoint;return o.default.createElement("div",{className:"header-wrapper flex-layout flex-row"},o.default.createElement("div",{className:"flex-body faux__breadcrumbs-mango-header"},o.default.createElement(f.Breadcrumbs,{crumbs:n})),o.default.createElement(b,{showIncludeAllDocs:t,docURL:a,endpoint:i}))};y.defaultProps={crumbs:[]};var D=function(e){var t=e.edit,n=e.designDocs,a=t?o.default.createElement(g.default.MangoIndexEditorController,{description:r.default.i18n.en_US["mango-descripton-index-editor"]}):o.default.createElement(g.default.MangoQueryEditorController,{description:r.default.i18n.en_US["mango-descripton"],editorTitle:r.default.i18n.en_US["mango-title-editor"],additionalIndexesText:r.default.i18n.en_US["mango-additional-indexes-heading"]});return o.default.createElement("div",{id:"two-pane-content",className:"flex-layout flex-row flex-body"},o.default.createElement("div",{id:"left-content",className:"flex-body"},a),o.default.createElement("div",{id:"right-content",className:"flex-body flex-layout flex-col"},o.default.createElement("div",{id:"dashboard-lower-content",className:"flex-body"},o.default.createElement(E.default.List,{designDocs:n})),o.default.createElement(v,null)))};t.MangoLayout=function(e){var t=e.edit,n=e.showIncludeAllDocs,a=e.docURL,i=e.endpoint,s=e.crumbs,r=e.designDocs;return o.default.createElement("div",{id:"dashboard",className:"two-pane flex-layout flex-col"},o.default.createElement(y,{showIncludeAllDocs:n,docURL:a,endpoint:i,crumbs:s}),o.default.createElement(D,{edit:t,designDocs:r}))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(0),r=a(s),l=n(10),d=a(l),u=n(250),c=a(u),f=n(96),p=a(f),h=n(17),m=a(h),g=m.default.connectToStores,_=m.default.TrayWrapper,E=m.default.ToggleHeaderButton,b=m.default.TrayContents,v=c.default.queryOptionsStore,y=r.default.createClass({displayName:"MainFieldsView",propTypes:{toggleIncludeDocs:r.default.PropTypes.func.isRequired,includeDocs:r.default.PropTypes.bool.isRequired,reduce:r.default.PropTypes.bool.isRequired,toggleReduce:r.default.PropTypes.func,updateGroupLevel:r.default.PropTypes.func,docURL:r.default.PropTypes.string.isRequired},toggleIncludeDocs:function(e){this.props.toggleIncludeDocs(e)},groupLevelChange:function(e){this.props.updateGroupLevel(e.target.value)},groupLevel:function(){return this.props.reduce?r.default.createElement("label",{className:"drop-down inline",id:"qoGroupLevelGroup"},"Group Level",r.default.createElement("select",{onChange:this.groupLevelChange,id:"qoGroupLevel",value:this.props.groupLevel,name:"group_level",className:"input-small"},r.default.createElement("option",{value:"0"},"None"),r.default.createElement("option",{value:"1"},"1"),r.default.createElement("option",{value:"2"},"2"),r.default.createElement("option",{value:"3"},"3"),r.default.createElement("option",{value:"4"},"4"),r.default.createElement("option",{value:"5"},"5"),r.default.createElement("option",{value:"6"},"6"),r.default.createElement("option",{value:"7"},"7"),r.default.createElement("option",{value:"8"},"8"),r.default.createElement("option",{value:"9"},"9"),r.default.createElement("option",{value:"exact"},"Exact"))):null},reduce:function(){return this.props.showReduce?r.default.createElement("span",null,r.default.createElement("div",{className:"checkbox inline"},r.default.createElement("input",{id:"qoReduce",name:"reduce",onChange:this.props.toggleReduce,type:"checkbox",checked:this.props.reduce}),r.default.createElement("label",{htmlFor:"qoReduce"},"Reduce")),this.groupLevel()):null},render:function(){var e=this.props.includeDocs;return r.default.createElement("div",{className:"query-group",id:"query-options-main-fields"},r.default.createElement("span",{className:"add-on"},"Query Options",r.default.createElement("a",{className:"help-link",href:this.props.docURL,target:"_blank","data-bypass":"true"},r.default.createElement("i",{className:"icon-question-sign"}))),r.default.createElement("div",{className:"controls-group qo-main-fields-row"},r.default.createElement("div",{className:"row-fluid fieldsets"},r.default.createElement("div",{className:"checkbox inline"},r.default.createElement("input",{disabled:this.props.reduce,onChange:this.toggleIncludeDocs,id:"qoIncludeDocs",name:"include_docs",type:"checkbox",checked:e}),r.default.createElement("label",{className:this.props.reduce?"disabled":"",htmlFor:"qoIncludeDocs",id:"qoIncludeDocsLabel"},"Include Docs")),this.reduce())))}}),D=r.default.createClass({displayName:"KeySearchFields",toggleByKeys:function(){this.props.toggleByKeys()},toggleBetweenKeys:function(){this.props.toggleBetweenKeys()},updateBetweenKeys:function(){this.props.updateBetweenKeys({startkey:d.default.findDOMNode(this.refs.startkey).value,endkey:d.default.findDOMNode(this.refs.endkey).value,include:this.props.betweenKeys.include})},updateInclusiveEnd:function(){this.props.updateBetweenKeys({include:!this.props.betweenKeys.include,startkey:this.props.betweenKeys.startkey,endkey:this.props.betweenKeys.endkey})},updateByKeys:function(e){this.props.updateByKeys(e.target.value)},render:function(){var e="controls-group well js-query-keys-wrapper ",t="row-fluid js-keys-section ",n=t,a="drop-down btn ",i=a;return this.props.showByKeys||this.props.showBetweenKeys||(e+="hide"),this.props.showByKeys?a+="active":t+="hide",this.props.showBetweenKeys?i+="active":n+="hide",r.default.createElement("div",{className:"query-group",id:"query-options-key-search"},r.default.createElement("div",{className:"add-on"},"Keys"),r.default.createElement("div",{className:"btn-group toggle-btns row-fluid"},r.default.createElement("label",{style:{width:"101px"},id:"byKeys",onClick:this.toggleByKeys,className:a},"By Key(s)"),r.default.createElement("label",{style:{width:"101px"},id:"betweenKeys",onClick:this.toggleBetweenKeys,className:i},"Between Keys")),r.default.createElement("div",{className:e},r.default.createElement("div",{className:t,id:"js-showKeys"},r.default.createElement("div",{className:"controls controls-row"},r.default.createElement("label",{htmlFor:"keys-input",className:"drop-down"},"A key, or an array of keys."),r.default.createElement("textarea",{value:this.props.byKeys,onChange:this.updateByKeys,id:"keys-input",className:"input-xxlarge",rows:"5",type:"text",placeholder:'Enter either a single key ["123"] or an array of keys ["123", "456"]. A key value is the first parameter emitted in a map function. For example emit("123", 1) the key is "123".'}),r.default.createElement("div",{id:"keys-error",className:"inline-block js-keys-error"}))),r.default.createElement("div",{className:n,id:"js-showStartEnd"},r.default.createElement("div",{className:"controls controls-row"},r.default.createElement("div",null,r.default.createElement("label",{htmlFor:"startkey",className:"drop-down"},"Start key"),r.default.createElement("input",{id:"startkey",ref:"startkey",type:"text",onChange:this.updateBetweenKeys,value:this.props.betweenKeys.startkey,placeholder:'e.g., "1234"'})),r.default.createElement("div",null,r.default.createElement("label",{htmlFor:"endkey",className:"drop-down"},"End key"),r.default.createElement("input",{id:"endkey",ref:"endkey",onChange:this.updateBetweenKeys,value:this.props.betweenKeys.endkey,type:"text",placeholder:'e.g., "1234"'}),r.default.createElement("div",{className:"controls include-end-key-row checkbox controls-row inline"},r.default.createElement("input",{id:"qoIncludeEndKeyInResults",ref:"inclusive_end",type:"checkbox",onChange:this.updateInclusiveEnd,checked:this.props.betweenKeys.include}),r.default.createElement("label",{htmlFor:"qoIncludeEndKeyInResults"},"Include End Key in results")))))))}}),C=r.default.createClass({displayName:"AdditionalParams",updateSkip:function(e){e.preventDefault();var t=e.target.value;/^\d*$/.test(t)||(o.default.addNotification({msg:"Skip can only be a number",type:"error"}),t=this.props.skip),this.props.updateSkip(t)},updateLimit:function(e){e.preventDefault(),this.props.updateLimit(e.target.value)},render:function(){return r.default.createElement("div",{className:"query-group",id:"query-options-additional-params"},r.default.createElement("div",{className:"add-on additionalParams"},"Additional Parameters"),r.default.createElement("div",{className:"row-fluid fieldsets"},r.default.createElement("div",{className:"dropdown inline"},r.default.createElement("label",{className:"drop-down"},"Limit",r.default.createElement("select",{id:"qoLimit",onChange:this.updateLimit,name:"limit",value:this.props.limit,className:"input-small"},r.default.createElement("option",{value:"none"},"None"),r.default.createElement("option",{value:5},"5"),r.default.createElement("option",{value:10},"10"),r.default.createElement("option",{value:20},"20"),r.default.createElement("option",{value:30},"30"),r.default.createElement("option",{value:50},"50"),r.default.createElement("option",{value:100},"100"),r.default.createElement("option",{value:500},"500"))))),r.default.createElement("div",{className:"row-fluid fieldsets"},r.default.createElement("div",{className:"checkbox inline"},r.default.createElement("input",{id:"qoDescending",type:"checkbox",onChange:this.props.toggleDescending,checked:this.props.descending}),r.default.createElement("label",{htmlFor:"qoDescending"},"Descending")),r.default.createElement("div",{className:"dropdown inline"},r.default.createElement("label",{htmlFor:"qoSkip",className:"drop-down"},"Skip",r.default.createElement("input",{value:this.props.skip,onChange:this.updateSkip,className:"input-small",type:"text",id:"qoSkip",placeholder:"# of rows"})))))}}),T=r.default.createClass({displayName:"QueryButtons",propTypes:{onCancel:r.default.PropTypes.func.isRequired},hideTray:function(){this.props.onCancel()},render:function(){return r.default.createElement("div",{className:"controls-group query-group"},r.default.createElement("div",{id:"button-options",className:"controls controls-row"},r.default.createElement("button",{type:"submit",className:"btn btn-secondary"},"Run Query"),r.default.createElement("a",{onClick:this.hideTray,className:"btn btn-cancelDark"},"Cancel")))}}),N=r.default.createClass({displayName:"QueryOptionsController",getStoreState:function(){return{isVisible:v.isVisible()}},getInitialState:function(){return this.getStoreState()},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){v.on("change",this.onChange,this)},componentWillUnmount:function(){v.off("change",this.onChange)},getWrap:function(){return this.TrayWrapper||(this.TrayWrapper=g(_,[v],function(){return{includeDocs:v.includeDocs(),showBetweenKeys:v.showBetweenKeys(),showByKeys:v.showByKeys(),betweenKeys:v.betweenKeys(),byKeys:v.byKeys(),descending:v.descending(),skip:v.skip(),limit:v.limit(),showReduce:v.showReduce(),reduce:v.reduce(),groupLevel:v.groupLevel(),contentVisible:v.getTrayVisible(),queryParams:v.getQueryParams()}})),this.TrayWrapper},render:function(){if(!this.state.isVisible)return null;var e=this.getWrap();return r.default.createElement("div",{id:"header-query-options"},r.default.createElement("div",{id:"query-options"},r.default.createElement(e,null,r.default.createElement(S,{contentVisible:!1}))))}}),S=r.default.createClass({displayName:"QueryTray",propTypes:{contentVisible:r.default.PropTypes.bool.isRequired},runQuery:function(e){e.preventDefault(),p.default.runQuery(this.props.queryParams),this.toggleTrayVisibility()},toggleTrayVisibility:function(){p.default.toggleQueryBarVisibility(!this.props.contentVisible)},closeTray:function(){p.default.toggleQueryBarVisibility(!1)},toggleIncludeDocs:function(){p.default.toggleIncludeDocs()},getTray:function(){return r.default.createElement(b,{closeTray:this.closeTray,contentVisible:this.props.contentVisible,className:"query-options",id:"query-options-tray"},r.default.createElement("form",{onSubmit:this.runQuery,className:"js-view-query-update custom-inputs"},r.default.createElement(y,{includeDocs:this.props.includeDocs,toggleIncludeDocs:this.toggleIncludeDocs,showReduce:this.props.showReduce,reduce:this.props.reduce,toggleReduce:p.default.toggleReduce,groupLevel:this.props.groupLevel,updateGroupLevel:p.default.updateGroupLevel,docURL:o.default.constants.DOC_URLS.GENERAL}),r.default.createElement(D,{key:1,showByKeys:this.props.showByKeys,showBetweenKeys:this.props.showBetweenKeys,toggleByKeys:p.default.toggleByKeys,toggleBetweenKeys:p.default.toggleBetweenKeys,betweenKeys:this.props.betweenKeys,updateBetweenKeys:p.default.updateBetweenKeys,byKeys:this.props.byKeys,updateByKeys:p.default.updateByKeys}),r.default.createElement(C,{descending:this.props.descending,toggleDescending:p.default.toggleDescending,skip:this.props.skip,updateSkip:p.default.updateSkip,updateLimit:p.default.updateLimit,limit:this.props.limit}),r.default.createElement(T,{onCancel:this.closeTray})))},render:function(){return r.default.createElement("div",null,r.default.createElement(E,{toggleCallback:this.toggleTrayVisibility,containerClasses:"header-control-box control-toggle-queryoptions",title:"Query Options",fonticon:"fonticon-gears",text:"Options"}),this.getTray())}});t.default={QueryOptionsController:N,QueryButtons:T,MainFieldsView:y,KeySearchFields:D,AdditionalParams:C,render:function(e){d.default.render(r.default.createElement(N,null),$(e)[0])}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(11),d=a(l),u=n(0),c=a(u),f=n(10),p=a(f),h=n(251),m=a(h),g=n(450),_=a(g),E=n(17),b=a(E),v=n(22),y=n(41),D=a(y),C=n(618),T=a(C),N=n(617),S=a(N),I=n(142),w=a(I);n(869);var O="deleteConflictsHideModal",A=_.default.revBrowserStore,R=b.default.ConfirmButton;n(501);var P=w.default.acequire("ace/ext/static_highlight");n(143);var L=w.default.acequire("ace/mode/json").Mode;n(144);var M=w.default.acequire("ace/theme/idle_fingers"),k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return s(t,e),r(t,[{key:"getStoreState",value:function(){return{tree:A.getRevTree(),ours:A.getOurs(),theirs:A.getTheirs(),conflictingRevs:A.getConflictingRevs(),dropdownData:A.getDropdownData(),isDiffViewEnabled:A.getIsDiffViewEnabled(),databaseName:A.getDatabaseName()}}},{key:"componentDidMount",value:function(){A.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){A.off("change",this.onChange)}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"toggleDiffView",value:function(e){m.default.toggleDiffView(e)}},{key:"render",value:function(){var e=this.state,t=e.tree,n=e.ours,a=e.theirs,i=e.conflictingRevs,o=e.isDiffViewEnabled;return t?a&&i.length?c.default.createElement("div",{className:"revision-wrapper scrollable"},c.default.createElement(V,this.state),c.default.createElement("div",{className:"revision-view-controls"},c.default.createElement(v.ButtonGroup,{className:"two-sides-toggle-button"},c.default.createElement(v.Button,{style:{width:"120px"},className:o?"active":"",onClick:this.toggleDiffView.bind(this,!0)},c.default.createElement("i",{className:"icon-columns"})," Diff"),c.default.createElement(v.Button,{style:{width:"120px"},className:o?"":"active",onClick:this.toggleDiffView.bind(this,!1)},c.default.createElement("i",{className:"icon-file-text"})," Document"))),o?c.default.createElement(U,{ours:n,theirs:a}):c.default.createElement(x,{ours:n,theirs:a})):c.default.createElement("div",{style:{textAlign:"center",color:"#fff"}},c.default.createElement("h2",null,"No conflicts")):null}}]),t}(c.default.Component),x=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),r(t,[{key:"componentDidUpdate",value:function(){this.hightlightAfterRender()}},{key:"componentDidMount",value:function(){this.hightlightAfterRender()}},{key:"hightlightAfterRender",value:function(){var e=function(e){return JSON.stringify(e,null,"  ")},t=new L,n=p.default.findDOMNode(this.refs.revLeftOurs),a=p.default.findDOMNode(this.refs.revRightTheirs),i=P.render(e(this.props.ours),t,M,0,!0);n.innerHTML=i.html;var o=P.render(e(this.props.theirs),t,M,0,!0);a.innerHTML=o.html}},{key:"render",value:function(){var e=this.props,t=e.ours,n=e.theirs;return t&&n?c.default.createElement("div",{className:"revision-split-area"},c.default.createElement("div",{"data-id":"ours",style:{width:"50%"}},c.default.createElement("div",{style:{marginBottom:"20px"}},t._rev," (Server-Selected Rev)"),c.default.createElement("pre",{ref:"revLeftOurs"})),c.default.createElement("div",{"data-id":"theirs",style:{width:"50%"}},c.default.createElement("div",{style:{marginBottom:"20px"}},n._rev),c.default.createElement("pre",{ref:"revRightTheirs"}))):c.default.createElement("div",null)}}]),t}(c.default.Component),U=function(e){var t=e.ours,n=e.theirs;if(!t||!n)return c.default.createElement("div",null);var a=T.default.diff(t,n),i=S.default.format(a,t);return c.default.createElement("div",{className:"revision-diff-area"},c.default.createElement("div",{style:{marginTop:"30px"},dangerouslySetInnerHTML:{__html:i}}))};U.propTypes={ours:c.default.PropTypes.object,theirs:c.default.PropTypes.object,currentRev:c.default.PropTypes.string};var B=function(e){var t=e.options,n=e.selected,a=e.onRevisionClick,i=e.onBackwardClick,o=e.onForwardClick;return c.default.createElement("div",{className:"conflicting-revs-dropdown"},c.default.createElement(j,{backward:!0,onClick:i}),c.default.createElement("div",{style:{width:"345px",margin:"0 5px"}},c.default.createElement(D.default,{name:"form-field-name",value:n,options:t,clearable:!1,onChange:a})),c.default.createElement(j,{forward:!0,onClick:o}))};B.propTypes={options:c.default.PropTypes.array.isRequired,selected:c.default.PropTypes.string.isRequired,onRevisionClick:c.default.PropTypes.func.isRequired,onBackwardClick:c.default.PropTypes.func.isRequired,onForwardClick:c.default.PropTypes.func.isRequired};var V=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showModal:!1},n}return s(t,e),r(t,[{key:"onRevisionClick",value:function(e){m.default.chooseLeaves(this.props.ours,e.value)}},{key:"onForwardClick",value:function(){var e=this.props.conflictingRevs,t=e.indexOf(this.props.theirs._rev),n=e[t+1];n&&m.default.chooseLeaves(this.props.ours,n)}},{key:"onBackwardClick",value:function(){var e=this.props.conflictingRevs,t=e.indexOf(this.props.theirs._rev),n=e[t-1];n&&m.default.chooseLeaves(this.props.ours,n)}},{key:"selectAsWinner",value:function(e,t){t&&d.default.utils.localStorageSet(O,!0),m.default.selectRevAsWinner(this.props.databaseName,e._id,this.props.tree.paths,e._rev)}},{key:"onSelectAsWinnerClick",value:function(e){if(!0!==d.default.utils.localStorageGet(O))return void m.default.showConfirmModal(!0,e);this.selectAsWinner(e)}},{key:"render",value:function(){var e=this.props.tree,t={paddingRight:"30px"};return c.default.createElement("div",{className:"revision-browser-controls"},c.default.createElement(F,{onConfirm:this.selectAsWinner.bind(this)}),c.default.createElement("table",{style:{margin:"10px 60px",width:"100%"}},c.default.createElement("tbody",null,c.default.createElement("tr",{style:{height:"60px"}},c.default.createElement("td",{style:t},"Server-Selected Rev: "),c.default.createElement("td",{style:t},c.default.createElement("div",{style:{lineHeight:"36px",height:"36px",width:"337px",color:"#000",backgroundColor:"#ffbbbb"}},c.default.createElement("b",{style:{paddingLeft:"10px"}},e.winner))),c.default.createElement("td",null,c.default.createElement(R,{onClick:this.onSelectAsWinnerClick.bind(this,this.props.ours),style:{marginRight:"10px",width:"220px"},text:"Delete Other Conflicts",buttonType:"btn-info",customIcon:"icon-trophy"}))),c.default.createElement("tr",{style:{height:"60px"}},c.default.createElement("td",{style:t},"Conflicting Revisions: "),c.default.createElement("td",{style:t},c.default.createElement(B,{onRevisionClick:this.onRevisionClick.bind(this),onForwardClick:this.onForwardClick.bind(this),onBackwardClick:this.onBackwardClick.bind(this),options:this.props.dropdownData,selected:this.props.theirs._rev})),c.default.createElement("td",null,c.default.createElement(R,{"data-id":"button-select-theirs",onClick:this.onSelectAsWinnerClick.bind(this,this.props.theirs),style:{marginRight:"10px",width:"220px"},text:"Select as Winner",buttonType:"btn-info",customIcon:"icon-trophy"}))))))}}]),t}(c.default.Component);V.propTypes={tree:c.default.PropTypes.object.isRequired,ours:c.default.PropTypes.object.isRequired,conflictingRevs:c.default.PropTypes.array.isRequired};var F=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return s(t,e),r(t,[{key:"getStoreState",value:function(){return{show:A.getShowConfirmModal(),docToWin:A.getDocToWin(),checked:!1}}},{key:"componentDidMount",value:function(){A.on("change",this.onChange,this)}},{key:"componentWillUnmount",value:function(){A.off("change",this.onChange)}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"close",value:function(){m.default.showConfirmModal(!1,null)}},{key:"onDeleteConflicts",value:function(){var e=this.state.checked;this.props.onConfirm(this.state.docToWin,e)}},{key:"render",value:function(){var e=this;return c.default.createElement(v.Modal,{dialogClassName:"delete-conflicts-modal",show:this.state.show,onHide:this.close},c.default.createElement(v.Modal.Header,{closeButton:!1},c.default.createElement(v.Modal.Title,null,"Solve Conflicts")),c.default.createElement(v.Modal.Body,null,c.default.createElement("p",null,c.default.createElement("i",{className:"icon-warning-sign"})," Do you want to delete all conflicting revisions for this document?")),c.default.createElement(v.Modal.Footer,null,c.default.createElement("div",{style:{float:"left",marginTop:"10px"}},c.default.createElement("label",null,c.default.createElement("input",{style:{margin:"0 5px 3px 0"},onChange:function(){e.setState({checked:!e.state.checked})},type:"checkbox"}),"Do not show this warning message again")),c.default.createElement("a",{style:{marginRight:"10px",cursor:"pointer"},onClick:this.close,"data-bypass":"true"},"Cancel"),c.default.createElement(R,{onClick:this.onDeleteConflicts.bind(this),text:"Delete Revisions",buttonType:"btn-danger"})))}}]),t}(c.default.Component);F.propTypes={onConfirm:c.default.PropTypes.func.isRequired};var j=function(e){var t=e.onClick,n=e.forward,a=n?"fonticon-right-open":"fonticon-left-open",i={height:"20px",width:"11px",marginTop:"7px"};return c.default.createElement("div",{style:i,className:a,onClick:t})};j.propTypes={onClick:c.default.PropTypes.func.isRequired},t.default={DiffyController:k}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(252),r=a(s),l={};l.RevBrowserStore=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._revTree=null,this._ours=null,this._theirs=null,this._dropDownData=null,this._isDiffViewEnabled=!0,this._databaseName=null,this._showConfirmModal=!1,this._docToWin=null},prepareDropdownData:function(e){return e.map(function(e){return{value:e,label:e}})},getRevTree:function(){return this._revTree},getDatabaseName:function(){return this._databaseName},getOurs:function(){return this._ours},getTheirs:function(){return this._theirs},getConflictingRevs:function(){return this._conflictingRevs},getDropdownData:function(){return this._dropDownData},getIsDiffViewEnabled:function(){return this._isDiffViewEnabled},getShowConfirmModal:function(){return this._showConfirmModal},getDocToWin:function(){return this._docToWin},dispatch:function(e){switch(e.type){case r.default.REV_BROWSER_REV_TREE_LOADED:this._revTree=e.options.tree,this._ours=e.options.doc,this._conflictingRevs=e.options.conflictingRevs,this._theirs=e.options.conflictDoc,this._dropDownData=this.prepareDropdownData(this._conflictingRevs),this._databaseName=e.options.databaseName;break;case r.default.REV_BROWSER_DIFF_DOCS_READY:this._theirs=e.options.theirs;break;case r.default.REV_BROWSER_DIFF_ENABLE_DIFF_VIEW:this._isDiffViewEnabled=e.options.enableDiff;break;case r.default.REV_BROWSER_SHOW_CONFIRM_MODAL:this._showConfirmModal=e.options.show,this._docToWin=e.options.docToWin;break;default:return}this.triggerChange()}}),l.revBrowserStore=new l.RevBrowserStore,l.revBrowserStore.dispatchToken=o.default.dispatcher.register(l.revBrowserStore.dispatch),t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(30),d=a(l),u=n(76),c=a(u),f=n(235),p=a(f),h=n(441),m=a(h),g=n(251),_=a(g),E=n(449),b=a(E),v=n(29),y=r.default.RouteObject.extend({selectedHeader:"Databases",roles:["fx_loggedIn"],initialize:function(e,t){this.databaseName=t[0],this.docId=t[1],this.database=this.database||new c.default.Model({id:this.databaseName}),this.doc=new d.default.NewDoc(null,{database:this.database})},routes:{"database/:database/:doc/conflicts":"revisionBrowser","database/:database/:doc/code_editor":"codeEditor","database/:database/_design/:ddoc":"showDesignDoc","database/:database/:doc":"codeEditor","database/:database/new":"codeEditor"},revisionBrowser:function(e,t){var n=r.default.urls("allDocs","app",r.default.url.encode(this.database.safeID())),a=r.default.urls("document","app",this.database.safeID(),this.docId),i=[{name:this.database.safeID(),link:n},{name:this.docId+" > Conflicts"}];return _.default.showConfirmModal(!1,null),_.default.initDiffEditor(e,t),o.default.createElement(v.DocEditorLayout,{crumbs:i,endpoint:this.doc.url("apiurl"),docURL:a,component:o.default.createElement(b.default.DiffyController,null)})},codeEditor:function(e,t){var n=r.default.urls("allDocs","app",r.default.url.encode(e)),a=[{name:e,link:n},{name:t||"New Document"}];return this.database=new c.default.Model({id:e}),t&&(this.doc=new d.default.Doc({_id:t},{database:this.database,fetchConflicts:!0})),p.default.initDocEditor({doc:this.doc,database:this.database}),o.default.createElement(v.DocEditorLayout,{crumbs:a,endpoint:this.doc.url("apiurl"),docURL:this.doc.documentation(),component:o.default.createElement(m.default.DocEditorController,{database:this.database,isNewDoc:!t})})},showDesignDoc:function(e,t){return this.codeEditor(e,"_design/"+t)}});t.default={DocEditorRouteObject:y}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(0),r=a(s),l=n(1),d=a(l),u=n(134),c=a(u),f=n(30),p=a(f),h=n(229),m=a(h),g=n(76),_=a(g),E=n(37),b=a(E),v=n(51),y=a(v),D=n(52),C=a(D),T=n(232),N=a(T),S=n(50),I=a(S),w=n(96),O=a(w),A=n(133),R=c.default.extend({routes:{"database/:database/_all_docs(:extra)":{route:"allDocs",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_info":{route:"designDocMetadata",roles:["fx_loggedIn"]},"database/:database/_changes":"changes"},initialize:function(e,t){this.initViews(t[0])},initViews:function(e){this.databaseName=e,this.database=new _.default.Model({id:this.databaseName}),this.createDesignDocsCollection(),this.addSidebar()},designDocMetadata:function(e,t){var n=new p.default.DdocInfo({_id:"_design/"+t},{database:this.database});N.default.fetchDesignDocInfo({ddocName:t,designDocInfo:n}),C.default.selectNavItem("designDoc",{designDocName:t,designDocSection:"metadata"}),O.default.hideQueryOptions();var a=this.getCrumbs(this.database);return r.default.createElement(A.ViewsTabsSidebarLayout,{showEditView:!1,docURL:n.documentation(),endpoint:n.url("apiurl"),dbName:this.database.id,dropDownLinks:a,database:this.database})},allDocs:function(e,t){var n,a=this.createParams(t),i=a.urlParams,s=a.docParams;if(["_replicator","_users"].indexOf(e)>-1){s.include_docs=!0,i=a.docParams;var l=d.default.urls("allDocs","app",e,"?"+$.param(i));d.default.navigate(l,{trigger:!1,replace:!0})}this.database.buildAllDocs(s),n=this.database.allDocs;var u="all-docs";s.startkey&&s.startkey.indexOf("_design")>-1&&(u="design-docs"),C.default.selectNavItem(u),I.default.showDeleteDatabaseModal({showDeleteModal:!1,dbId:""}),s||(s={});var c=o.default.utils.localStorageGet("include_docs_bulkdocs");window.localStorage.removeItem("include_docs_bulkdocs"),y.default.newResultsList({collection:n,textEmptyIndex:"No Documents Found",bulkCollection:new p.default.BulkDeleteDocCollection(c,{databaseId:this.database.safeID()})}),this.database.allDocs.paging.pageSize=b.default.indexResultsStore.getPerPage();var f=this.database.allDocs.urlRef("apiurl",i),h=this.database.allDocs.documentation();O.default.reset({queryParams:i}),O.default.showQueryOptions();var m=this.getCrumbs(this.database);return r.default.createElement(A.DocsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:h,endpoint:f,dbName:this.database.id,dropDownLinks:m,database:this.database,designDocs:this.designDocs})},changes:function(){return m.default.initChanges({databaseName:this.database.id}),C.default.selectNavItem("changes"),O.default.hideQueryOptions(),r.default.createElement(A.ChangesSidebarLayout,{endpoint:d.default.urls("changes","apiurl",this.database.id,""),docURL:this.database.documentation(),dbName:this.database.id,dropDownLinks:this.getCrumbs(this.database),database:this.database})}});t.default=R},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(134),d=a(l),u=n(30),c=a(u),f=n(132),p=a(f),h=n(76),m=a(h),g=n(37),_=a(g),E=n(51),b=a(E),v=n(52),y=a(v),D=n(133),C=d.default.extend({routes:{"database/:database/new_view":{route:"createView",roles:["fx_loggedIn"]},"database/:database/new_view/:designDoc":{route:"createView",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_view/:view":{route:"showView",roles:["fx_loggedIn"]},"database/:database/_design/:ddoc/_view/:view/edit":{route:"editView",roles:["fx_loggedIn"]}},initialize:function(e,t){var n=t[0];this.databaseName=n,this.database=new m.default.Model({id:n}),this.createDesignDocsCollection(),this.addSidebar()},showView:function(e,t,n){var a=this.createParams(),i=a.urlParams,s=a.docParams,l=decodeURIComponent(t);n=n.replace(/\?.*$/,""),this.indexedDocs=new c.default.IndexCollection(null,{database:this.database,design:l,view:n,params:s,paging:{pageSize:_.default.indexResultsStore.getPerPage()}}),p.default.clearIndex(),b.default.newResultsList({collection:this.indexedDocs,bulkCollection:new c.default.BulkDeleteDocCollection([],{databaseId:this.database.safeID()})}),p.default.fetchDesignDocsBeforeEdit({viewName:n,newView:!1,database:this.database,designDocs:this.designDocs,designDocId:"_design/"+l}),y.default.selectNavItem("designDoc",{designDocName:t,designDocSection:"Views",indexName:n}),this.showQueryOptions(i,t,n);var d=this.indexedDocs.urlRef("apiurl"),u=r.default.constants.DOC_URLS.GENERAL,f=this.getCrumbs(this.database);return o.default.createElement(D.DocsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:u,endpoint:d,dbName:this.database.id,dropDownLinks:f,database:this.database})},createView:function(e,t){var n=!0,a="new-doc";t&&(a="_design/"+t,n=!1),p.default.fetchDesignDocsBeforeEdit({viewName:"new-view",newView:!0,database:this.database,designDocs:this.designDocs,designDocId:a,newDesignDoc:n}),y.default.selectNavItem("");var i=this.getCrumbs(this.database);return o.default.createElement(D.ViewsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:r.default.constants.DOC_URLS.GENERAL,dbName:this.database.id,dropDownLinks:i,database:this.database})},editView:function(e,t,n){p.default.fetchDesignDocsBeforeEdit({viewName:n,newView:!1,database:this.database,designDocs:this.designDocs,designDocId:"_design/"+t}),y.default.selectNavItem("designDoc",{designDocName:t,designDocSection:"Views",indexName:n});var a=r.default.constants.DOC_URLS.GENERAL,i=r.default.urls("view","apiurl",e,t,n),s=this.getCrumbs(this.database);return o.default.createElement(D.ViewsTabsSidebarLayout,{showIncludeAllDocs:!0,docURL:a,endpoint:i,dbName:this.database.id,dropDownLinks:s,database:this.database})}});t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(11),r=a(s),l=n(1),d=a(l),u=n(77),c=a(u),f=n(30),p=a(f),h=n(51),m=a(h),g=n(37),_=a(g),E=n(97),b=a(E),v=n(243),y=a(v),D=n(52),C=a(D),T=n(447),N=d.default.RouteObject.extend({hideApiBar:!0,hideNotificationCenter:!0,routes:{"database/:database/_index":{route:"createIndex",roles:["fx_loggedIn"]},"database/:database/_find":{route:"findUsingIndex",roles:["fx_loggedIn"]}},initialize:function(e,t){var n=t[0];this.databaseName=n,this.database=new c.default.Model({id:n}),y.default.setDatabase({database:this.database})},findUsingIndex:function(e){var t=new p.default.MangoDocumentCollection(null,{database:this.database,paging:{pageSize:_.default.indexResultsStore.getPerPage()}}),n=new p.default.MangoIndexCollection(null,{database:this.database,params:null,paging:{pageSize:_.default.indexResultsStore.getPerPage()}});C.default.selectNavItem("mango-query"),m.default.newMangoResultsList({collection:t,textEmptyIndex:"No Results",bulkCollection:new p.default.BulkDeleteDocCollection([],{databaseId:this.database.safeID()})}),y.default.getIndexList({indexList:n});var a=d.default.urls("allDocs","app",this.database.safeID(),"?limit="+d.default.constants.DATABASES.DOCUMENT_LIMIT),i=[{name:e,link:a},{name:r.default.i18n.en_US["mango-title-editor"]}];return o.default.createElement(T.MangoLayout,{showIncludeAllDocs:!1,crumbs:i,docURL:d.default.constants.DOC_URLS.MANGO_SEARCH,endpoint:t.urlRef("query-apiurl",""),edit:!1})},createIndex:function(e){var t=new b.default.AllDocs(null,{database:this.database,paging:{pageSize:500},params:{startkey:"_design/",endkey:"_design0",include_docs:!0,limit:500}}),n=new p.default.MangoIndexCollection(null,{database:this.database,params:null,paging:{pageSize:_.default.indexResultsStore.getPerPage()}});m.default.newResultsList({collection:n,bulkCollection:new p.default.MangoBulkDeleteDocCollection([],{databaseId:this.database.safeID()}),typeOfIndex:"mango"});var a=d.default.urls("allDocs","app",this.database.safeID(),"?limit="+d.default.constants.DATABASES.DOCUMENT_LIMIT),i=[{name:e,link:a},{name:r.default.i18n.en_US["mango-indexeditor-title"]}];return o.default.createElement(T.MangoLayout,{showIncludeAllDocs:!1,crumbs:i,docURL:d.default.constants.DOC_URLS.MANGO_INDEX,endpoint:n.urlRef("index-apiurl",""),edit:!0,designDocs:t})}});t.default={MangoIndexEditorAndQueryEditor:N}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(97),o=a(i),s=n(452),r=a(s),l=n(451),d=a(l),u=n(453),c=a(u),f=n(454),p=a(f);o.default.RouteObjects=[d.default.DocEditorRouteObject,r.default,c.default,p.default.MangoIndexEditorAndQueryEditor],t.default=o.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(136),d=a(l);n(581);var u=r.default.addon();u.initialize=function(){var e=new u.VersionInfo;e.fetch().then(function(){d.default.setNavbarVersionInfo(e.get("version"))})},u.VersionInfo=Backbone.Model.extend({url:function(){return o.default.host}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NavBar=void 0;var i=n(1),o=a(i),s=n(0),r=a(s),l=n(10),d=(a(l),n(458)),u=a(d),c=n(136),f=a(c),p=u.default.navBarStore,h=r.default.createClass({displayName:"Footer",render:function(){var e=this.props.version;return e?r.default.createElement("div",{className:"version-footer"},"Fauxton on "," ",r.default.createElement("a",{href:"https://github.com/pouchdb/express-pouchdb/"},"express-pouchdb")," "," v. ",e):null}}),m=r.default.createClass({displayName:"Burger",render:function(){return r.default.createElement("div",{className:"burger",onClick:this.props.toggleMenu},r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null))}}),g=r.default.createClass({displayName:"NavLink",render:function(){var e=this.props.link,t=this.props.active===e.title?"active":"";return r.default.createElement("li",{"data-nav-name":e.title,className:t},r.default.createElement("a",{href:e.href,target:e.target?"_blank":null,"data-bypass":e.target?"true":null},r.default.createElement("i",{className:e.icon+" fonticon "}),r.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.title}})))}}),E=t.NavBar=r.default.createClass({displayName:"NavBar",getStoreState:function(){return{navLinks:p.getNavLinks(),bottomNavLinks:p.getBottomNavLinks(),footerNavLinks:p.getFooterNavLinks(),activeLink:p.getActiveLink(),version:p.getVersion(),isMinimized:p.isMinimized(),isNavBarVisible:p.isNavBarVisible()}},getInitialState:function(){return this.getStoreState()},createLinks:function(e){return _.map(e,function(e,t){return r.default.createElement(g,{key:t,link:e,active:this.state.activeLink})},this)},onChange:function(){this.setState(this.getStoreState())},setMenuState:function(){$("body").toggleClass("closeMenu",this.state.isMinimized),o.default.Events.trigger(o.default.constants.EVENTS.NAVBAR_SIZE_CHANGED,this.state.isMinimized)},componentDidMount:function(){p.on("change",this.onChange,this),this.setMenuState()},componentDidUpdate:function(){this.setMenuState()},componentWillUnmount:function(){p.off("change",this.onChange)},toggleMenu:function(){f.default.toggleNavbarMenu()},render:function(){if(!this.state.isNavBarVisible)return $("#primary-navbar").hide(),null;$("#primary-navbar").show();var e=this.createLinks(this.state.navLinks),t=this.createLinks(this.state.bottomNavLinks),n=this.createLinks(this.state.footerNavLinks);return r.default.createElement("div",{className:"navbar"},r.default.createElement(m,{toggleMenu:this.toggleMenu}),r.default.createElement("nav",{id:"main_navigation"},r.default.createElement("ul",{id:"nav-links",className:"nav"},e,t)),r.default.createElement("div",{id:"primary-nav-right-shadow"}),r.default.createElement("div",{className:"bottom-container"},r.default.createElement("div",{className:"brand"},r.default.createElement("div",{className:"icon"},"Apache Fauxton")),r.default.createElement(h,{version:this.state.version}),r.default.createElement("div",{id:"footer-links"},r.default.createElement("ul",{id:"footer-nav-links",className:"nav"},n))))}});t.default={NavBar:E,Burger:m}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(255),d=a(l),u={};u.NavBarStore=r.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._activeLink=null,this._version=null,this._navLinks=[],this._footerNavLinks=[],this._bottomNavLinks=[],this._navBarVisible=!0},isNavBarVisible:function(){return this._navBarVisible},showNavBar:function(){this._navBarVisible=!0},hideNavBar:function(){this._navBarVisible=!1},addLink:function(e){return e.top&&!e.bottomNav?void this._navLinks.unshift(e):e.top&&e.bottomNav?void this._bottomNavLinks.unshift(e):e.bottomNav?void this._bottomNavLinks.push(e):e.footerNav?void this._footerNavLinks.push(e):void this._navLinks.push(e)},removeLink:function(e){var t=this.getLinkSection(e),n=0;_.filter(t,function(t){return t.id===e.id||(n++,!1)}).length&&t.splice(n,1)},getNavLinks:function(){return this._navLinks},getBottomNavLinks:function(){return this._bottomNavLinks},getFooterNavLinks:function(){return this._footerNavLinks},toggleMenu:function(){o.default.utils.localStorageSet(r.default.constants.LOCAL_STORAGE.SIDEBAR_MINIMIZED,!this.isMinimized())},getLinkSection:function(e){var t=this._navLinks;return e.bottomNav&&(t=this._bottomNavLinks),e.footerNav&&(t=this._footerNavLinks),t},updateLink:function(e){var t=void 0,n=this.getLinkSection(e);(t=_.find(n,function(t){return t.id===e.id}))&&(t.title=e.title,t.href=e.href)},getVersion:function(){return this._version},setVersion:function(e){this._version=e},getActiveLink:function(){return this._activeLink},setActiveLink:function(e){this._activeLink=e},isMinimized:function(){var e=o.default.utils.localStorageGet(r.default.constants.LOCAL_STORAGE.SIDEBAR_MINIMIZED);return!_.isUndefined(e)&&e},dispatch:function(e){switch(e.type){case d.default.ADD_NAVBAR_LINK:this.addLink(e.link);break;case d.default.TOGGLE_NAVBAR_MENU:this.toggleMenu();break;case d.default.UPDATE_NAVBAR_LINK:this.updateLink(e.link);break;case d.default.CLEAR_NAVBAR_LINK:this.reset();break;case d.default.REMOVE_NAVBAR_LINK:this.removeLink(e.link);break;case d.default.NAVBAR_SET_VERSION_INFO:this.setVersion(e.version);break;case d.default.NAVBAR_ACTIVE_LINK:this.setActiveLink(e.name);break;case d.default.NAVBAR_HIDE:this.hideNavBar();break;case d.default.NAVBAR_SHOW:this.showNavBar();break;default:return}this.triggerChange()}}),u.navBarStore=new u.NavBarStore,u.navBarStore.dispatchToken=r.default.dispatcher.register(u.navBarStore.dispatch),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){h.default.dispatch({type:g.default.ADD_NOTIFICATION,options:{info:e}})}function o(){h.default.dispatch({type:g.default.SHOW_NOTIFICATION_CENTER})}function s(){h.default.dispatch({type:g.default.HIDE_NOTIFICATION_CENTER})}function r(){h.default.dispatch({type:g.default.CLEAR_ALL_NOTIFICATIONS})}function l(e){h.default.dispatch({type:g.default.CLEAR_SINGLE_NOTIFICATION,options:{notificationId:e}})}function d(e){h.default.dispatch({type:g.default.SELECT_NOTIFICATION_FILTER,options:{filter:e}})}function u(e){h.default.dispatch({type:g.default.START_HIDING_NOTIFICATION,options:{notificationId:e}})}function c(e){h.default.dispatch({type:g.default.HIDE_NOTIFICATION,options:{notificationId:e}})}function f(){h.default.dispatch({type:g.default.HIDE_ALL_NOTIFICATIONS})}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=a(p),m=n(256),g=a(m);t.default={addNotification:i,showNotificationCenter:o,hideNotificationCenter:s,clearAllNotifications:r,clearSingleNotification:l,selectNotificationFilter:d,startHidingNotification:u,hideNotification:c,hideAllVisibleNotifications:f}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(11),r=a(s),l=n(256),d=a(l),u=n(170),c=a(u),f={},p=0,h=["success","error","info"];f.NotificationStore=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._notifications=[],this._notificationCenterVisible=!1,this._selectedNotificationFilter="all",this._permanentNotificationVisible=!1,this._permanentNotificationMessage=""},isNotificationCenterVisible:function(){return this._notificationCenterVisible},isPermanentNotificationVisible:function(){return this._permanentNotificationVisible},addNotification:function(e){if(_.isEmpty(e.type)||!_.includes(h,e.type))return void console.warn("Invalid message type: ",e);e.notificationId=++p,e.cleanMsg=r.default.utils.stripHTML(e.msg),e.time=(0,c.default)(),e.visible=!0,e.isHiding=!1,e.clear&&this._notifications.forEach(function(e){e.visible&&(e.isHiding=!0)}),this._notifications.unshift(e)},getNotifications:function(){return this._notifications},getPermanentNotificationMessage:function(){return this._permanentNotificationMessage},setPermanentNotificationMessage:function(e){this._permanentNotificationMessage=e},clearNotification:function(e){this._notifications=_.without(this._notifications,_.findWhere(this._notifications,{notificationId:e}))},clearNotifications:function(){this._notifications=[]},hideNotification:function(e){var t=_.findWhere(this._notifications,{notificationId:e});t.visible=!1,t.isHiding=!1},hideAllNotifications:function(){this._notifications.forEach(function(e){e.visible&&(e.isHiding=!0)})},startHidingNotification:function(e){_.findWhere(this._notifications,{notificationId:e}).isHiding=!0},getNotificationFilter:function(){return this._selectedNotificationFilter},setNotificationFilter:function(e){if((_.isEmpty(e)||!_.includes(h,e))&&"all"!==e)return void console.warn("Invalid notification filter: ",e);this._selectedNotificationFilter=e},dispatch:function(e){switch(e.type){case d.default.ADD_NOTIFICATION:this.addNotification(e.options.info),this.triggerChange();break;case d.default.CLEAR_ALL_NOTIFICATIONS:this.clearNotifications(),this.triggerChange();break;case d.default.CLEAR_SINGLE_NOTIFICATION:this.clearNotification(e.options.notificationId);break;case d.default.START_HIDING_NOTIFICATION:this.startHidingNotification(e.options.notificationId),this.triggerChange();break;case d.default.HIDE_NOTIFICATION:this.hideNotification(e.options.notificationId),this.triggerChange();break;case d.default.HIDE_ALL_NOTIFICATIONS:this.hideAllNotifications(),this.triggerChange();break;case d.default.SHOW_NOTIFICATION_CENTER:this._notificationCenterVisible=!0,this.triggerChange();break;case d.default.HIDE_NOTIFICATION_CENTER:this._notificationCenterVisible=!1,this.triggerChange();break;case d.default.SELECT_NOTIFICATION_FILTER:this.setNotificationFilter(e.options.filter),this.triggerChange();break;case d.default.SHOW_PERMANENT_NOTIFICATION:this._permanentNotificationVisible=!0,this.setPermanentNotificationMessage(e.options.msg),this.triggerChange();break;case d.default.HIDE_PERMANENT_NOTIFICATION:this._permanentNotificationVisible=!1,this.triggerChange();break;default:return}}}),f.notificationStore=new f.NotificationStore,f.notificationStore.dispatchToken=o.default.dispatcher.register(f.notificationStore.dispatch),t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(468),r=a(s),l=n(260),d=a(l);n(582),r.default.initialize=function(){},o.default.addReducers({permissions:d.default}),t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(464),c=a(u),f=n(257),p=n(215),h=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.url;t((0,f.fetchPermissions)(n))}},{key:"render",value:function(){return this.props.isLoading?d.default.createElement(p.LoadLines,null):d.default.createElement(c.default,this.props)}}]),t}(l.Component);t.default=h,h.propTypes={isLoading:l.PropTypes.bool.isRequired,adminRoles:d.default.PropTypes.array.isRequired,adminNames:d.default.PropTypes.array.isRequired,memberNames:d.default.PropTypes.array.isRequired,memberRoles:d.default.PropTypes.array.isRequired,readerNames:d.default.PropTypes.array.isRequired,readerRoles:d.default.PropTypes.array.isRequired,writerNames:d.default.PropTypes.array.isRequired,writerRoles:d.default.PropTypes.array.isRequired,security:d.default.PropTypes.object.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=function(e){var t=e.removeItem,n=e.section,a=e.type,i=e.value;return o.default.createElement("li",{className:"permissions__entry"},o.default.createElement("span",null,i),o.default.createElement("button",{onClick:function(){return t(n,a,i)},type:"button",className:"pull-right close"},"×"))};s.propTypes={value:o.default.PropTypes.string.isRequired,removeItem:i.PropTypes.func.isRequired},t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1),d=a(l),u=n(0),c=a(u),f=n(465),p=a(f),h=n(257),m=n(259),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addItem=n.addItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return s(t,e),r(t,[{key:"addItem",value:function(e){var t=e.section,n=e.type,a=e.value;if((0,m.isValueAlreadySet)(this.props.security,t,n,a))return d.default.addNotification({msg:"Role/Name has already been added",type:"error"}),null;this.props.dispatch((0,h.updatePermission)(this.props.url,this.props.security,t,n,a))}},{key:"removeItem",value:function(e,t,n){this.props.dispatch((0,h.deletePermission)(this.props.url,this.props.security,e,t,n))}},{key:"render",value:function(){var e=this.props,t=e.adminRoles,n=e.adminNames,a=e.memberRoles,i=e.memberNames,o=e.readerRoles,s=e.readerNames,r=e.writerRoles,l=e.writerNames;return c.default.createElement("div",{className:"permissions-page flex-body"},c.default.createElement("div",null,c.default.createElement(p.default,{roles:t,names:n,addItem:this.addItem,removeItem:this.removeItem,section:"admins"}),c.default.createElement(p.default,{roles:a,names:i,addItem:this.addItem,removeItem:this.removeItem,section:"members"}),c.default.createElement(p.default,{roles:o,names:s,addItem:this.addItem,removeItem:this.removeItem,section:"readers"}),c.default.createElement(p.default,{roles:r,names:l,addItem:this.addItem,removeItem:this.removeItem,section:"writers"})))}}]),t}(u.Component);t.default=g,g.propTypes={security:c.default.PropTypes.object.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(11),d=a(l),u=n(20),c=a(u),f=n(463),p=a(f),h=d.default.helpers.getDocUrl,m=o.default.createClass({displayName:"PermissionsSection",getInitialState:function(){return{newRole:"",newName:""}},getDefaultProps:function(){return{names:[],roles:[]}},getHelp:function(){return this.props.section,"Database members can access the database. If no members are defined, the database is public. "},isEmptyValue:function(e,t){return!!c.default.isEmpty(e)&&(r.default.addNotification({msg:"Cannot add an empty value for "+t+".",type:"error"}),!0)},addNames:function(e){e.preventDefault(),this.isEmptyValue(this.state.newName,"names")||(this.props.addItem({type:"names",section:this.props.section,value:this.state.newName}),this.setState({newName:""}))},addRoles:function(e){e.preventDefault(),this.isEmptyValue(this.state.newRole,"roles")||(this.props.addItem({type:"roles",section:this.props.section,value:this.state.newRole}),this.setState({newRole:""}))},getItems:function(e,t){var n=this;return e.map(function(e,a){return o.default.createElement(p.default,{key:a,value:e,section:n.props.section,type:t,removeItem:n.props.removeItem})})},getNames:function(){return this.getItems(this.props.names,"names")},getRoles:function(){return this.getItems(this.props.roles,"roles")},nameChange:function(e){this.setState({newName:e.target.value})},roleChange:function(e){this.setState({newRole:e.target.value})},render:function(){var e=this.props.section;return o.default.createElement("div",{className:"permissions__"+e},o.default.createElement("header",{className:"page-header"},o.default.createElement("h3",null,e),o.default.createElement("p",{className:"help"},this.getHelp(),o.default.createElement("a",{className:"help-link","data-bypass":"true",href:h("DB_PERMISSION"),target:"_blank"},o.default.createElement("i",{className:"icon-question-sign"})))),o.default.createElement("div",{className:"row-fluid"},o.default.createElement("div",{className:"span6"},o.default.createElement("header",null,o.default.createElement("h4",null,"Users"),o.default.createElement("p",null,"Specify users who will have ",this.props.section," access to this database.")),o.default.createElement("form",{onSubmit:this.addNames,className:"permission-item-form permissions-add-user form-inline"},o.default.createElement("input",{onChange:this.nameChange,value:this.state.newName,type:"text",className:"item input-small",placeholder:"Username"}),o.default.createElement("button",{type:"submit",className:"btn btn-primary"},o.default.createElement("i",{className:"icon fonticon-plus-circled"})," Add User")),o.default.createElement("ul",{className:"unstyled permission-items span10"},this.getNames())),o.default.createElement("div",{className:"span6"},o.default.createElement("header",null,o.default.createElement("h4",null,"Roles"),o.default.createElement("p",null,"Users with any of the following role(s) will have ",this.props.section," access.")),o.default.createElement("form",{onSubmit:this.addRoles,className:"permission-item-form permissions-add-role form-inline"},o.default.createElement("input",{onChange:this.roleChange,value:this.state.newRole,type:"text",className:"item input-small",placeholder:"Role"}),o.default.createElement("button",{type:"submit",className:"btn btn-primary"},o.default.createElement("i",{className:"icon fonticon-plus-circled"})," Add Role")),o.default.createElement("ul",{className:"unstyled permission-items span10"},this.getRoles()))))}});t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(202),o=n(462),s=a(o),r=n(260),l=function(e){var t=e.permissions;return{isLoading:(0,r.getIsLoading)(t),adminRoles:(0,r.getAdminRoles)(t),adminNames:(0,r.getAdminNames)(t),memberNames:(0,r.getMemberNames)(t),memberRoles:(0,r.getMemberRoles)(t),security:(0,r.getSecurity)(t)}};t.default=(0,i.connect)(l)(s.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsLayout=void 0;var i=n(0),o=a(i),s=n(133),r=n(466),l=a(r),d=n(253),u=a(d),c=t.PermissionsLayout=function(e){var t=e.docURL,n=e.database,a=e.endpoint,i=e.dbName,r=e.dropDownLinks;return o.default.createElement("div",{id:"dashboard",className:"with-sidebar"},o.default.createElement(s.TabsSidebarHeader,{hideHeaderBar:!0,docURL:t,endpoint:a,dbName:i,dropDownLinks:r,database:n}),o.default.createElement("div",{className:"with-sidebar tabs-with-sidebar content-area"},o.default.createElement("aside",{id:"sidebar-content",className:"scrollable"},o.default.createElement(u.default.SidebarController,null)),o.default.createElement("section",{id:"dashboard-content",className:"flex-layout flex-col"},o.default.createElement(l.default,{url:a}))))};t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=a(i),s=n(1),r=a(s),l=n(76),d=a(l),u=n(134),c=a(u),f=n(467),p=a(f),h=n(0),m=a(h),g=c.default.extend({roles:["fx_loggedIn"],routes:{"database/:database/permissions":"permissions"},initialize:function(){o.default.getParams().include_docs=!0},permissions:function(e){this.database=new d.default.Model({id:e}),this.createDesignDocsCollection(),this.addSidebar("permissions");var t=[{name:this.database.id,link:d.default.databaseUrl(e)},{name:"Permissions"}],n=r.default.urls("permissions","server",e);return m.default.createElement(p.default,{docURL:r.default.constants.DOC_URLS.DB_PERMISSION,endpoint:n,dbName:this.database.id,dropDownLinks:t,database:this.database})}}),_={RouteObjects:[g]};t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(583),n(600),t.default={initialize:function(){}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(480),r=a(s);n(584);var l=n(137),d=a(l);r.default.initialize=function(){o.default.addHeaderLink({title:"Replication",href:"#/replication",icon:"fonticon-replicate"}),o.default.session.on("authenticated",function(){o.default.session.isLoggedIn()&&d.default.checkForNewApi()})},o.default.registerUrls("replication",{app:function(e){return"#/replication/"+e},api:function(){return window.location.origin+"/_replicator"}}),t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(98),c=n(264),f=n(263),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1,unconfirmedDeleteDocId:null},n}return s(t,e),r(t,[{key:"closeModal",value:function(){this.setState({modalVisible:!1,unconfirmedDeleteDocId:null})}},{key:"showModal",value:function(e){this.setState({modalVisible:!0,unconfirmedDeleteDocId:e})}},{key:"confirmDeleteDocs",value:function(){var e=this,t=[];if(this.state.unconfirmedDeleteDocId){var n=this.props.docs.find(function(t){return t._id===e.state.unconfirmedDeleteDocId});t.push(n)}else t=this.props.docs.filter(function(e){return e.selected});this.props.deleteDocs(t),this.closeModal()}},{key:"numDocsSelected",value:function(){return this.props.docs.filter(function(e){return e.selected}).length}},{key:"render",value:function(){var e=this.props,t=e.onFilterChange,n=e.activitySort,a=e.changeActivitySort,i=e.docs,o=e.filter,s=e.selectAllDocs,r=e.someDocsSelected,l=e.allDocsSelected,p=e.selectDoc,h=this.state.modalVisible;return d.default.createElement("div",{className:"replication__activity"},d.default.createElement("p",{className:"replication__activity-caveat"},"Replications must have a replication document to display in the following table."),d.default.createElement(f.ReplicationHeader,{filter:o,onFilterChange:t}),d.default.createElement(c.ReplicationTable,{someDocsSelected:r,allDocsSelected:l,selectAllDocs:s,docs:i,selectDoc:p,deleteDocs:this.showModal.bind(this),descending:n.descending,column:n.column,changeSort:a}),d.default.createElement(u.DeleteModal,{isReplicationDB:!0,multipleDocs:this.numDocsSelected(),visible:h,onClose:this.closeModal.bind(this),onClick:this.confirmDeleteDocs.bind(this)}))}}]),t}(d.default.Component);t.default=p,p.propTypes={docs:d.default.PropTypes.array.isRequired,filter:d.default.PropTypes.string.isRequired,selectAllDocs:d.default.PropTypes.func.isRequired,allDocsSelected:d.default.PropTypes.bool.isRequired,someDocsSelected:d.default.PropTypes.bool.isRequired,selectDoc:d.default.PropTypes.func.isRequired,onFilterChange:d.default.PropTypes.func.isRequired,deleteDocs:d.default.PropTypes.func.isRequired,activitySort:d.default.PropTypes.object.isRequired,changeActivitySort:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(11),c=a(u),f=n(1),p=a(f),h=n(475),m=n(477),g=n(473),E=n(476),b=n(127),v=a(b),y=n(53),D=a(y),C=n(98),T=n(20),N=v.default.PasswordModal,S=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=n.submit.bind(n),n.clear=n.clear.bind(n),n.showPasswordModal=n.showPasswordModal.bind(n),n.runReplicationChecks=n.runReplicationChecks.bind(n),n}return s(t,e),r(t,[{key:"clear",value:function(e){e.preventDefault(),this.props.clearReplicationForm()}},{key:"showPasswordModal",value:function(){this.props.hideConflictModal();var e=this.props,t=e.replicationSource,n=e.replicationTarget;if(t!==D.default.REPLICATION_SOURCE.LOCAL&&n!==D.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE&&n!==D.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE||this.props.authenticated||p.default.session.isAdminParty())return void this.submit(this.props.username,this.props.password);this.props.showPasswordModal()}},{key:"checkReplicationDocID",value:function(){var e=this,t=this.props,n=t.showConflictModal,a=t.replicationDocName;(0,t.checkReplicationDocID)(a).then(function(t){if(t)return void n();e.showPasswordModal()})}},{key:"runReplicationChecks",value:function(){var e=this.props.replicationDocName;if(this.validate())return e?void this.checkReplicationDocID():void this.showPasswordModal()}},{key:"validate",value:function(){var e=this.props,t=e.remoteTarget,n=e.remoteSource,a=e.replicationTarget,i=e.localTarget,o=e.localSource,s=e.databases;if(a===D.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE&&_.includes(s,i))return p.default.addNotification({msg:"The <code>"+i+"</code> database already exists locally. Please enter another database name.",type:"error",escape:!1,clear:!0}),!1;if(a===D.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE||a===D.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE){var r="";if(/\s/.test(i)?r="The target database may not contain any spaces.":/^_/.test(i)&&(r="The target database may not start with an underscore."),r)return p.default.addNotification({msg:r,type:"error",escape:!1,clear:!0}),!1}return!(t===n&&!(0,T.isEmpty)(t)||o===i&&!(0,T.isEmpty)(o))||(p.default.addNotification({msg:"Cannot replicate a database to itself",type:"error",escape:!1,clear:!0}),!1)}},{key:"submit",value:function(e,t){var n=this.props,a=n.replicationTarget,i=n.replicationSource,o=n.replicationType,s=n.replicationDocName,r=n.remoteTarget,l=n.remoteSource,d=n.localTarget,u=n.localSource,c=void 0;if(s){var f=this.props.docs.find(function(e){return e._id===s});f&&(c=f._rev)}this.props.replicate({replicationTarget:a,replicationSource:i,replicationType:o,replicationDocName:s,username:e,password:t,localTarget:d,localSource:u,remoteTarget:r,remoteSource:l,_rev:c})}},{key:"confirmButtonEnabled",value:function(){var e=this.props,t=e.remoteSource,n=e.localSourceKnown,a=e.replicationSource,i=e.replicationTarget,o=e.localTargetKnown,s=e.localTarget;return!(e.submittedNoChange||!a||!i||a===D.default.REPLICATION_SOURCE.LOCAL&&!n||i===D.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE&&!o||i===D.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE&&!s||a===D.default.REPLICATION_SOURCE.REMOTE&&""===t)}},{key:"render",value:function(){var e=this.props,t=e.replicationSource,n=e.replicationTarget,a=e.replicationType,i=e.replicationDocName,o=e.passwordModalVisible,s=e.conflictModalVisible,r=e.databases,l=e.localSource,u=e.remoteSource,f=e.remoteTarget,p=e.localTarget,_=e.updateFormField,b=e.clearReplicationForm;return d.default.createElement("div",null,d.default.createElement(h.ReplicationSource,{replicationSource:t,localSource:l,databases:r,remoteSource:u,onSourceSelect:_("replicationSource"),onRemoteSourceChange:_("remoteSource"),onLocalSourceChange:_("localSource")}),d.default.createElement("hr",{className:"replication__seperator",size:"1"}),d.default.createElement(m.ReplicationTarget,{replicationTarget:n,onTargetChange:_("replicationTarget"),databases:r,localTarget:p,remoteTarget:f,onRemoteTargetChange:_("remoteTarget"),onLocalTargetChange:_("localTarget")}),d.default.createElement("hr",{className:"replication__seperator",size:"1"}),d.default.createElement(g.ReplicationOptions,{replicationType:a,replicationDocName:i,onDocChange:_("replicationDocName"),onTypeChange:_("replicationType")}),d.default.createElement(E.ReplicationSubmit,{disabled:!this.confirmButtonEnabled(),onClick:this.runReplicationChecks,onClear:b}),d.default.createElement(N,{visible:o,modalMessage:d.default.createElement("p",null,c.default.i18n.en_US["replication-password-modal-text"]),submitBtnLabel:"Start Replication",headerTitle:c.default.i18n.en_US["replication-password-modal-header"],onSuccess:this.submit}),d.default.createElement(C.ConflictModal,{visible:s,onClick:this.showPasswordModal,onClose:this.props.hideConflictModal,docId:i}))}}]),t}(d.default.Component);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationOptions=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(53),c=a(u),f=n(17),p=a(f),h=p.default.StyledSelect,m=function(){return[{value:c.default.REPLICATION_TYPE.ONE_TIME,label:"One time"},{value:c.default.REPLICATION_TYPE.CONTINUOUS,label:"Continuous"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},g=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication Type:"),d.default.createElement("div",{className:"replication__input-select"},d.default.createElement(h,{selectContent:m(),selectChange:function(e){return n(e.target.value)},selectId:"replication-target",selectValue:t})))};g.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired};var _=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication Document:"),d.default.createElement("div",{className:"replication__doc-name"},d.default.createElement("span",{className:"fonticon fonticon-cancel replication__doc-name-icon",title:"Clear field",onClick:function(){return n("")}}),d.default.createElement("input",{type:"text",className:"replication__doc-name-input",placeholder:"Custom ID (optional)",value:t,onChange:function(e){return n(e.target.value)}})))};_.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired},(t.ReplicationOptions=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.replicationType,n=e.replicationDocName,a=e.onDocChange,i=e.onTypeChange;return d.default.createElement("div",null,d.default.createElement(g,{onChange:i,value:t}),d.default.createElement(_,{onChange:a,value:n}))}}]),t}(d.default.Component)).propTypes={replicationDocName:d.default.PropTypes.string.isRequired,replicationType:d.default.PropTypes.string.isRequired,onDocChange:d.default.PropTypes.func.isRequired,onTypeChange:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(98),c=n(264),f=n(263),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={modalVisible:!1,unconfirmedDeleteDocId:null},n}return s(t,e),r(t,[{key:"closeModal",value:function(){this.setState({modalVisible:!1,unconfirmedDeleteDocId:null})}},{key:"showModal",value:function(e){this.setState({modalVisible:!0,unconfirmedDeleteDocId:e})}},{key:"confirmDeleteDocs",value:function(){var e=this,t=[];if(this.state.unconfirmedDeleteDocId){var n=this.props.docs.find(function(t){return t._id===e.state.unconfirmedDeleteDocId});t.push(n)}else t=this.props.docs.filter(function(e){return e.selected});this.props.deleteDocs(t),this.closeModal()}},{key:"numDocsSelected",value:function(){return this.props.docs.filter(function(e){return e.selected}).length}},{key:"render",value:function(){var e=this.props,t=e.onFilterChange,n=e.activitySort,a=e.changeActivitySort,i=e.docs,o=e.filter,s=e.selectAllDocs,r=e.someDocsSelected,l=e.allDocsSelected,p=e.selectDoc,h=this.state.modalVisible;return d.default.createElement("div",{className:"replication__activity"},d.default.createElement("p",{className:"replication__activity-caveat"},"Active _replicate jobs are displayed. Completed and failed jobs are not."),d.default.createElement(f.ReplicationHeader,{filter:o,onFilterChange:t}),d.default.createElement(c.ReplicationTable,{onlyDeleteAction:!0,showStateRow:!1,someDocsSelected:r,allDocsSelected:l,selectAllDocs:s,docs:i,selectDoc:p,deleteDocs:this.showModal.bind(this),descending:n.descending,column:n.column,changeSort:a}),d.default.createElement(u.DeleteModal,{isReplicationDB:!1,multipleDocs:this.numDocsSelected(),visible:h,onClose:this.closeModal.bind(this),onClick:this.confirmDeleteDocs.bind(this)}))}}]),t}(d.default.Component);t.default=p,p.propTypes={docs:d.default.PropTypes.array.isRequired,filter:d.default.PropTypes.string.isRequired,selectAllDocs:d.default.PropTypes.func.isRequired,allDocsSelected:d.default.PropTypes.bool.isRequired,someDocsSelected:d.default.PropTypes.bool.isRequired,selectDoc:d.default.PropTypes.func.isRequired,onFilterChange:d.default.PropTypes.func.isRequired,deleteDocs:d.default.PropTypes.func.isRequired,activitySort:d.default.PropTypes.object.isRequired,changeActivitySort:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationSource=t.ReplicationSourceSelect=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(53),c=a(u),f=n(17),p=a(f),h=n(41),m=a(h),g=n(265),_=a(g),E=p.default.StyledSelect,b=function(e){var t=e.onChange,n=e.value;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Database URL:"),d.default.createElement("div",{className:""},d.default.createElement("input",{type:"text",className:"replication__remote-connection-url",placeholder:"https://",value:n,onChange:function(e){return t(e.target.value)}}),d.default.createElement(_.default,null)))};b.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired};var v=function(e){var t=e.value,n=e.onChange,a=e.databases,i=a.map(function(e){return{value:e,label:e}});return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Source Name:"),d.default.createElement("div",{className:"replication__input-react-select"},d.default.createElement(m.default,{name:"source-name",value:t,placeholder:"Database name",options:i,clearable:!1,onChange:function(e){var t=e.value;return n(t)}})))};v.propTypes={value:d.default.PropTypes.string.isRequired,databases:d.default.PropTypes.array.isRequired,onChange:d.default.PropTypes.func.isRequired};var y=function(e){var t=e.replicationSource,n=e.databases,a=e.localSource,i=e.remoteSource,o=e.onChangeRemote,s=e.onChangeLocal;return t===c.default.REPLICATION_SOURCE.LOCAL?d.default.createElement(v,{value:a,databases:n,onChange:s}):d.default.createElement(b,{value:i,onChange:o})};y.propTypes={replicationSource:d.default.PropTypes.string.isRequired,databases:d.default.PropTypes.array.isRequired,localSource:d.default.PropTypes.string.isRequired,remoteSource:d.default.PropTypes.string.isRequired,onChangeRemote:d.default.PropTypes.func.isRequired,onChangeLocal:d.default.PropTypes.func.isRequired};var D=function(){return[{value:"",label:"Select source"},{value:c.default.REPLICATION_SOURCE.LOCAL,label:"Local database"},{value:c.default.REPLICATION_SOURCE.REMOTE,label:"Remote database"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},C=t.ReplicationSourceSelect=function(e){var t=e.onChange,n=e.value;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication Source:"),d.default.createElement("div",{className:"replication__input-select"},d.default.createElement(E,{selectContent:D(),selectChange:function(e){return t(e.target.value)},selectId:"replication-source",selectValue:n})))};C.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired},(t.ReplicationSource=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"getReplicationSourceRow",value:function(){var e=this.props,t=e.replicationSource,n=e.localSource,a=e.onLocalSourceChange,i=e.onRemoteSourceChange,o=e.remoteSource,s=e.databases;return t?d.default.createElement(y,{replicationSource:t,databases:s,localSource:n,remoteSource:o,onChangeLocal:a,onChangeRemote:i}):null}},{key:"render",value:function(){var e=this.props,t=e.replicationSource,n=e.onSourceSelect;return d.default.createElement("div",null,d.default.createElement(C,{onChange:n,value:t}),this.getReplicationSourceRow())}}]),t}(d.default.Component)).propTypes={replicationSource:d.default.PropTypes.string.isRequired,localSource:d.default.PropTypes.string.isRequired,remoteSource:d.default.PropTypes.string.isRequired,databases:d.default.PropTypes.array.isRequired,onLocalSourceChange:d.default.PropTypes.func.isRequired,onRemoteSourceChange:d.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationSubmit=void 0;var i=n(0),o=a(i),s=n(17),r=a(s),l=r.default.ConfirmButton;(t.ReplicationSubmit=function(e){var t=e.onClear,n=e.disabled,a=e.onClick;return o.default.createElement("div",{className:"replication__button-row"},o.default.createElement(l,{customIcon:"fonticon-replicate",id:"replicate",text:"Start Replication",onClick:a,disabled:n}),o.default.createElement("a",{className:"replication__clear-link",href:"#","data-bypass":"true",onClick:function(e){e.preventDefault(),t()}},"Clear"))}).propTypes={disabled:o.default.PropTypes.bool.isRequired,onClick:o.default.PropTypes.func.isRequired,onClear:o.default.PropTypes.func.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplicationTarget=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),d=a(l),u=n(53),c=a(u),f=n(17),p=a(f),h=n(41),m=a(h),g=n(265),_=a(g),E=p.default.StyledSelect,b=function(){return[{value:"",label:"Select target"},{value:c.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE,label:"Existing local database"},{value:c.default.REPLICATION_TARGET.EXISTING_REMOTE_DATABASE,label:"Existing remote database"},{value:c.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE,label:"New local database"},{value:c.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE,label:"New remote database"}].map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})},v=function(e){var t=e.value,n=e.onChange;return d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},"Replication Target:"),d.default.createElement("div",{id:"replication-target",className:"replication__input-select"},d.default.createElement(E,{selectContent:b(),selectChange:function(e){return n(e.target.value)},selectId:"replication-target",selectValue:t})))};v.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired};var y=function(e){var t=e.onChange,n=e.value,a=e.newRemote;return d.default.createElement("div",null,d.default.createElement("input",{type:"text",className:"replication__remote-connection-url",placeholder:"https://",value:n,onChange:function(e){return t(e.target.value)}}),d.default.createElement(_.default,{newRemote:a}))};y.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired};var D=function(e){var t=e.onChange,n=e.value,a=e.databases,i=a.map(function(e){return{value:e,label:e}});return d.default.createElement("div",{id:"replication-target-local",className:"replication__input-react-select"},d.default.createElement(m.default,{value:n,options:i,placeholder:"Database name",clearable:!1,onChange:function(e){var n=e.value;return t(n)}}))};D.propTypes={value:d.default.PropTypes.string.isRequired,databases:d.default.PropTypes.array.isRequired,onChange:d.default.PropTypes.func.isRequired};var C=function(e){var t=e.onChange,n=e.value;return d.default.createElement("input",{type:"text",className:"replication__new-input",placeholder:"Database name",value:n,onChange:function(e){return t(e.target.value)}})};C.propTypes={value:d.default.PropTypes.string.isRequired,onChange:d.default.PropTypes.func.isRequired};var T=function(e){var t=e.replicationTarget,n=e.onLocalTargetChange,a=e.onRemoteTargetChange,i=e.localTarget,o=e.remoteTarget,s=e.databases;if(!t)return null;var r=void 0;t===c.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE?(l="New Database:",r=d.default.createElement(C,{value:i,onChange:n})):r=t===c.default.REPLICATION_TARGET.EXISTING_LOCAL_DATABASE?d.default.createElement(D,{onChange:n,databases:s,value:i}):d.default.createElement(y,{onChange:a,value:o,newRemote:c.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE===t});var l="Target Name:";return t!==c.default.REPLICATION_TARGET.NEW_REMOTE_DATABASE&&t!==c.default.REPLICATION_TARGET.NEW_LOCAL_DATABASE||(l="New Database:"),d.default.createElement("div",{className:"replication__section"},d.default.createElement("div",{className:"replication__input-label"},l),d.default.createElement("div",null,r))};T.propTypes={databases:d.default.PropTypes.array.isRequired,onLocalTargetChange:d.default.PropTypes.func.isRequired,onRemoteTargetChange:d.default.PropTypes.func.isRequired,remoteTarget:d.default.PropTypes.string.isRequired,localTarget:d.default.PropTypes.string.isRequired,replicationTarget:d.default.PropTypes.string.isRequired},(t.ReplicationTarget=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.replicationTarget,n=e.onLocalTargetChange,a=e.onTargetChange,i=e.databases,o=e.localTarget,s=e.onRemoteTargetChange,r=e.remoteTarget;return d.default.createElement("div",null,d.default.createElement(v,{value:t,onChange:a}),d.default.createElement(T,{remoteTarget:r,replicationTarget:t,databases:i,localTarget:o,onRemoteTargetChange:s,onLocalTargetChange:n}))}}]),t}(d.default.Component)).propTypes={databases:d.default.PropTypes.array.isRequired,onTargetChange:d.default.PropTypes.func.isRequired,onLocalTargetChange:d.default.PropTypes.func.isRequired,onRemoteTargetChange:d.default.PropTypes.func.isRequired,remoteTarget:d.default.PropTypes.string.isRequired,localTarget:d.default.PropTypes.string.isRequired,replicationTarget:d.default.PropTypes.string.isRequired}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(0),u=a(d),c=n(481),f=a(c),p=n(137),h=a(p),m=n(125),g=a(m),_=n(17),E=a(_),b=n(472),v=a(b),y=n(471),D=a(y),C=n(262),T=n(29),N=n(130),S=n(474),I=a(S),w=E.default.LoadLines,O=E.default.Polling,A=E.default.RefreshBtn,R=f.default.replicationStore,P=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getStoreState(),n}return r(t,e),l(t,[{key:"getStoreState",value:function(){var e;return e={loading:R.isLoading(),activityLoading:R.isActivityLoading(),databases:R.getDatabases(),authenticated:R.isAuthenticated(),password:R.getPassword(),replicationSource:R.getReplicationSource(),localSource:R.getlocalSource(),localSourceKnown:R.isLocalSourceKnown(),remoteSource:R.getRemoteSource(),replicationTarget:R.getReplicationTarget(),localTarget:R.getlocalTarget(),localTargetKnown:R.isLocalTargetKnown(),remoteTarget:R.getRemoteTarget(),passwordModalVisible:R.isPasswordModalVisible(),showConflictModal:R.isConflictModalVisible(),replicationType:R.getReplicationType(),replicationDocName:R.getReplicationDocName(),submittedNoChange:R.getSubmittedNoChange(),statusDocs:R.getFilteredReplicationStatus(),statusFilter:R.getStatusFilter(),replicateFilter:R.getReplicateFilter(),allDocsSelected:R.getAllDocsSelected(),someDocsSelected:R.someDocsSelected(),username:R.getUsername()},i(e,"password",R.getPassword()),i(e,"activitySort",R.getActivitySort()),i(e,"tabSection",R.getTabSection()),i(e,"checkingApi",R.checkingAPI()),i(e,"supportNewApi",R.supportNewApi()),i(e,"replicateLoading",R.isReplicateInfoLoading()),i(e,"replicateInfo",R.getReplicateInfo()),i(e,"allReplicateSelected",R.getAllReplicateSelected()),i(e,"someReplicateSelected",R.someReplicateSelected()),e}},{key:"loadReplicationInfo",value:function(e,t){h.default.initReplicator(e.localSource),this.getAllActivity(),e.replicationId&&e.replicationId!==t.replicationId&&(h.default.clearReplicationForm(),h.default.getReplicationStateFrom(e.replicationId))}},{key:"getAllActivity",value:function(){h.default.getReplicationActivity(),h.default.getReplicateActivity()}},{key:"componentDidMount",value:function(){R.on("change",this.onChange,this),this.loadReplicationInfo(this.props,{})}},{key:"componentWillReceiveProps",value:function(e){this.loadReplicationInfo(e,this.props)}},{key:"componentWillUnmount",value:function(){R.off("change",this.onChange),h.default.clearReplicationForm()}},{key:"onChange",value:function(){this.setState(this.getStoreState())}},{key:"showSection",value:function(){var e,t=this.state,n=t.replicationSource,a=t.replicationTarget,o=t.replicationType,s=t.replicationDocName,r=t.passwordModalVisible,l=t.databases,d=t.localSource,c=t.remoteSource,f=t.remoteTarget,p=t.localTarget,m=t.statusDocs,_=t.statusFilter,E=t.loading,b=t.allDocsSelected,y=t.someDocsSelected,T=t.showConflictModal,N=t.localSourceKnown,S=t.localTargetKnown,O=t.username,A=t.password,R=t.authenticated,P=t.activityLoading,L=t.submittedNoChange,M=t.activitySort,k=t.tabSection,x=t.replicateInfo,U=t.replicateLoading,B=t.replicateFilter,V=t.allReplicateSelected,F=t.someReplicateSelected;if("new replication"===k){if(E)return u.default.createElement(w,null);var j=function(e){return function(t){h.default.updateFormField(e,t)}};return u.default.createElement(v.default,{docs:m,localTargetKnown:S,localSourceKnown:N,clearReplicationForm:h.default.clearReplicationForm,replicate:h.default.replicate,showPasswordModal:g.default.showPasswordModal,replicationSource:n,replicationTarget:a,replicationType:o,replicationDocName:s,passwordModalVisible:r,databases:l,localSource:d,remoteSource:c,remoteTarget:f,localTarget:p,updateFormField:j,conflictModalVisible:T,hideConflictModal:h.default.hideConflictModal,showConflictModal:h.default.showConflictModal,checkReplicationDocID:C.checkReplicationDocID,authenticated:R,username:O,password:A,submittedNoChange:L})}return"_replicate"===k?U?u.default.createElement(w,null):u.default.createElement(I.default,i({docs:x,filter:B,onFilterChange:h.default.filterReplicate,selectDoc:h.default.selectReplicate,selectAllDocs:h.default.selectAllReplicates,allDocsSelected:V,someDocsSelected:F,deleteDocs:h.default.deleteDocs,activitySort:M,changeActivitySort:h.default.changeActivitySort},"deleteDocs",h.default.deleteReplicates)):P?u.default.createElement(w,null):u.default.createElement(D.default,(e={docs:m,filter:_,onFilterChange:h.default.filterDocs,selectAllDocs:h.default.selectAllDocs,selectDoc:h.default.selectDoc},i(e,"selectAllDocs",h.default.selectAllDocs),i(e,"allDocsSelected",b),i(e,"someDocsSelected",y),i(e,"deleteDocs",h.default.deleteDocs),i(e,"activitySort",M),i(e,"changeActivitySort",h.default.changeActivitySort),e))}},{key:"getHeaderComponents",value:function(){return"new replication"===this.state.tabSection?null:u.default.createElement("div",{className:"right-header-flex"},u.default.createElement(O,{min:60,max:600,startValue:300,stepSize:60,onPoll:this.getAllActivity.bind(this)}),u.default.createElement(A,{refresh:this.getAllActivity.bind(this)}))}},{key:"getTabElements",value:function(){var e=this.state.tabSection,t=[u.default.createElement(N.TabElement,{key:1,selected:"activity"===e,text:"Replicator DB Activity",onChange:this.onTabChange.bind(this,"activity","#/replication")})];return this.state.supportNewApi&&t.push(u.default.createElement(N.TabElement,{key:2,selected:"_replicate"===e,text:"_replicate Activity",onChange:this.onTabChange.bind(this,"_replicate","#/replication/_replicate")})),t}},{key:"onTabChange",value:function(e,t){h.default.changeTabSection(e,t)}},{key:"getCrumbs",value:function(){return"new replication"===this.state.tabSection?[{name:"Job Configuration"}]:[]}},{key:"getTabs",value:function(){return"new replication"===this.state.tabSection?null:u.default.createElement(N.TabElementWrapper,null,this.getTabElements())}},{key:"render",value:function(){return this.state.checkingAPI?u.default.createElement(w,null):u.default.createElement(T.OnePane,null,u.default.createElement(T.OnePaneHeader,{crumbs:this.getCrumbs()},this.getHeaderComponents()),u.default.createElement(T.OnePaneContent,null,u.default.createElement("div",{className:"template-content flex-body flex-layout flex-col"},this.getTabs(),u.default.createElement("div",{className:"replication__page flex-layout flex-col"},this.showSection()))))}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),o=a(i),s=function(e){var t=o.default.isString(e)?e.trim().replace(/\/$/,""):e.url;return new URL(t).pathname.slice(1)};t.default={getDatabaseLabel:s}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(478),d=a(l),u=n(137),c=a(u),f=r.default.RouteObject.extend({routes:{"replication/_create":"defaultView","replication/_create/:dbname":"defaultView","replication/id/:id":"fromId",replication:"activityView","replication/_replicate":"replicateView"},selectedHeader:"Replication",roles:["fx_loggedIn"],setActivityCrumbs:function(){this.crumbs=[{name:"Replication"}]},setCreateReplicationCrumbs:function(){this.crumbs=[{name:"Replication",link:"replication"},{name:"New Replication"}]},defaultView:function(e){var t=e||"";return c.default.changeTabSection("new replication"),c.default.clearReplicationForm(),o.default.createElement(d.default,{localSource:t})},fromId:function(e){return c.default.clearReplicationForm(),c.default.changeTabSection("new replication"),o.default.createElement(d.default,{replicationId:e})},activityView:function(){return c.default.changeTabSection("activity"),o.default.createElement(d.default,null)},replicateView:function(){return c.default.changeTabSection("_replicate"),o.default.createElement(d.default,null)}});t.default={RouteObjects:[f]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(11),r=a(s),l=n(1),d=a(l),u=n(261),c=a(u),f=n(53),p=a(f),h=n(126),m=a(h),g=n(20),_=a(g),E=i({remoteSource:"_remoteSource",remoteTarget:"_remoteTarget",localTarget:"_localTarget",replicationType:"_replicationType",replicationDocName:"_replicationDocName",replicationSource:"_replicationSource",replicationTarget:"_replicationTarget",localSource:"_localSource"},"replicationDocName","_replicationDocName"),b=d.default.Store.extend((o={initialize:function(){this.reset()},reset:function(){this._loading=!1,this._databases=[],this._authenticated=!1,this._password="",this._replicationSource="",this._localSource="",this._remoteSource="",this._replicationTarget="",this._localTarget="",this._remoteTarget="",this._isPasswordModalVisible=!1,this._isConflictModalVisible=!1,this._replicationType=p.default.REPLICATION_TYPE.ONE_TIME,this._replicationDocName="",this._submittedNoChange=!1,this._statusDocs=[],this._statusFilteredStatusDocs=[],this._statusFilter="",this._replicateFilter="",this._allDocsSelected=!1,this._allReplicateSelected=!1,this._username="",this._password="",this._activityLoading=!1,this._tabSection="new replication",this._supportNewApi=!0,this.loadActivitySort(),this._fetchingReplicateInfo=!1,this._replicateInfo=[],this._checkingAPI=!0,this._supportNewApi=!1},supportNewApi:function(){return this._supportNewApi},checkingAPI:function(){return this._checkingAPI},getActivitySort:function(){return this._activitySort},loadActivitySort:function(){var e={descending:!1,column:"statusTime"},t=r.default.utils.localStorageGet("replication-activity-sort");t||(t=e,this.setActivitySort(t)),this._activitySort=t},setActivitySort:function(e){r.default.utils.localStorageSet("replication-activity-sort",e),this._activitySort=e},isReplicateInfoLoading:function(){return this._fetchingReplicateInfo},getReplicateInfo:function(){var e=this;return this._replicateInfo.filter(function(t){return _.default.values(t).filter(function(t){return!!t&&t.toString().toLowerCase().match(e._replicateFilter)}).length>0})},setReplicateInfo:function(e){this._replicateInfo=e},setCredentials:function(e,t){this._username=e,this._password=t},getUsername:function(){return this._username},getPassword:function(){return this._password},getSubmittedNoChange:function(){return this._submittedNoChange},changeAfterSubmit:function(){this._submittedNoChange=!1},isLoading:function(){return this._loading},isActivityLoading:function(){return this._activityLoading},isAuthenticated:function(){return this._authenticated},getReplicationSource:function(){return this._replicationSource},getlocalSource:function(){return this._localSource},isLocalSourceKnown:function(){return _.default.includes(this._databases,this._localSource)},isLocalTargetKnown:function(){return _.default.includes(this._databases,this._localTarget)},getReplicationTarget:function(){return this._replicationTarget},getDatabases:function(){return this._databases},setDatabases:function(e){this._databases=e},getReplicationType:function(){return this._replicationType},getlocalTarget:function(){return this._localTarget},getReplicationDocName:function(){return this._replicationDocName},setReplicationStatus:function(e){this._statusDocs=e},getReplicationStatus:function(){return this._statusDocs},getFilteredReplicationStatus:function(){var e=this;return this._statusDocs.filter(function(t){return _.default.values(t).filter(function(t){return t?t.toString().toLowerCase().match(e._statusFilter):null}).length>0})},selectDoc:function(e){var t=this._statusDocs.find(function(t){return t._id===e});t&&(t.selected=!t.selected,this._allDocsSelected=!1)},selectReplicate:function(e){var t=this._replicateInfo.find(function(t){return t._id===e});t&&(t.selected=!t.selected,this._allReplicateSelected=!1)},selectAllReplicate:function(){var e=this;this._allReplicateSelected=!this._allReplicateSelected,this.getReplicateInfo().forEach(function(t){return t.selected=e._allReplicateSelected})},someReplicateSelected:function(){return this.getReplicateInfo().some(function(e){return e.selected})},getAllReplicateSelected:function(){return this._allReplicateSelected},selectAllDocs:function(){var e=this;this._allDocsSelected=!this._allDocsSelected,this.getFilteredReplicationStatus().forEach(function(t){return t.selected=e._allDocsSelected})},someDocsSelected:function(){return this.getFilteredReplicationStatus().some(function(e){return e.selected})},getAllDocsSelected:function(){return this._allDocsSelected},setStatusFilter:function(e){this._statusFilter=e},getStatusFilter:function(){return this._statusFilter},setReplicateFilter:function(e){this._replicateFilter=e},getReplicateFilter:function(){return this._replicateFilter},updateFormField:function(e,t){this[E[e]]=t},clearReplicationForm:function(){var e=this;_.default.values(E).forEach(function(t){return e[t]=""})},getRemoteSource:function(){return this._remoteSource},getRemoteTarget:function(){return this._remoteTarget},isPasswordModalVisible:function(){return this._isPasswordModalVisible},isConflictModalVisible:function(){return this._isConflictModalVisible}},i(o,"getPassword",function(){return this._password}),i(o,"setStateFromDoc",function(e){var t=this;Object.keys(e).forEach(function(n){t.updateFormField(n,e[n])})}),i(o,"getTabSection",function(){return this._tabSection}),i(o,"dispatch",function(e){var t=e.type,n=e.options;switch(t){case c.default.INIT_REPLICATION:this._loading=!0,this._localSource=n.localSource,this._localSource&&(this._replicationSource=p.default.REPLICATION_SOURCE.LOCAL,this._remoteSource="",this._replicationTarget="",this._localTarget="",this._remoteTarget="");break;case c.default.REPLICATION_DATABASES_LOADED:this.setDatabases(n.databases),this._loading=!1;break;case c.default.REPLICATION_FETCHING_FORM_STATE:this._loading=!0;break;case c.default.REPLICATION_UPDATE_FORM_FIELD:this.changeAfterSubmit(),this.updateFormField(n.fieldName,n.value);break;case c.default.REPLICATION_CLEAR_FORM:this.clearReplicationForm();break;case c.default.REPLICATION_STARTING:this._submittedNoChange=!0;break;case c.default.REPLICATION_FETCHING_STATUS:this._activityLoading=!0;break;case c.default.REPLICATION_STATUS:this._activityLoading=!1,this.setReplicationStatus(n);break;case c.default.REPLICATION_FILTER_DOCS:this.setStatusFilter(n);break;case c.default.REPLICATION_FILTER_REPLICATE:this.setReplicateFilter(n);break;case c.default.REPLICATION_TOGGLE_DOC:this.selectDoc(n);break;case c.default.REPLICATION_TOGGLE_ALL_DOCS:this.selectAllDocs();break;case c.default.REPLICATION_TOGGLE_REPLICATE:this.selectReplicate(n);break;case c.default.REPLICATION_TOGGLE_ALL_REPLICATE:this.selectAllReplicate();break;case c.default.REPLICATION_SET_STATE_FROM_DOC:this._loading=!1,this.setStateFromDoc(n);break;case c.default.REPLICATION_SHOW_CONFLICT_MODAL:this._isConflictModalVisible=!0;break;case c.default.REPLICATION_HIDE_CONFLICT_MODAL:this._isConflictModalVisible=!1;break;case c.default.REPLICATION_CHANGE_ACTIVITY_SORT:this.setActivitySort(n);break;case c.default.REPLICATION_CLEAR_SELECTED_DOCS:this._allDocsSelected=!1;break;case c.default.REPLICATION_CHANGE_TAB_SECTION:this._tabSection=n;break;case c.default.REPLICATION_CLEAR_SELECTED_DOCS:this._allDocsSelected=!1;break;case c.default.REPLICATION_SUPPORT_NEW_API:this._checkingAPI=!1,this._supportNewApi=n;break;case c.default.REPLICATION_FETCHING_REPLICATE_STATUS:this._fetchingReplicateInfo=!0;break;case c.default.REPLICATION_REPLICATE_STATUS:this._fetchingReplicateInfo=!1,this.setReplicateInfo(n);break;case c.default.REPLICATION_CLEAR_SELECTED_REPLICATES:this._allReplicateSelected=!1;break;case m.default.AUTH_SHOW_PASSWORD_MODAL:this._isPasswordModalVisible=!0;break;case m.default.AUTH_HIDE_PASSWORD_MODAL:this._isPasswordModalVisible=!1;break;case m.default.AUTH_CREDS_VALID:this._authenticated=!0,this.setCredentials(n.username,n.password);break;case m.default.AUTH_CREDS_INVALID:this._authenticated=!1;break;default:return}this.triggerChange()}),o)),v=new b;v.dispatchToken=d.default.dispatcher.register(v.dispatch),t.default={replicationStore:v}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(484),r=a(s);n(585),r.default.initialize=function(){o.default.addHeaderLink({title:"Verify",href:"#/verifyinstall",icon:"fonticon-ok-circled",bottomNav:!0})},t.default=r.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(138),r=a(s),l=n(266),d=a(l),u=n(485),c=a(u),f=c.default.verifyInstallStore,p=o.default.createClass({displayName:"VerifyInstallController",getInitialState:function(){return this.getStoreState()},getStoreState:function(){return{isVerifying:f.checkIsVerifying(),testResults:f.getTestResults()}},startVerification:function(){d.default.startVerification()},onChange:function(){this.setState(this.getStoreState())},componentDidMount:function(){f.on("change",this.onChange,this)},componentWillUnmount:function(){f.off("change",this.onChange)},render:function(){return o.default.createElement("div",null,o.default.createElement(h,{verify:this.startVerification,isVerifying:this.state.isVerifying}),o.default.createElement(m,{testResults:this.state.testResults}))}}),h=o.default.createClass({displayName:"VerifyInstallButton",propTypes:{verify:o.default.PropTypes.func.isRequired,isVerifying:o.default.PropTypes.bool.isRequired},render:function(){return o.default.createElement("button",{id:"start",className:"btn btn-success",onClick:this.props.verify,disabled:this.props.isVerifying},this.props.isVerifying?"Verifying":"Verify Installation")}}),m=o.default.createClass({displayName:"VerifyInstallResults",propTypes:{testResults:o.default.PropTypes.object.isRequired},showTestResult:function(e){return this.props.testResults[e].complete?this.props.testResults[e].success?o.default.createElement("span",null,"✓"):o.default.createElement("span",null,"✗"):""},render:function(){return o.default.createElement("table",{className:"table table-striped table-bordered"},o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",null,"Test"),o.default.createElement("th",null,"Status"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",null,"Create Database"),o.default.createElement("td",{id:"js-test-create-db"},this.showTestResult(r.default.TESTS.CREATE_DATABASE))),o.default.createElement("tr",null,o.default.createElement("td",null,"Create Document"),o.default.createElement("td",{id:"js-test-create-doc"},this.showTestResult(r.default.TESTS.CREATE_DOCUMENT))),o.default.createElement("tr",null,o.default.createElement("td",null,"Update Document"),o.default.createElement("td",{id:"js-test-update-doc"},this.showTestResult(r.default.TESTS.UPDATE_DOCUMENT))),o.default.createElement("tr",null,o.default.createElement("td",null,"Delete Document"),o.default.createElement("td",{id:"js-test-delete-doc"},this.showTestResult(r.default.TESTS.DELETE_DOCUMENT))),o.default.createElement("tr",null,o.default.createElement("td",null,"Create View"),o.default.createElement("td",{id:"js-test-create-view"},this.showTestResult(r.default.TESTS.CREATE_VIEW))),o.default.createElement("tr",null,o.default.createElement("td",null,"Replication"),o.default.createElement("td",{id:"js-test-replication"},this.showTestResult(r.default.TESTS.REPLICATION)))))}});t.default={VerifyInstallController:p,VerifyInstallButton:h,VerifyInstallResults:m}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),s=n(1),r=a(s),l=n(268),d=a(l),u=n(266),c=a(u),f=n(483),p=a(f),h=n(29),m=r.default.RouteObject.extend({routes:{verifyinstall:"verifyInstall"},selectedHeader:"Verify",verifyInstall:function(){return c.default.resetStore(),o.default.createElement(h.OnePaneSimpleLayout,{component:o.default.createElement(p.default.VerifyInstallController,null),crumbs:[{name:"Verify CouchDB Installation"}]})}});d.default.RouteObjects=[m],t.default=d.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(138),r=a(s),l=n(267),d=a(l),u=o.default.Store.extend({initialize:function(){this.reset()},reset:function(){this._isVerifying=!1,this._tests={},_.each(Object.keys(r.default.TESTS),function(e){this._tests[r.default.TESTS[e]]={complete:!1}},this)},startVerification:function(){this._isVerifying=!0},stopVerification:function(){this._isVerifying=!1},checkIsVerifying:function(){return this._isVerifying},updateTestStatus:function(e,t){if(!_.has(this._tests,e))throw new Error("Invalid test name passed to updateTestStatus()");this._tests[e]={complete:!0,success:t}},getTestResults:function(){return this._tests},dispatch:function(e){switch(e.type){case d.default.VERIFY_INSTALL_START:this.startVerification(),this.triggerChange();break;case d.default.VERIFY_INSTALL_RESET:this.reset(),this.triggerChange();break;case d.default.VERIFY_INSTALL_SINGLE_TEST_COMPLETE:this.updateTestStatus(e.test,e.success),this.triggerChange();break;case d.default.VERIFY_INSTALL_ALL_TESTS_COMPLETE:this.stopVerification(),this.triggerChange();break;default:return}}}),c={};c.verifyInstallStore=new u,c.verifyInstallStore.dispatchToken=o.default.dispatcher.register(c.verifyInstallStore.dispatch),t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),o=a(i),s=n(44),r=a(s),l=n(20),d=a(l),u=function(e){this._options=e,this.initialize.apply(this,arguments)};u.extend=r.default.Model.extend,d.default.extend(u.prototype,r.default.Events,{authDeniedCb:function(){},initialize:function(){},authHandlerCb:function(){var e=$.Deferred();return e.resolve(),e},registerAuth:function(e){this.authHandlerCb=e},registerAuthDenied:function(e){this.authDeniedCb=e},checkAccess:function(e){var t=e||[],n=this;if(!o.default.session)throw new Error("Fauxton.session is not configured.");return o.default.session.fetchUser().then(function(){return o.default.when(n.authHandlerCb(o.default.session,t))})}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(10),s=(a(o),n(44)),r=a(s),l=n(20),d=a(l),u=function(e){this._options=e,this.reactComponents={},this._configure(e||{}),this.initialize.apply(this,arguments)};u.extend=r.default.Model.extend;var c=["routes","roles"];d.default.extend(u.prototype,{routes:{},route:function(){},roles:[],initialize:function(){}},{get:function(e){return d.default.isFunction(this[e])?this[e]():this[e]},_configure:function(e){d.default.each(d.default.intersection(d.default.keys(e),c),function(t){this[t]=e[t]},this)},getRouteUrls:function(){return d.default.keys(this.get("routes"))},hasRoute:function(e){return!!this.get("routes")[e]},routeCallback:function(e,t){var n,a=this.get("routes"),o=a[e];return n="object"===(void 0===o?"undefined":i(o))?this[o.route]:this[o],n.apply(this,t)},getRouteRoles:function(e){var t=this.get("routes")[e];return"object"===(void 0===t?"undefined":i(t))&&t.roles?t.roles:this.roles}}),t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(99),o=a(i),s=n(486),r=a(s),l=n(44),d=a(l),u=n(20),c=a(u),f={};t.default=d.default.Router.extend({routes:{},beforeUnload:function(e,t){f[e]=t},removeBeforeUnload:function(e){delete f[e]},navigate:function(e,t){var n=!0,a=c.default.find(c.default.map(f,function(e){return e()}),function(e){if(e)return!0});if(a&&(n=window.confirm(a)),t&&t.redirect)return window.location=e;n&&d.default.Router.prototype.navigate(e,t)},addModuleRouteObject:function(e){var t=this,n=this;e.prototype.getRouteUrls().forEach(function(a){t.route(a,a.toString(),function(){for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];var l=e.prototype.getRouteRoles(a);o.default.auth.checkAccess(l).then(function(){n.activeRouteObject&&n.activeRouteObject.hasRoute(a)||(n.activeRouteObject=new e(a,s));var i=n.activeRouteObject,o=i.routeCallback(a,s);n.currentRouteOptions={selectedHeader:t.activeRouteObject.selectedHeader,component:o,roles:l,route:a.toString()},n.trigger("new-component",t.currentRouteOptions)},function(){o.default.auth.authDeniedCb()})})})},setModuleRoutes:function(e){c.default.each(e,function(e){e&&(e.initialize(),e.RouteObjects&&c.default.each(e.RouteObjects,this.addModuleRouteObject,this))},this)},initialize:function(e){this.addons=e,this.auth=o.default.auth=new r.default,this.setModuleRoutes(e),this.lastPages=[],d.default.history.on("route",function(){this.lastPages.push(d.default.history.fragment),this.lastPages.length>2&&this.lastPages.shift()},this)},triggerRouteEvent:function(e,t){if(this.activeRouteObject){var n=[e].concat(t);this.activeRouteObject.trigger.apply(this.activeRouteObject,n),this.activeRouteObject.renderWith(n,o.default.masterLayout,t)}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=a(i),s=n(20),r=a(s),l=function(){this.initialize.apply(this,arguments),r.default.bindAll(this)};l.extend=o.default.Model.extend,r.default.extend(l.prototype,o.default.Events,{triggerChange:function(){this.trigger("change")},initialize:function(){}}),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={root:"/",version:"1.0.dev",host:"../..",i18n:{en_US:{"mango-descripton":"Mango is an easy way to find documents on predefined indexes.","new-mango-index":"Mango Indexes","mango-help-title":"Mango","run-query-with-mango":"Run A Query with Mango","mango-title-editor":"Mango Query","mango-descripton-index-editor":"Mango is an easy way to find documents on predefined indexes. <br/><br/>Create an Index to query it afterwards. The example in the editor shows how to create an index for the field '_id'. <br/><br/>The Indexes that you already created are listed on the right.","mango-additional-indexes-heading":"Your additional Indexes:","mango-indexeditor-title":"Mango","couchdb-productname":"PouchDB Server","cors-disable-cors-prompt":"Are you sure? Disabling CORS will overwrite your specific origin domains.","cors-notice":"Cross-Origin Resource Sharing (CORS) lets you connect to remote servers directly from the browser, so you can host browser-based apps on static pages and talk directly with PouchDB Server to load your data.","replication-password-modal-header":"Enter Account Password.","replication-password-modal-text":"Replication requires authentication on your credentials."}}}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),o=i.data("modal"),s=e.extend({},e.fn.modal.defaults,i.data(),"object"==(void 0===n?"undefined":a(n))&&n);o||i.data("modal",o=new t(this,s)),"string"==typeof n?o[n]():s.show&&o.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),a=n.attr("href"),i=e(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},i.data(),n.data());t.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),function(e){function t(){e(".dropdown-backdrop").remove(),e(a).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,a=t.attr("data-target");return a||(a=t.attr("href"),a=a&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,"")),n=a&&e(a),n&&n.length||(n=t.parent()),n}var a="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(a){var i,o,s=e(this);if(!s.is(".disabled, :disabled"))return i=n(s),o=i.hasClass("open"),t(),o||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),s.focus(),!1},keydown:function(t){var i,o,s,r,l;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(s=n(i),!(r=s.hasClass("open"))||r&&27==t.keyCode)return 27==t.which&&s.find(a).focus(),i.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),a=n.data("dropdown");a||n.data("dropdown",a=new i(this)),"string"==typeof t&&a[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",a,i.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(e){function t(t,n){var a,i=e.proxy(this.process,this),o=e(e(t).is("body")?window:t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(a=e(t).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this;this.offsets=e([]),this.targets=e([]),this.$body.find(this.selector).map(function(){var n=e(this),a=n.data("target")||n.attr("href"),i=/^#\w/.test(a)&&e(a);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,a=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(t>=a)return s!=(e=o.last()[0])&&this.activate(e);for(e=i.length;e--;)s!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},activate:function(t){var n,a;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),a=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(a).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("scrollspy"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("scrollspy",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,a,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],a=e.Event("show",{relatedTarget:t}),i.trigger(a),a.isDefaultPrevented()||(n=e(s),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),s=a&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,i):i(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var a=e(this),i=a.data("tab");i||a.data("tab",i=new t(this)),"string"==typeof n&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,a){var i,o,s,r,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)r=s[l],"click"==r?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=r&&(i="hover"==r?"mouseenter":"focus",o="hover"==r?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,a=e.fn[this.type].defaults,i={};if(this._options&&e.each(this._options,function(e,t){a[e]!=t&&(i[e]=t)},this),n=e(t.currentTarget)[this.type](i).data(this.type),!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},show:function(){var t,n,a,i,o,s,r=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),a=t[0].offsetWidth,i=t[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case"top":s={top:n.top-i,left:n.left+n.width/2-a/2};break;case"left":s={top:n.top+n.height/2-i/2,left:n.left-a};break;case"right":s={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,a,i,o,s=this.tip(),r=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),n=s[0].offsetWidth,a=s[0].offsetHeight,"top"==t&&a!=l&&(e.top=e.top+l-a,o=!0),"bottom"==t||"top"==t?(i=0,e.left<0&&(i=-2*e.left,e.left=0,s.offset(e),n=s[0].offsetWidth,a=s[0].offsetHeight),this.replaceArrow(i-r+n,n,"left")):this.replaceArrow(a-l,a,"top"),o&&s.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),a=e.Event("hide");if(this.$element.trigger(a),!a.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("tooltip"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("tooltip",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("popover"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("popover",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),s=this.options.offset,r=s.bottom,l=s.top;"object"!=(void 0===s?"undefined":a(s))&&(r=l=s),"function"==typeof l&&(l=s.top()),"function"==typeof r&&(r=s.bottom()),t=!(null!=this.unpin&&i+this.unpin<=o.top)&&(null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=l&&i<=l&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("affix"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("affix",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){a.trigger("closed").remove()}var a,i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),a=e(o),t&&t.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(t=e.Event("close")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.on(e.support.transition.end,n):n())};var a=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var a=e(this),i=a.data("alert");i||a.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(a)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,a=n.data(),i=n.is("input")?"val":"html";e+="Text",a.resetText||n.data("resetText",n[i]()),n[i](a[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("button"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("button",o=new t(this,s)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,n,a,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),(a=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&a.length){if((i=a.data("collapse"))&&i.transitioning)return;a.collapse("hide"),i||a.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,a){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(a)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("collapse"),s=e.extend({},e.fn.collapse.defaults,i.data(),"object"==(void 0===n?"undefined":a(n))&&n);o||i.data("collapse",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,a=e(this),i=a.attr("data-target")||t.preventDefault()||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(i).data("collapse")?"toggle":a.data();a[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(o)})}(window.jQuery),function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),a=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){a.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,n){var a,i=this.$element.find(".item.active"),o=n||i[t](),s=this.interval,r="next"==t?"left":"right",l="next"==t?"first":"last",d=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),a=e.Event("slide",{relatedTarget:o[0],direction:r}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(d.$indicators.children()[d.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(a),a.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,i.addClass(r),o.addClass(r),this.$element.one(e.support.transition.end,function(){o.removeClass([t,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),d.sliding=!1,setTimeout(function(){d.$element.trigger("slid")},0)})}else{if(this.$element.trigger(a),a.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("carousel"),s=e.extend({},e.fn.carousel.defaults,"object"==(void 0===n?"undefined":a(n))&&n),r="string"==typeof n?n:s.slide;o||i.data("carousel",o=new t(this,s)),"number"==typeof n?o.to(n):r?o[r]():s.interval&&o.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,a,i=e(this),o=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),i.data());o.carousel(s),(a=i.attr("data-slide-to"))&&o.data("carousel").pause().to(a).cycle(),t.preventDefault()})}(window.jQuery),function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],a=[],i=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?a.push(t):i.push(t):n.push(t);return n.concat(a,i)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,a){return t=e(n.options.item).attr("data-value",a),t.find("a").html(n.highlighter(a)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),a=n.next();a.length||(a=e(this.$menu.find("li")[0])),a.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),o=i.data("typeahead"),s="object"==(void 0===n?"undefined":a(n))&&n;o||i.data("typeahead",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery)},function(e,t,n){"use strict";var a,i;!function(){function n(e,t){return new o(e,t).beautify()}function o(e,t){function n(e,t){var n=0;return e&&(n=e.indentation_level,n+=e.var_line&&e.var_line_reindented?1:0,!l()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:$.length,had_comment:!1,ternary_depth:0}}function a(){return{text:[]}}function i(e){if(e=void 0!==e&&e,$.length)for(o($[$.length-1],e);e&&$.length>1&&0===$[$.length-1].text.length;)$.pop(),o($[$.length-1],e)}function o(e){for(;e.text.length&&(" "===e.text[e.text.length-1]||e.text[e.text.length-1]===J||e.text[e.text.length-1]===Ee);)e.text.pop()}function s(e){return e.replace(/^\s+|\s+$/g,"")}function r(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function l(){return 0===$[$.length-1].text.length}function d(){return!!l()&&(1===$.length||0===$[$.length-2].text.length)}function u(e){if(e=void 0!==e&&e,_e.wrap_line_length&&!e){var t=$[$.length-1];t.text.length>0&&t.text.join("").length+z.length+(ce?1:0)>=_e.wrap_line_length&&(e=!0)}(_e.preserve_newlines&&de||e)&&!l()&&(c(!1,!0),v(Z.mode)||y(Z.mode)||(ue=!0))}function c(e,t){if(ue=!1,ce=!1,!t&&";"!==Z.last_text)for(;Z.mode===ge.Statement&&!Z.if_block&&!Z.do_block;)D();1===$.length&&l()||!e&&l()||(Z.multiline_frame=!0,$.push(a()))}function f(){if(l()){var e=$[$.length-1];if(_e.keep_array_indentation&&v(Z.mode)&&de){e.text.push("");for(var t=0;t<he.length;t+=1)e.text.push(he[t])}else Ee&&e.text.push(Ee),p(Z.indentation_level+(Z.var_line&&Z.var_line_reindented?1:0)+(ue?1:0))}}function p(e){if($.length>1){var t=$[$.length-1];Z.line_indent_level=e;for(var n=0;n<e;n+=1)t.text.push(J)}}function h(){var e=$[$.length-1];if(ce&&e.text.length){var t=e.text[e.text.length-1];" "!==t&&t!==J&&e.text.push(" ")}}function m(e){e=e||z,f(),ue=!1,h(),ce=!1,$[$.length-1].text.push(e)}function g(){Z.indentation_level+=1}function _(){Z.indentation_level>0&&(!Z.parent||Z.indentation_level>Z.parent.indentation_level)&&(Z.indentation_level-=1)}function E(e){if(!e.multiline_frame)for(var t,n=e.start_line_index,a=0;n<$.length;)t=$[n],n++,0!==t.text.length&&(a=Ee&&t.text[0]===Ee?1:0,t.text[a]===J&&t.text.splice(a,1))}function b(e){Z?(te.push(Z),ee=Z):ee=n(null,e),Z=n(ee,e)}function v(e){return e===ge.ArrayLiteral}function y(e){return I(e,[ge.Expression,ge.ForInitializer,ge.Conditional])}function D(){te.length>0&&(ee=Z,Z=te.pop())}function C(){return Z.mode===ge.ObjectLiteral&&":"===Z.last_text&&0===Z.ternary_depth}function T(){return("do"===Z.last_text||"else"===Z.last_text&&"if"!==z||"TK_END_EXPR"===Y&&(ee.mode===ge.ForInitializer||ee.mode===ge.Conditional))&&(u(I(z,["do","for","if","while"])),b(ge.Statement),l()&&(g(),ue=!1),!0)}function N(e,t){for(var n=0;n<e.length;n++)if(s(e[n]).charAt(0)!==t)return!1;return!0}function S(e){return I(e,["case","return","do","if","throw","else"])}function I(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function w(e){for(var t,n=!1,a="",i=0,o="",s=0;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)o=e.substr(i,2),i+=2;else{if("u"!==t){a+="\\"+t;continue}o=e.substr(i,4),i+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if((s=parseInt(o,16))>=0&&s<32){a+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===s||39===s||92===s)a+="\\"+String.fromCharCode(s);else{if("x"===t&&s>126&&s<=255)return e;a+=String.fromCharCode(s)}}else"\\"===t?n=!0:a+=t;return a}function O(e){for(var t=oe,n=K.charAt(t);I(n,ne)&&n!==e;){if(++t>=fe)return!1;n=K.charAt(t)}return n===e}function A(){var e;if(pe=0,oe>=fe)return["","TK_EOF"];de=!1,he=[];var t=K.charAt(oe);for(oe+=1;I(t,ne);){if("\n"===t?(pe+=1,he=[]):pe&&(t===J?he.push(J):"\r"!==t&&he.push(" ")),oe>=fe)return["","TK_EOF"];t=K.charAt(oe),oe+=1}if(I(t,ae)){if(oe<fe)for(;I(K.charAt(oe),ae)&&(t+=K.charAt(oe),(oe+=1)!==fe););if(oe!==fe&&t.match(/^[0-9]+[Ee]$/)&&("-"===K.charAt(oe)||"+"===K.charAt(oe))){var n=K.charAt(oe);return oe+=1,t+=n+A()[0],[t,"TK_WORD"]}return"in"===t?[t,"TK_OPERATOR"]:[t,"TK_WORD"]}if("("===t||"["===t)return[t,"TK_START_EXPR"];if(")"===t||"]"===t)return[t,"TK_END_EXPR"];if("{"===t)return[t,"TK_START_BLOCK"];if("}"===t)return[t,"TK_END_BLOCK"];if(";"===t)return[t,"TK_SEMICOLON"];if("/"===t){var a="",i=!0;if("*"===K.charAt(oe)){if((oe+=1)<fe)for(;oe<fe&&("*"!==K.charAt(oe)||!K.charAt(oe+1)||"/"!==K.charAt(oe+1))&&(t=K.charAt(oe),a+=t,"\n"!==t&&"\r"!==t||(i=!1),!((oe+=1)>=fe)););return oe+=2,i&&0===pe?["/*"+a+"*/","TK_INLINE_COMMENT"]:["/*"+a+"*/","TK_BLOCK_COMMENT"]}if("/"===K.charAt(oe)){for(a=t;"\r"!==K.charAt(oe)&&"\n"!==K.charAt(oe)&&(a+=K.charAt(oe),!((oe+=1)>=fe)););return[a,"TK_COMMENT"]}}if("'"===t||'"'===t||("/"===t||_e.e4x&&"<"===t&&K.slice(oe-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_WORD"===Y&&S(Z.last_text)||"TK_END_EXPR"===Y&&I(ee.mode,[ge.Conditional,ge.ForInitializer])||I(Y,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var o=t,r=!1,l=!1;if(e=t,oe<fe)if("/"===o){for(var d=!1;r||d||K.charAt(oe)!==o;)if(e+=K.charAt(oe),r?r=!1:(r="\\"===K.charAt(oe),"["===K.charAt(oe)?d=!0:"]"===K.charAt(oe)&&(d=!1)),(oe+=1)>=fe)return[e,"TK_STRING"]}else if(_e.e4x&&"<"===o){var u=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,c=K.slice(oe-1),f=u.exec(c);if(f&&0===f.index){for(var p=f[2],h=0;f;){var m=!!f[1],g=f[2],_=!!f[f.length-1]||"![CDATA["===g.slice(0,8);if(g!==p||_||(m?--h:++h),h<=0)break;f=u.exec(c)}var E=f?f.index+f[0].length:c.length;return oe+=E-1,[c.slice(0,E),"TK_STRING"]}}else for(;r||K.charAt(oe)!==o;)if(e+=K.charAt(oe),r?("x"!==K.charAt(oe)&&"u"!==K.charAt(oe)||(l=!0),r=!1):r="\\"===K.charAt(oe),(oe+=1)>=fe)return[e,"TK_STRING"];if(oe+=1,e+=o,l&&_e.unescape_strings&&(e=w(e)),"/"===o)for(;oe<fe&&I(K.charAt(oe),ae);)e+=K.charAt(oe),oe+=1;return[e,"TK_STRING"]}if("#"===t){if(1===$.length&&0===$[0].text.length&&"!"===K.charAt(oe)){for(e=t;oe<fe&&"\n"!==t;)t=K.charAt(oe),e+=t,oe+=1;return[s(e)+"\n","TK_UNKNOWN"]}var b="#";if(oe<fe&&I(K.charAt(oe),re)){do{t=K.charAt(oe),b+=t,oe+=1}while(oe<fe&&"#"!==t&&"="!==t);return"#"===t||("["===K.charAt(oe)&&"]"===K.charAt(oe+1)?(b+="[]",oe+=2):"{"===K.charAt(oe)&&"}"===K.charAt(oe+1)&&(b+="{}",oe+=2)),[b,"TK_WORD"]}}if("<"===t&&"\x3c!--"===K.substring(oe-1,oe+3)){for(oe+=3,t="\x3c!--";"\n"!==K.charAt(oe)&&oe<fe;)t+=K.charAt(oe),oe++;return Z.in_html_comment=!0,[t,"TK_COMMENT"]}if("-"===t&&Z.in_html_comment&&"--\x3e"===K.substring(oe-1,oe+2))return Z.in_html_comment=!1,oe+=2,["--\x3e","TK_COMMENT"];if("."===t)return[t,"TK_DOT"];if(I(t,ie)){for(;oe<fe&&I(t+K.charAt(oe),ie)&&(t+=K.charAt(oe),!((oe+=1)>=fe)););return","===t?[t,"TK_COMMA"]:"="===t?[t,"TK_EQUALS"]:[t,"TK_OPERATOR"]}return[t,"TK_UNKNOWN"]}function R(){T();var e=ge.Expression;if("["===z){if("TK_WORD"===Y||")"===Z.last_text)return I(Z.last_text,se)&&(ce=!0),b(e),m(),g(),void(_e.space_in_paren&&(ce=!0));e=ge.ArrayLiteral,v(Z.mode)&&("["!==Z.last_text&&(","!==Z.last_text||"]"!==X&&"}"!==X)||_e.keep_array_indentation||c())}else"for"===Z.last_text?e=ge.ForInitializer:I(Z.last_text,["if","while"])&&(e=ge.Conditional);";"===Z.last_text||"TK_START_BLOCK"===Y?c():"TK_END_EXPR"===Y||"TK_START_EXPR"===Y||"TK_END_BLOCK"===Y||"."===Z.last_text?(u(de),ue=!1):"TK_WORD"!==Y&&"TK_OPERATOR"!==Y?ce=!0:"function"===Z.last_word||"typeof"===Z.last_word?_e.jslint_happy&&(ce=!0):(I(Z.last_text,se)||"catch"===Z.last_text)&&_e.space_before_conditional&&(ce=!0),"("===z&&("TK_EQUALS"!==Y&&"TK_OPERATOR"!==Y||C()||u()),b(e),m(),_e.space_in_paren&&(ce=!0),g()}function P(){for(;Z.mode===ge.Statement;)D();"]"===z&&v(Z.mode)&&Z.multiline_frame&&!_e.keep_array_indentation&&c(),Z.multiline_frame&&u(),_e.space_in_paren&&("TK_START_EXPR"===Y?(i(),ce=!1):ce=!0),"]"===z&&_e.keep_array_indentation?(m(),D()):(D(),m()),E(ee),Z.do_while&&ee.mode===ge.Conditional&&(ee.mode=ge.Expression,Z.do_block=!1,Z.do_while=!1)}function L(){b(ge.BlockStatement);var e=O("}"),t=e&&"function"===Z.last_word&&"TK_END_EXPR"===Y;"expand"===_e.brace_style?"TK_OPERATOR"!==Y&&(t||"TK_EQUALS"===Y||S(Z.last_text)&&"else"!==Z.last_text)?ce=!0:c():"TK_OPERATOR"!==Y&&"TK_START_EXPR"!==Y?"TK_START_BLOCK"===Y?c():ce=!0:v(ee.mode)&&","===Z.last_text&&("}"===X?ce=!0:c()),m(),g()}function M(){for(;Z.mode===ge.Statement;)D();var e="TK_START_BLOCK"===Y;"expand"===_e.brace_style?e||c():e||(v(Z.mode)&&_e.keep_array_indentation?(_e.keep_array_indentation=!1,c(),_e.keep_array_indentation=!0):c()),D(),m()}function k(){if(T()||!de||y(Z.mode)||"TK_OPERATOR"===Y&&"--"!==Z.last_text&&"++"!==Z.last_text||"TK_EQUALS"===Y||!_e.preserve_newlines&&"var"===Z.last_text||c(),Z.do_block&&!Z.do_while){if("while"===z)return ce=!0,m(),ce=!0,void(Z.do_while=!0);c(),Z.do_block=!1}if(Z.if_block&&"else"!==z){for(;Z.mode===ge.Statement;)D();Z.if_block=!1}if("case"===z||"default"===z&&Z.in_case_statement)return c(),(Z.case_body||_e.jslint_happy)&&(_(),Z.case_body=!1),m(),Z.in_case=!0,void(Z.in_case_statement=!0);if("function"===z&&(Z.var_line&&"TK_EQUALS"!==Y&&(Z.var_line_reindented=!0),(I(Z.last_text,["}",";"])||l()&&!I(Z.last_text,["{",":","=",","]))&&(d()||Z.had_comment||(c(),c(!0))),"TK_WORD"===Y?"get"===Z.last_text||"set"===Z.last_text||"new"===Z.last_text||"return"===Z.last_text?ce=!0:c():"TK_OPERATOR"===Y||"="===Z.last_text?ce=!0:y(Z.mode)||c()),"TK_COMMA"!==Y&&"TK_START_EXPR"!==Y&&"TK_EQUALS"!==Y&&"TK_OPERATOR"!==Y||C()||u(),"function"===z)return m(),void(Z.last_word=z);if(le="NONE","TK_END_BLOCK"===Y?I(z,["else","catch","finally"])?"expand"===_e.brace_style||"end-expand"===_e.brace_style?le="NEWLINE":(le="SPACE",ce=!0):le="NEWLINE":"TK_SEMICOLON"===Y&&Z.mode===ge.BlockStatement?le="NEWLINE":"TK_SEMICOLON"===Y&&y(Z.mode)?le="SPACE":"TK_STRING"===Y?le="NEWLINE":"TK_WORD"===Y?le="SPACE":"TK_START_BLOCK"===Y?le="NEWLINE":"TK_END_EXPR"===Y&&(ce=!0,le="NEWLINE"),I(z,se)&&")"!==Z.last_text&&(le="else"===Z.last_text?"SPACE":"NEWLINE"),I(z,["else","catch","finally"]))if("TK_END_BLOCK"!==Y||"expand"===_e.brace_style||"end-expand"===_e.brace_style)c();else{i(!0);var e=$[$.length-1];"}"!==e.text[e.text.length-1]&&c(),ce=!0}else"NEWLINE"===le?S(Z.last_text)?ce=!0:"TK_END_EXPR"!==Y?"TK_START_EXPR"===Y&&"var"===z||":"===Z.last_text||("if"===z&&"else"===Z.last_word&&"{"!==Z.last_text?ce=!0:(Z.var_line=!1,Z.var_line_reindented=!1,c())):I(z,se)&&")"!==Z.last_text&&(Z.var_line=!1,Z.var_line_reindented=!1,c()):v(Z.mode)&&","===Z.last_text&&"}"===X?c():"SPACE"===le&&(ce=!0);m(),Z.last_word=z,"var"===z&&(Z.var_line=!0,Z.var_line_reindented=!1,Z.var_line_tainted=!1),"do"===z&&(Z.do_block=!0),"if"===z&&(Z.if_block=!0)}function x(){for(T()&&(ce=!1);Z.mode===ge.Statement&&!Z.if_block&&!Z.do_block;)D();m(),Z.var_line=!1,Z.var_line_reindented=!1,Z.mode===ge.ObjectLiteral&&(Z.mode=ge.BlockStatement)}function U(){T()?ce=!0:"TK_WORD"===Y?ce=!0:"TK_COMMA"===Y||"TK_START_EXPR"===Y||"TK_EQUALS"===Y||"TK_OPERATOR"===Y?C()||u():c(),m()}function B(){Z.var_line&&(Z.var_line_tainted=!0),ce=!0,m(),ce=!0}function V(){if(Z.var_line)return(y(Z.mode)||"TK_END_BLOCK"===Y)&&(Z.var_line_tainted=!1),Z.var_line&&(Z.var_line_reindented=!0),m(),void(Z.var_line_tainted?(Z.var_line_tainted=!1,c()):ce=!0);"TK_END_BLOCK"===Y&&Z.mode!==ge.Expression?(m(),Z.mode===ge.ObjectLiteral&&"}"===Z.last_text?c():ce=!0):Z.mode===ge.ObjectLiteral?(m(),c()):(m(),ce=!0)}function F(){var e=!0,t=!0;return S(Z.last_text)?(ce=!0,void m()):"*"!==z||"TK_DOT"!==Y||X.match(/^\d+$/)?":"===z&&Z.in_case?(Z.case_body=!0,g(),m(),c(),void(Z.in_case=!1)):"::"===z?void m():(!de||"--"!==z&&"++"!==z||c(),I(z,["--","++","!"])||I(z,["-","+"])&&(I(Y,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||I(Z.last_text,se)||","===Z.last_text)?(e=!1,t=!1,";"===Z.last_text&&y(Z.mode)&&(e=!0),"TK_WORD"===Y&&I(Z.last_text,se)&&(e=!0),Z.mode!==ge.BlockStatement&&Z.mode!==ge.Statement||"{"!==Z.last_text&&";"!==Z.last_text||c()):":"===z?0===Z.ternary_depth?(Z.mode===ge.BlockStatement&&(Z.mode=ge.ObjectLiteral),e=!1):Z.ternary_depth-=1:"?"===z&&(Z.ternary_depth+=1),ce=ce||e,m(),void(ce=t)):void m()}function j(){var e,t=r(z),n=!1;for(c(!1,!0),t.length>1&&N(t.slice(1),"*")&&(n=!0),m(t[0]),e=1;e<t.length;e++)c(!1,!0),n?m(" "+s(t[e])):$[$.length-1].text.push(t[e]);c(!1,!0)}function H(){ce=!0,m(),ce=!0}function G(){de?c(!1,!0):i(!0),ce=!0,m(),c(!1,!0)}function q(){S(Z.last_text)?ce=!0:u(")"===Z.last_text&&_e.break_chained_methods),m()}function W(){m(),"\n"===z[z.length-1]&&c()}var K,$,z,Q,Y,X,J,Z,ee,te,ne,ae,ie,oe,se,re,le,de,ue,ce,fe,pe,he,me,ge,_e,Ee="";for(ne="\n\r\t ".split(""),ae="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),re="0123456789".split(""),ie="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",ie+=" <%= <% %> <?= <? ?>",ie=ie.split(" "),se="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),ge={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},me={TK_START_EXPR:R,TK_END_EXPR:P,TK_START_BLOCK:L,TK_END_BLOCK:M,TK_WORD:k,TK_SEMICOLON:x,TK_STRING:U,TK_EQUALS:B,TK_OPERATOR:F,TK_COMMA:V,TK_BLOCK_COMMENT:j,TK_INLINE_COMMENT:H,TK_COMMENT:G,TK_DOT:q,TK_UNKNOWN:W},t=t||{},_e={},void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(_e.brace_style=t.braces_on_own_line?"expand":"collapse"),_e.brace_style=t.brace_style?t.brace_style:_e.brace_style?_e.brace_style:"collapse","expand-strict"===_e.brace_style&&(_e.brace_style="expand"),_e.indent_size=t.indent_size?parseInt(t.indent_size,10):4,_e.indent_char=t.indent_char?t.indent_char:" ",_e.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,_e.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,_e.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),_e.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,_e.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,_e.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,_e.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,_e.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,_e.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),_e.e4x=void 0!==t.e4x&&t.e4x,t.indent_with_tabs&&(_e.indent_char="\t",_e.indent_size=1),J="";_e.indent_size>0;)J+=_e.indent_char,_e.indent_size-=1;for(;e&&(" "===e.charAt(0)||"\t"===e.charAt(0));)Ee+=e.charAt(0),e=e.substring(1);K=e,fe=e.length,Y="TK_START_BLOCK",X="",$=[a()],ue=!1,ce=!1,he=[],te=[],b(ge.BlockStatement),oe=0,this.beautify=function(){for(var e,t,n,a;e=A(),z=e[0],"TK_EOF"!==(Q=e[1]);){if(n=_e.keep_array_indentation&&v(Z.mode),de=pe>0,n)for(t=0;t<pe;t+=1)c(t>0);else if(_e.max_preserve_newlines&&pe>_e.max_preserve_newlines&&(pe=_e.max_preserve_newlines),_e.preserve_newlines&&pe>1)for(c(),t=1;t<pe;t+=1)c(!0);me[Q](),"TK_INLINE_COMMENT"!==Q&&"TK_COMMENT"!==Q&&"TK_BLOCK_COMMENT"!==Q&&"TK_UNKNOWN"!==Q&&(X=Z.last_text,Y=Q,Z.last_text=z),Z.had_comment="TK_INLINE_COMMENT"===Q||"TK_COMMENT"===Q||"TK_BLOCK_COMMENT"===Q}a=$[0].text.join("");for(var i=1;i<$.length;i++)a+="\n"+$[i].text.join("");return a=a.replace(/[\r\n ]+$/,"")}}a=[],void 0!==(i=function(){return n}.apply(t,a))&&(e.exports=i)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"dashboard.assets/img/pouchdb-favicon.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=a(i),s=n(0),r=a(s),l=n(10),d=a(l),u=n(1),c=a(u),f=n(391),p=a(f),h=n(44),m=a(h),g=n(49),_=a(g),E=n(390),b=a(E),v=n(203),y=n(392),D=a(y),C=n(202);o.default.addons=p.default,c.default.router=o.default.router=new c.default.Router(o.default.addons),m.default.history.start({pushState:!1,root:o.default.root}),"ActiveXObject"in window&&_.default.ajaxSetup({cache:!1}),(0,_.default)(document).on("click","a:not([data-bypass])",function(e){var t={prop:(0,_.default)(this).prop("href"),attr:(0,_.default)(this).attr("href")},n=location.protocol+"//"+location.host;t.prop&&t.prop.slice(0,n.length)===n&&(e.preventDefault(),o.default.router.navigate(t.attr,!0))});var T=[D.default],N=(0,v.createStore)((0,v.combineReducers)(c.default.reducers),v.applyMiddleware.apply(void 0,T));d.default.render(r.default.createElement(C.Provider,{store:N},r.default.createElement(b.default,{router:o.default.router})),document.getElementById("app"))}],[887]);